define(["ojs/ojcore","jquery","jqueryui"],function(a,e){function d(c,a,b,d,l){var k=a[b];Object.defineProperty(a,b,{get:function(){if(b===c.Gy)return k||{};if(void 0!==k&&!e.isPlainObject(k))return k;var a=d(l?l():b);return e.isPlainObject(a)?e.widget.extend({},a||{},k||{}):void 0===k?a:k},set:function(c){k=c},enumerable:!0})}a.Components={};o_("Components",a.Components,a);a.Components.GA=function(c){a.Components.cv=e.widget.extend(a.Components.cv||{},c)};o_("Components.setDefaultOptions",a.Components.GA,
a);a.Components.Pz=function(){return a.Components.cv||{}};o_("Components.getDefaultOptions",a.Components.Pz,a);a.Components.dA=function(c,a){var d=e(c);if(null==a){var g=d.data(b);g&&(a=g[0])}return null!=a&&(g=d[a],"function"===typeof g)?g.bind(d):null};o_("Components.getWidgetConstructor",a.Components.dA,a);a.Components.Fl="data-oj-container";var b="oj-widget-names";e.widget("oj.baseComponent",{options:{contextMenu:{menu:null}},refresh:function(){this.zq=null},_createWidget:function(c,a){this.activeable=
e();this._super(c,a);var d=this.element,g=this.widgetName,l=d.data(b);l||(l=[],d.data(b,l));0>l.indexOf(g)&&l.push(g)},_create:function(){this.gJ();this.lr=this.eventNamespace+"contextMenu";this.Hy();this.Fq=[];this._SaveAttributes(this.element)},_SaveAttributes:function(c){var a=this;e.each(c,function(c,b){var d={},k=b.attributes;a.Fq.push({element:b,attributes:d});e.each(k,function(c,a){var f=a.name,h={attr:a.value};h.prop=e(b).prop(f);d[f]=h})})},_GetSavedAttributes:function(c){var a=this.Fq;c=
c[0];for(var b=0,d=a.length;b<d;b++){var e=a[b];if(e.element===c)return e.attributes}return{}},_RestoreAttributes:function(){e.each(this.Fq,function(c,a){var b=e(a.element),d=a.attributes;if(1===b.length){for(var l=a.element.attributes,k=[],m=0,n=l.length;m<n;m++)l[m].name in d||k.push(l[m].name);m=0;for(n=k.length;m<n;m++)b.removeAttr(k[m]);for(var p in d)b.attr(p,d[p].attr)}})},Dt:function(c){var b=this.Ts(),d=a.Q.rr(b)||{},g;for(g in d)c[g]=function(c){return a.Q.rr(b)[c]}},Ts:o_c("widgetFullName"),
n:function(c,b){var d={},g;2<arguments.length?d=Array.prototype.slice.call(arguments,1):2==arguments.length&&(d=arguments[1],"object"===typeof d||d instanceof Array||(d=[d]));g=this.options[c];return null==g?c:a.Q.$a(g.toString(),d)},getNodeBySubId:function(c){return null==c||c.subId?this.element?this.element[0]:null:null},destroy:function(){this.gz();this._super();this.widget().removeClass("oj-disabled");this.hoverable.removeClass("oj-hover");this.focusable.removeClass("oj-focus");this.activeable.removeClass("oj-active");
var c=this.element,a=this.widgetName,d=c.data(b);d&&(a=d.indexOf(a),0<=a&&(d.splice(a,1),0===d.length&&c.removeData(b)))},option:function(c,a){var b;if(0<arguments.length&&"string"===typeof c&&void 0!==a){var d=c.indexOf(".");0<d&&(this.Gy=c.substring(0,d))}try{b=this._superApply(arguments)}finally{return this.Gy=null,b}},_setOption:function(c,a){"disabled"===c?(this.options[c]=a,this.widget().toggleClass("oj-disabled",!!a).attr("aria-disabled",a),a&&(this.hoverable.removeClass("oj-hover"),this.focusable.removeClass("oj-focus"),
this.activeable.removeClass("oj-active"))):(this._super(c,a),"contextMenu"===c&&this.Hy());return this},Hy:function(){this.gz();var c=this.options.contextMenu;c&&(c=c.menu);c||(c=this.element.attr("contextmenu"));c&&(c=e("#"+c).data("oj-ojMenu"));if(c){var a=this;this.Uw().on("keydown"+this.lr+" contextmenu"+this.lr,function(b){return"contextmenu"===b.type||121==b.which&&b.shiftKey?(a.ag(c,b),!1):!0})}},gz:function(){this.Uw().off(this.lr)},ag:function(c,a){c.show(a,{launcher:this.element,focus:"menu"})},
Uw:function(){var c=this.widget();return c?c:e()},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){e(c.currentTarget).addClass("oj-hover")},mouseleave:function(c){e(c.currentTarget).removeClass("oj-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){e(c.currentTarget).addClass("oj-focus")},focusout:function(c){e(c.currentTarget).removeClass("oj-focus")}})},hj:function(c){this.activeable=this.activeable.add(c);
this._on(c,{mousedown:function(c){e(c.currentTarget).addClass("oj-active")},mouseup:function(c){e(c.currentTarget).removeClass("oj-active")}})},yr:function(c){return this.options[c]},_GetReadingDirection:function(){return"rtl"===document.documentElement.dir?"rtl":"ltr"},zF:function(){if(!this.zq){var c={};this.zq=c;for(var b=this.element[0],d=[];b;){var g=b.getAttribute,g=g?g.call(b,a.Components.Fl):null;null!=g&&d.push(g);b=b.parentNode}c.containers=d}return this.zq},gJ:function(){function c(){return m.zF()}
for(var b=[],h=this.constructor.prototype;null!=h&&h.widgetName;)b.push(h.widgetName),h=Object.getPrototypeOf(h);b.push("default");for(var h={},g=a.Components.Pz(),l=b.length;0<=l;l--){var k=g[b[l]];void 0!==k&&(h=e.widget.extend(h,k))}var m=this,n;for(n in h)if(b=h[n],g=this.options[n],void 0===g||e.isPlainObject(g))e.isFunction(b)?d(this,this.options,n,b,c):e.isPlainObject(b)?this.options[n]=e.widget.extend({},b,g||{}):void 0===g&&(this.options[n]=b);n={};this.Dt(n);for(var p in n)d(this,this.options,
p,n[p])}});a.ga=function(c,a,b){e.widget(c,a,b);if("oj.oj"===c.substring(0,5)||"oj._oj"===c.substring(0,6)){a=c.split(".");c=a[0];a=a[1];var d=c+"-"+a;e.expr[":"][("_"===a.substring(0,1)?"_"+c+"-"+a.substring(3):c+"-"+a.substring(2)).toLowerCase()]=function(c){return!!e.data(c,d)}}};a.$M=e.widget("oj.editableValue",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{converter:null,disabled:null,help:{definition:null,source:null},messages:null,messagingDisplayOptions:void 0,pattern:"",required:"",
title:"",validators:null,value:null,optionChange:null,rootAttributes:void 0},option:function(c,a){var b,d,l,k=!1,m,n=!1;b=!1;var p=!0,q=!1;if("string"===typeof c&&void 0!==a)switch(c){case "value":k=!0;d=this.options.value;break;case "messages":n=!0;l=this.options.messages||[];break;case "messagingDisplayOptions":e.extend({},this.options.messagingDisplayOptions)}else"object"===typeof c&&c&&(void 0!==c.value&&(k=!0,d=this.options.value,b=!0),void 0!==c.messages&&(n=!0,l=this.options.messages,b=!0),
c.messagingDisplayOptions&&e.extend({},this.options.messagingDisplayOptions),c.placeholder&&(q=!0,p=c._oj_messaging_update?!1:!0,delete c._oj_messaging_update),b&&(m=c._oj_originalEvent,delete c._oj_originalEvent));b=this._superApply(arguments);k&&(k=this.options.value,this._ValueEquals(d,k)||this._TriggerOptionChange("value",d,m||null));n&&!this._ValueEquals(l,this.options.messages)&&this._TriggerOptionChange("messages",l,m||null);q&&p&&this.Pm();return b},isValid:o_c("wg"),refresh:function(){this._super();
this._Refresh("value",this.options.value);this.Gx("required",this.options.required);this.Ox("required",this.options.required);null!==this.Da&&this.Da._ojLabel("refresh")},validate:function(c){this.lv(this.options.value,void 0,c?this.Ef.As:this.Ef.lo);return this.isValid()?!0:!1},Ef:{ps:1,lo:2,As:3,NONE:4},_create:function(){this._super();this.widget().addClass("oj-form-control");this.options.value||(this.options.value=this._GetElementValue());"boolean"!==typeof this.options.disabled?this.options.disabled=
!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this.jE()},_SaveAttributes:function(c){var a=this._superApply(arguments),b=this._GetSavedAttributes(c);this.options.required||(this.options.required="required"in b&&b.required.prop?"required":"optional");this.options.title||(this.options.title="title"in b?b.title.prop||"":"");this.options.pattern||(this.options.pattern="pattern"in b?b.pattern.prop||"":"");this.options.pattern&&(this._GetDefaultValidators().regExp=
this.xF());e.each(["required","title","pattern"],function(a,f){f in b&&c.removeAttr(f)});return a},_getCreateOptions:function(){var c=this._super();this._setDefaultMessagingOptions();return c},_init:function(){this._super();this.Pm();this.ap();this.refresh()},_destroy:function(){var c=this.widget();this.ap(void 0,!0);this.Fg().fg(this.Ig());e.each(this.Gl,function(){c.removeClass(this.toString())});c.removeClass("oj-form-control");this.element.removeAttr("aria-required");null!==this.Da&&this.Da._ojLabel("destroy");
return this._super()},_setOption:function(c,b){var d=this._superApply(arguments),g=!0,e;e=0;switch(c){case "converter":this.Do=null;this.Fg().update(this.Ig(this.kd.ls));break;case "validators":this._ResetAllValidators();this.Fg().update(this.Ig(this.kd.Hs));g=!1;break;case "messages":(e=b&&0!==b.length)?(this.Bh=0,e=this.NF(),this.wg=e>=a.v.Aa.ERROR?!1:!0):(this.Bh=0,this.wg=!0);this.Fg().update(this.Ig());break;case "messagingDisplayOptions":this.cM=null;this.Pm();break;case "pattern":this.Jt.pattern=
b;g=!1;break;case "placeholder":this._SetPlaceholder(b);g=!1;break;case "title":this.Fg().update(this.Ig(this.kd.Fs))}g&&(this._Refresh(c,b),this.Gx(c,b),this.Ox(c,b));return d},_GetContentElement:o_c("element"),_GetLabelElement:function(){var c=this.Dv(this.element);if(null!==c&&0!==c.length)return c;c=this.element.prop("id");if(void 0!==c&&(c=e("label[for\x3d'"+c+"']"),0!==c.length))return c;c=this.element.closest("[aria-labelledby]");return 0!==c.length&&(c=this.Dv(c),null!==c&&0!==c.length)?c:
null},UB:function(){return e.extend({},this.eD)},_GetElementValue:function(){return this.element.val()},_GetMessagingTriggerElement:function(){return this._GetContentElement()},_GetConverter:function(){this.Do||(this.Do=a.ic.getConverterInstance(this.options.converter));return this.Do||null},_GetDefaultValidators:function(){this.Kt||(this.Kt={});return this.Kt},_GetDisplayValue:function(){return this._GetContentElement().val()},_GetAllValidators:function(){if(!this.Co){var c=[],b=this.options.validators,
d,e=!0,l=this._GetDefaultValidators(),k=[],m,n;for(n in l)l.hasOwnProperty(n)&&k.push(l[n]);c=c.concat(k);if(b){k=[];for(n=0;n<b.length;n++)d=b[n],"object"===typeof d?(d.validate&&"function"===typeof d.validate||(e=!1),e||(m=d.type)&&"string"===typeof m&&((l=a.R.pg(m))?(d=d.options||{},d.converter=d.converter||this._GetConverter(),d=l.createValidator(d)):a.u.error("Unable to locate a validatorFactory for the requested type: "+m)),k.push(d)):a.u.error("Unable to parse the validator provided:"+d);c=
c.concat(k)}this.Co=c}return this.Co||[]},_ResetAllValidators:function(){this.Co=null},_IsRequired:function(){return"required"===this.options.required},_HandleChangeEvent:function(c){var a=this._GetDisplayValue();this._SetValue(a,c)},_Refresh:function(c,a){switch(c){case "converter":a=this.options.value;this.Ix(a,!0);break;case "value":this.Ix(a);break;case "required":null!==this.Da&&this.Da._ojLabel("option","required",a);break;case "help":var b=this.options.help.definition,d=this.options.help.source,
e=this.au(d);null!==this.Da&&(this.Da._ojLabel("option","describedById",e),this.Da._ojLabel("option","help",{definition:b,source:d}))}},_RefreshAriaRequired:function(c){var a=this._GetContentElement();(c="required"==c?!0:!1)&&a?a.attr("aria-required",c):a.removeAttr("aria-required")},_SetDisplayValue:function(c){this._GetContentElement().val(c)},_SetValue:function(c,b,d){var e=this.options.value,l=!0;if(void 0===c)return a.u.warn("Attempt to set a value of undefined"),!1;if(this._CanSetValue()){d=
d&&d.hs?d.hs:this.Ef.ps;if(l=d!==this.Ef.NONE)if(c!==this.Mt){if(this.By(c),this.ap(b),c=this.lv(c,b,d),!this.isValid())return!1}else return a.u.Kn>a.u.qg&&a.u.info("Validation was skipped because the display value "+c.toString?c.toString():c+" as the previous."),!1;this._ValueEquals(e,c)?(this.lz(c,b),a.u.Kn>a.u.qg&&a.u.info("The value was not set on the component as it's the same as the current value - "+c.toString?c.toString():c)):this.XJ(c,b)}return!0},_CanSetValue:function(){return this.options.disabled?
!1:!0},zh:function(){var c=this.options.rootAttributes;if(c){var a=this.widget(),b=c.id;b&&a.attr("id",b);(b=c["class"])&&a.addClass(b);if(c=c.style)(b=a.attr("style"))?a.attr("style",b+";"+c):a.attr("style",c)}},_SetPlaceholder:function(c){this._GetContentElement().attr("placeholder",c)},_TriggerOptionChange:function(c,b,d){a.f.yz(c,"");b={option:c,previousValue:b,value:this.options[c],optionMetadata:{writeback:"shouldWrite"}};switch(c){case "messages":this._trigger("optionChange",d||null,b);this.Fg().update(this.Ig());
break;case "value":this._trigger("optionChange",d||null,b)}},_ValueEquals:function(c,b){return a.a.kh(c,b)},_GetDefaultStyleClass:o_d("oj-editablevalue"),Gl:{disabled:"oj-disabled",required:"oj-required",readOnly:"oj-read-only"},eD:{messages:["notewindow"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"],title:["notewindow"]},kd:{Ri:1,Is:2,ls:3,Hs:4,Fs:5},ap:function(c,a){if(a)this.options.messages=[];else{var b={messages:[]};c&&(b._oj_originalEvent=c);this.option(b)}},rM:o_c("Nt"),
qM:o_c("Mt"),Dv:function(c){c=c.attr("aria-labelledby");return void 0!==c?e("label[id\x3d'"+c+"']"):null},jE:function(){this.Da=this._GetLabelElement();if(null!==this.Da){var c=this.options.help.definition,a=this.options.help.source,b=this.au(a);this.Da._ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},describedById:b,required:this.options.required,help:{definition:c,source:a}})}},au:function(c){var a=this.element.prop("id")+"Icons";c&&this._GetContentElement().each(function(){var c=
e(this).attr("aria-describedby");c?e(this).attr("aria-describedby",c+" "+a):e(this).attr("aria-describedby",a)});return a},NF:function(){this.Bh||(this.Bh=a.v.yk(this.options.messages));return this.Bh},kG:function(){if(this.Eo){var c=e.extend([],this.options.messages);this.Eo.update(this.wg,c,this.Bh)}else"undefined"===typeof this.wg&&(this.wg=!0),this.Eo=new a.ComponentValidity(this.wg,this.options.messages,this.Bh);return this.Eo},Pm:function(){var c=this.Fg(),a=this._GetMessagingTriggerElement(),
b=this.Ig(this.kd.Ri);c.activate(a,b)},pJ:o_b("Nt"),By:o_b("Mt"),WJ:function(c,b){var d=this.options.messages.slice(),e={};a.f.Ub(c,a.v);d.push(c);e.messages=d;b&&(e._oj_originalEvent=b);this.option(e)},XJ:function(c,a){var b={};b.value=c;a&&(b._oj_originalEvent=a);this.option(b)},lv:function(c,a,b){var d=c;try{b===this.Ef.ps&&(d=this.rx(c)),this.ZJ(d,b===this.Ef.As)}catch(e){this.zx(e,a)}return d},mF:function(c){var b=c,d=this._GetConverter();d&&"object"===typeof d&&(d.format&&"function"===typeof d.format?
b=d.format(c):a.u.Kn>a.u.qg&&a.u.info("converter does not support the format method."));return b},Fg:function(){this.It||(this.It=new a.Qa(this));return this.It},yF:function(){var c;this.Pt||(this.Pt=(c=a.R.pg(a.ac.VALIDATOR_TYPE_REQUIRED))?c.createValidator():null);return this.Pt},xF:function(){var c;this.Jt={pattern:this.options.pattern};return(c=a.R.pg(a.ac.VALIDATOR_TYPE_REGEXP))?c.createValidator(this.Jt):null},Ig:function(c){var a={},b=this._GetConverter(),d,e=[],k;c=c||this.kd.Is;if(c===this.kd.Ri||
c===this.kd.Is)a.validityState=this.kG();(c===this.kd.Ri||c===this.kd.ls)&&b&&"object"===typeof b&&b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&(a.converterHint=b);if(c===this.kd.Ri||c===this.kd.Hs){b=this._GetAllValidators();for(k=0;k<b.length;k++)d=b[k],"object"===typeof d&&d.getHint&&"function"===typeof d.getHint&&(d=d.getHint())&&e.push(d);0<e.length&&(a.validatorHint=e)}(c===this.kd.Ri||c===this.kd.Fs)&&this.options.title&&(a.title=this.options.title);return a},rx:function(c){var b=
this._GetConverter(),d=c;b&&"object"===typeof b&&(b.parse&&"function"===typeof b.parse?d=b.parse(c):a.u.Kn>a.u.qg&&a.u.info("converter does not support the parse method."));return d},zx:function(c,b){var d,e,l,k={};c instanceof a.rc||c instanceof a.hd?(d=c.Ei(),a.f.Ub(d,a.v),l=d.severity,e=d.summary,d=d.detail):(l=a.v.Aa.ERROR,e=a.Q.n("oj-message.error"),d=c.message||a.Q.n("oj-converter.detail"));k.summary=e;k.severity=l;k.detail=d;this.WJ(k,b)},Gx:function(c,a){this._GetContentElement();switch(c){case "required":this._RefreshAriaRequired(a)}},
Ix:function(c,a){var b=c||this.options.value,d;d=this.Nt;(a||b!==d)&&this.lz(b)},Ox:function(c,a){this.Gl.hasOwnProperty(c)&&("required"!==c?this.widget().toggleClass(this.Gl[c],!!a):this.widget().toggleClass(this.Gl[c],"required"===a))},_setDefaultMessagingOptions:function(){var c=this;a.Components.GA({editableValue:{messagingDisplayOptions:function(a){return c.UB(a)}}})},lz:function(c,a){var b;this.pJ(c);b=c;try{b=this.mF(c)}catch(d){this.zx(d,a)}this.By(b);this._SetDisplayValue(b)},OM:o_a(),ZJ:function(c,
b){if(this.wg){var d=[],e,l;this._IsRequired()&&this.yF().validate(c);if(!b)for(d=this._GetAllValidators(),l=0;l<d.length;l++)e=d[l],"object"===typeof e&&(e.validate&&"function"===typeof e.validate?e.validate(c):a.u.Kn>a.u.qg&&a.u.info("validator does not support the validate method."))}}});a.ga("oj.inputBase",e.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_EVENT_LIST:[{type:"blur",Ar:"_HandleSetValue"},{type:"keydown",Ar:function(a){a.keyCode===e.ui.keyCode.ENTER&&
(this._HandleSetValue(a),a.preventDefault(),a.stopPropagation())}},{type:"paste",Ar:"_HandleSetValue"}],options:{readOnly:null},getNodeBySubId:function(a){return null==a?this.element?this.element[0]:null:null},zl:o_c("_EVENT_LIST"),_HandleSetValue:function(a){this._SetValue(this._GetDisplayValue(),a)},_GetSubId:function(a){return this.uuid+"_"+a},_IsRTL:function(){return"rtl"===this._GetReadingDirection()},_create:function(){this.zh();var a=this._superApply(arguments);this.widget().addClass(this._CLASS_NAMES);
this.oI();this.nI();this.options.disabled&&this.disable();"boolean"!==typeof this.options.readOnly?this.options.readOnly=!!this.element.prop("readonly"):this.element.prop("readonly",this.options.readOnly);return a},oI:function(){for(var a=this.zl(),b=0,d=a.length;b<d;b++){var g=e.proxy(function(){var d=a[b].Ar;return function(a){function b(a,c,d){if(e.isFunction(a))a.apply(c,d);else if("string"===typeof a)c[a](d)}if(d)if(e.isArray(d))for(var c=0,f=d.length;c<f;c++)b(d[c],this,arguments);else b(d,
this,arguments)}}(),this);this.element.on(a[b].type,g)}},nI:function(){this.Dq=[];for(var a=this._ATTR_CHECK,b=0,d=a.length;b<d;b++){var e=a[b].attr,l=this.element.is("["+e+"]"),k="setMandatory"in a[b],m=this.element.attr(e);l?k&&m!=a[b].setMandatory&&(this.Dq.push({process:"setAttr",param:{attr:e,val:m}}),this.element.attr(e,a[b].setMandatory)):k&&(this.Dq.push({process:"removeAttr",param:{attr:e}}),this.element.attr(e,a[b].setMandatory))}},_destroy:function(){for(var a=this._superApply(arguments),
b=this.zl(),d=this.Dq,e=0,l=b.length;e<l;e++)this.element.off(b[e].type);this.widget().removeClass(this._CLASS_NAMES);for(e=d.length-1;-1<e;e--)switch(l=d[e].param||{},b=l.attr,l=l.val,d[e].process){case "setAttr":this.element.attr(b,l);break;case "removeAttr":this.element.removeAttr(b)}return a},_setOption:function(a,b){this._super(a,b);"disabled"===a&&this.element.attr("disabled",b);"readOnly"===a&&this.element.prop("readonly",!!b)}});a.ComponentValidity=function(a,b,d){this.i(a,b,d)};a.a.ea(a.ComponentValidity,
a.a,"oj.ComponentValidity");a.ComponentValidity.prototype.i=function(b,d,h){a.ComponentValidity.q.i.call(this);this.$q=b;this.Zm=d;this.qq=h};a.ComponentValidity.prototype.isValid=o_c("$q");a.ComponentValidity.prototype.getMessages=function(){return this.Zm?this.Zm:[]};a.ComponentValidity.prototype.yk=o_c("qq");a.ComponentValidity.prototype.update=function(a,b,d){this.$q=a;this.Zm=b;this.qq=d};a.ComponentValidity.prototype.aM=function(){return{messages:e.extend([],this.Zm),valid:this.$q,maxSeverity:this.qq}};
a.Qa=function(a){this.i(a)};a.a.ea(a.Qa,a.a,"oj.ComponentMessaging");a.Qa.Jc={NONE:"none",ll:"notewindow",Xi:"placeholder"};a.Qa.prototype.i=function(b){a.Qa.q.i.call(this);this.wb=b;this.gj=!1;this.tH()};a.Qa.prototype.activate=function(b,d){var h=this;a.f.bd(d);this.gj?this.vI(b,d):(e.each(this.ah,function(a,e){e.activate(h.wb,b,d)}),this.gj=!0)};a.Qa.prototype.update=function(b){a.f.bd(b);a.f.wz(this.gj);this.gj&&e.each(this.ah,function(a,d){d.update(b)})};a.Qa.prototype.fg=function(b){a.f.bd(b);
e.each(this.ah,function(a,d){d.fg(b)});this.gj=!1;this.ah={}};a.Qa.prototype.em=function(b,d){var h=null;switch(b){case a.Qa.Jc.ll:h=new a.Va(d);break;case a.Qa.Jc.Xi:h=new a.Dd(d);break;case a.Qa.Jc.NONE:h=new a.za(d)}return h};a.Qa.prototype.cw=function(){var b={},d=!1,h=this.wb.options.placeholder,g,l={};e.each(this.wb.options.messagingDisplayOptions||{},function(b,c){d=!1;g=b+"";e.each(c,function(b,c){switch(c){case a.Qa.Jc.Xi:if("converterHint"===g&&!d&&!h){l[g]=c;d=!0;break}break;default:d||
(l[g]=c,d=!0)}});d||(l[g]=a.Qa.Jc.NONE)});e.each(a.Qa.Jc,function(a,d){b[d]=[]});e.each(l,function(a,d){b[d].push(a)});return b};a.Qa.prototype.tH=function(){var b=this.cw(),d=b[a.Qa.Jc.ll],h=b[a.Qa.Jc.NONE],b=b[a.Qa.Jc.Xi],e={};0<d.length&&(e[a.Qa.Jc.ll]=this.em(a.Qa.Jc.ll,d));0<b.length&&(e[a.Qa.Jc.Xi]=this.em(a.Qa.Jc.Xi,b));0<h.length&&(e[a.Qa.Jc.NONE]=this.em(a.Qa.Jc.NONE,h));this.ah=e};a.Qa.prototype.vI=function(a,b){var d=this.cw(),g,l=this;e.each(d,function(d,h){g=l.ah[d];h&&0<h.length?g?g&&
g.Wr(h):(g=l.em(d,h),l.ah[d]=g,g.activate(l.wb,a,b)):g&&(g.fg(b),delete l.ah[d])})};a.za=function(a){this.i(a)};a.za.Hl="oj-invalid";a.za.Il="oj-warning";a.a.ea(a.za,a.a,"oj.MessagingStrategy");a.za.prototype.i=function(b){a.f.br(b);a.za.q.i.call(this);this.hm=b};a.za.prototype.activate=function(a,b,d){this.bh=b;this.wb=a;this.mz(d)};a.za.prototype.update=function(b){this.mz(b);b=this.bh;var d=this.ts(),h=[],e=[],l=!1,k=this.wb.widget();b&&(this.hB()?this.ws()&&d===a.v.Aa.QL?(h.push(a.za.Hl),e.push(a.za.Il)):
(h.push(a.za.Hl),h.push(a.za.Il)):(h.push(a.za.Il),e.push(a.za.Hl),l=!0),k.removeClass(h.join(" ")).addClass(e.join(" ")),b.attr({"aria-invalid":l}))};a.za.prototype.fg=function(){this.wb.widget().removeClass(a.za.Hl).removeClass(a.za.Il);this.bh.removeAttr("aria-invalid").removeAttr("aria-describedby");this.wb=this.bh=null};a.za.prototype.Wr=function(a){this.i(a)};a.za.prototype.us=function(){return this.eo().getMessages()};a.za.prototype.ts=function(){return this.eo().yk()};a.za.prototype.ss=function(){var a=
[],b=this.Xj.converterHint;b&&a.push(b);return a};a.za.prototype.gB=function(){var a=[];e.each(this.Xj.validatorHint||[],function(b,d){a.push(d)});return a};a.za.prototype.fB=function(){return this.Xj.title||""};a.za.prototype.eo=function(){return this.Xj.validityState};a.za.prototype.ws=function(){var a=this.us();return a&&0<a.length?!0:!1};a.za.prototype.uB=function(){return-1!==this.hm.indexOf("messages")?!0:!1};a.za.prototype.jo=function(){return-1!==this.hm.indexOf("converterHint")?!0:!1};a.za.prototype.Cs=
function(){return-1!==this.hm.indexOf("validatorHint")?!0:!1};a.za.prototype.wB=function(){return-1!==this.hm.indexOf("title")?!0:!1};a.za.prototype.hB=function(){return this.eo().isValid()};a.za.prototype.mz=function(a){this.Xj=e.extend(this.Xj||{},a)};a.Dd=function(a){this.i(a)};a.a.ea(a.Dd,a.za,"oj.PlaceholderMessagingStrategy");a.Dd.prototype.i=function(b){a.Dd.q.i.call(this,b)};a.Dd.prototype.activate=function(b,d,h){a.Dd.q.activate.call(this,b,d,h);this.BI()};a.Dd.prototype.update=function(b){a.Dd.q.update.call(this,
b)};a.Dd.prototype.fg=function(b){a.Dd.q.fg.call(this,b)};a.Dd.prototype.BI=function(){var a=this.bh;this.wb.widget();if(this.vB()&&a&&(a=this.ss(),a=a.length?a[0]:"")){var b={};b.placeholder=a;b._oj_messaging_update=!0;this.wb.option(b)}};a.Dd.prototype.vB=function(){return this.jo()};a.Va=function(a){this.i(a)};a.a.ea(a.Va,a.za,"oj.NoteWindowMessagingStrategy");a.Va.prototype.i=function(b){a.Va.q.i.call(this,b)};a.Va.prototype.activate=function(b,d,h){a.Va.q.activate.call(this,b,d,h);this.oH();
this.update(h)};a.Va.prototype.update=function(b){a.Va.q.update.call(this,b)};a.Va.prototype.fg=function(b){this.bh.off("mouseleave",this.vw).off("focusin",this.Oy).off("focusout",this.zw);this.SE();a.Va.q.fg.call(this,b)};a.Va.prototype.Wr=function(b){a.Va.q.Wr.call(this,b)};a.Va.prototype.Oy=function(){e(this).tooltip("enable").tooltip("open")};a.Va.prototype.zw=function(){e(this).tooltip("disable").tooltip("close")};a.Va.prototype.vw=function(a){a.preventDefault();a.stopImmediatePropagation();
return!1};a.Va.prototype.oH=function(){var a=this;if(!this.Qw()){var b=this.bh;this.wb.widget();this.Uq=b.tooltip({position:{my:"left+14 bottom",at:"right top",of:b,using:function(a,b){e(this).css(a);e("\x3cdiv\x3e").addClass("arrow").addClass(b.vertical).addClass(b.horizontal).appendTo(this)}},open:o_a(),close:o_a(),content:function(){return a.JD()},items:b}).off("mouseover mouseout").on("mouseleave",{target:e(this)},a.vw).on("focusout",{target:e(this)},a.zw).on("focusin",{target:e(this)},a.Oy)}};
a.Va.prototype.SE=function(){this.Qw()&&this.Uq&&this.Uq.tooltip("destroy");this.Uq=null};a.Va.prototype.JD=function(){var a="",b=this.wb.document[0],d=[],g=!1,l=this;this.uB()&&d.push(this.ID());(this.jo()||this.Cs())&&d.push(this.HD(b));this.wB()&&d.push(this.LD(b));e.each(d,function(d,h){h&&(g?a=a.concat(l.dG(b)):g=!0,a=a.concat(h))});return a};a.Va.prototype.ID=function(){var b,d="",h,e,l,k,m;e=this.ts();var n,p={};b=[];if(this.ws()){b=this.us();for(h=0;h<b.length;h++)m=b[h],m=m instanceof a.v?
m:new a.v(m.summary,m.detail,m.severity),k=a.v.Fi(m.severity),p[k]||(p[k]=[]),p[k].push(m);for(h=e;h>=a.v.Aa.CONFIRMATION;h--)for(b=p[h]||[],e=0;e<b.length;e++)m=b[e],a.f.Ub(m,a.v),k=a.v.Fi(m.severity),l=this.fG(k),n=m.summary||l,m=m.detail||"",d=d.concat("\x3cdiv class\x3d'oj-message'\x3e").concat("\x3cspan class\x3d'"+this.eG(k)+"' title\x3d'"+l+"' role\x3d'img'\x3e\x3c/span\x3e").concat("\x3cspan class\x3d'oj-message-content'\x3e").concat("\x3cdiv class\x3d'oj-message-summary'\x3e"+n+"\x3c/div\x3e"),
m&&(d=d.concat("\x3cdiv class\x3d'oj-message-detail'\x3e"+m+"\x3c/div\x3e")),d=d.concat("\x3c/div\x3e")}return d};a.Va.prototype.HD=function(b){var a=[],d,g;this.Cs()&&(a=a.concat(this.gB()));this.jo()&&(a=a.concat(this.ss()));if(a&&0<a.length)for(d=e(b.createElement("div")),d.addClass("oj-form-control-hint"),g=0;g<a.length;g++)d.append(this.Tv(b,a[g]));return d?d.get(0).outerHTML:""};a.Va.prototype.LD=function(a){var b=this.fB(),d;b&&(d=e(a.createElement("div")),d.addClass("oj-form-control-title"),
d.append(this.Tv(a,b)));return d?d.get(0).outerHTML:""};a.Va.prototype.Tv=function(b,d){var h=null;a.nb.lA(d)?h=a.nb.pK(d.substring(6,d.length-7)):(h=e(b.createElement("div")),h.text(d),h=h.get(0));return h};a.Va.prototype.dG=function(a){return(a=e(a.createElement("hr")))?a.get(0).outerHTML:""};a.Va.prototype.fG=function(b){var d;switch(b){case a.v.Aa.FATAL:d=a.Q.n("oj-message.fatal");break;case a.v.Aa.ERROR:d=a.Q.n("oj-message.error");break;case a.v.Aa.WARNING:d=a.Q.n("oj-message.warning");break;
case a.v.Aa.INFO:d=a.Q.n("oj-message.info");break;case a.v.Aa.CONFIRMATION:d=a.Q.n("oj-message.confirmation")}return d};a.Va.prototype.eG=function(b){var d;switch(b){case a.v.Aa.FATAL:d="oj-message-error-icon";break;case a.v.Aa.ERROR:d="oj-message-error-icon";break;case a.v.Aa.WARNING:d="oj-message-warning-icon";break;case a.v.Aa.INFO:d="oj-message-info-icon";break;case a.v.Aa.CONFIRMATION:d="oj-message-confirmation-icon"}return"oj-widget-icon "+d};a.Va.prototype.Qw=function(){var a=this.bh;return a?
a.is(":ui-tooltip"):!1};a.nb={};o_("DomUtils",a.nb,a);a.nb.WB="\\x3chtml\\x3e";a.nb.VB="\\x3c/html\\x3e";a.nb.nC={SPAN:1,B:1,A:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1};a.nb.mC={"class":1,style:1,href:1};a.nb.lA=function(b){return 0===b.indexOf(a.nb.WB)&&b.lastIndexOf(a.nb.VB)===b.length-7?!0:!1};o_("DomUtils.isHTMLContent",a.nb.lA,a);a.nb.pK=function(b){var d=e(document.createElement("span")).get(0);(d.innerHTML=b)&&0<=b.indexOf("\\x3c")&&a.nb.Du(d);return d};a.nb.Du=function(b){for(var d=
b.childNodes,h,g,l,k,m,n=d.length-1;0<=n;)if(h=d.item(n),1===h.nodeType){if(a.nb.nC[h.nodeName])for(g=h.attributes,m=g.length-1;0<=m;m--)l=g[m],(k=void 0!==e(h).attr(l))&&(a.nb.mC[l.name]||h.removeAttribute(l.nodeName));a.nb.Du(h)}else b.removeChild(h)};a.nb.ZK=function(b,d){a.f.he(b);a.f.he(d);for(var h=d.parentNode;h;){if(h==b)return!0;h=h.parentNode}return!1};a.nb.Hr=function(b,d){a.f.he(b);a.f.he(d);return d==b?!0:a.nb.ZK(b,d)};a.aj={};o_("Test",a.aj,a);a.aj.ready=!1;o_("Test.ready",a.aj.ready,
a);a.aj.xK=function(b){var d=b;if(a.Xa.le(b))try{d=e.parseJSON(b)}catch(h){return null}return d&&d.element&&(b=e(d.element))?a.Components.dA(b[0],d.component)("getNodeBySubId",{subId:d.subId}):null};o_("Test.domNodeForLocator",a.aj.xK,a);e(document).ready(function(){var b=e("\x3cdiv style\x3d'border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs\x3d);'\x3e\x3c/div\x3e"),a;b.appendTo("body");
a=b.css("backgroundImage");b.css("borderTopColor")!=b.css("borderRightColor")&&(null==a||"none"!=a&&"url (invalid-url:)"!=a)||e("body").addClass("oj-hicontrast");b.remove()})});
//# sourceMappingURL=oj-modular.map