define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojmodel","ojs/ojdatacollection-common"],function(a,e){a.ga("oj.ojRowExpander",e.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{context:null,indent:10,expand:null,collapse:null},wi:{root:"oj-rowexpander",icon:"oj-widget-icon",clickable:"oj-clickable-icon",expand:"oj-rowexpander-expand-icon",collapse:"oj-rowexpander-collapse-icon",leaf:"oj-rowexpander-leaf-icon",lazyload:"oj-rowexpander-lazyload-icon"},_create:function(){this._super();
this.element.addClass(this.wi.root)},_init:function(){var a=this;this._super();this.lD();this.qK=this.options.context.component;this.cd=this.options.context.datasource;this.qK.II(this);null!==this.ak&&(this.Ji=this.ak(this.options.context.metadata));this.VK=this.Ji.depth*this.options.indent;this.jg=this.Ji.state;this.xN=this.Ji.key;this.kJ();this.Iq();if("expanded"===this.jg||"collapsed"===this.jg)e(this.jh).on("click",function(){a.Av()}),e(this.element).on("keypress",function(b){((b.keyCode||b.which)===
e.ui.keyCode.ENTER||e.ui.keyCode.SPACE)&&a.Av()})},refresh:function(){this.element.empty();this._init()},_destroy:function(){this.removeClass(this.wi.root);this.element.empty()},ak:null,lD:function(){this.jh=e("\x3ca\x3e\x3c/a\x3e").addClass(this.wi.icon).addClass(this.wi.clickable);this.element.append(this.jh)},Ho:function(a){this.jh.addClass(this.wi[a])},Cq:function(a){this.jh.removeClass(this.wi[a])},Iq:function(){switch(this.jg){case "leaf":this.Ho("leaf");break;case "collapsed":this.Ho("expand");
this.Pl(!1);break;case "expanded":this.Ho("collapse"),this.Pl(!0)}},Yx:function(){switch(this.jg){case "leaf":this.Cq("leaf");break;case "collapsed":this.Cq("expand");break;case "expanded":this.Cq("collapse")}},handleExpandEvent:function(){this.Yx();this.jg="expanded";this.Iq();this.Pl(!0);this._trigger("expand")},handleCollapseEvent:function(){this.Yx();this.jg="collapsed";this.Iq();this.Pl(!1);this._trigger("collapse")},Av:function(){"collapsed"===this.jg?this.cd.expand(this.Ji.key):"expanded"===
this.jg&&this.cd.collapse(this.Ji.key)},kJ:function(){this._GetReadingDirection();this.element.width(this.element.width()+this.VK+"px")},Pl:function(a){this.jh.attr("aria-expanded",a)}})});
//# sourceMappingURL=oj-modular.map