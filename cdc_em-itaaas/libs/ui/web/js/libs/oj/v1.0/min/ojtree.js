define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(b,e){(function(){function a(a){var b=!1,c=!0;a.Yp&&(a.title&&(b=e("style[id\x3d'"+a.title+"-stylesheet']")[0]),b?c=!1:(b=document.createElement("style"),b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?c?(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet.cssText=a.Yp):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.Yp:(b.appendChild(document.createTextNode(a.Yp)),document.getElementsByTagName("head")[0].appendChild(b)))}
function d(a){n.push(a);e(a.vB).keydown(c)}function c(a){var b="";a.ctrlKey?b+="ctrl+":a.shiftKey&&(b+="shift+");var c=a.which;switch(c){case 32:b+="space";break;case 37:b+="left";break;case 38:b+="up";break;case 39:b+="right";break;case 40:b+="down";break;case 46:b+="del";break;case 33:b+="pgup";break;case 34:b+="pgdn";break;case 35:b+="end";break;case 36:b+="home";break;case 113:b+="f"+(1-(112-c))}if(0!==b.length){var d=void 0;e.each(n,function(c,e){if(e.bC.b.ui.xd&&e.uz[b])return a.preventDefault(),
d=e.uz[b].call(e.bC,a),!1});return d}}function f(a){e.each(n,function(b){if(n[b].vB===a)return e(a).off("keydown"),n[b]=null,n.splice(b,1),!1})}var h={cut:"ojtreecut",copy:"ojtreecopy",paste:"ojtreepaste",remove:"ojtreeremove",rename:"ojtreerename"},g="select deselect hover dehover expand collapse loaded move remove deselectAll rename refresh expandAll collapseAll destroy create before remove cut copy paste".split(" "),k,l,m;e(function(){/msie/.test(navigator.userAgent.toLowerCase())?(l=e('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",
top:-1E3,left:0}).appendTo("body"),m=e('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),k=l.width()-m.width(),l.add(m).remove()):(l=e("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),k=100-l.width(),l.parent().remove())});var n=[],q=-1,r=[];b.ta("oj.ojTree",e.oj.baseComponent,
{version:"1.0.0",widgetEventPrefix:"oj",defaultElement:"\x3cdiv\x3e",options:{animDuration:500,dnd:!1,expandParents:!1,initExpanded:null,RP:[],selectionMode:"single",selectedParentCollapse:!1,selectedParentExpand:!0,selectPrevOnDelete:!1,data:null,emptyText:null,icons:!0,types:null,before:null,collapse:null,create:null,collapseAll:null,cut:null,dehover:null,remove:null,deselect:null,deselectAll:null,destroy:null,expand:null,expandAll:null,hover:null,loaded:null,move:null,paste:null,refresh:null,rename:null,
select:null},collapse:function(a,b){a=this.aa(a);var c=b||this.options.animDuration,d=this;if(!a.length||-1===a||!a.hasClass("oj-tree-open")||this.b.u.locked||a.hasClass("oj-disabled"))return!1;var e=this.ia({obj:a,func:"collapse"},"before");if("boolean"!=typeof e||e)c&&a.children("ul").attr("style","display:block !important"),a.removeClass("oj-tree-open").addClass("oj-tree-closed").attr("aria-expanded","false"),c?a.children("ul").stop(!0,!0).slideUp(c,function(){this.style.display="";d.after_close(a)}):
d.after_close(a),this.ia({obj:a},"collapse")},collapseAll:function(a,b){var c=a?a:-1,d=this;if(!this.b.u.locked&&((a=a?this.aa(a):this.U)&&-1!==c&&(c=a),a&&-1!==c||(a=this.H),!a.hasClass("oj-disabled"))){var e;-1!==c&&this.isExpanded(a)&&(e=a[0]);var f=a.find("li.oj-tree-open");f.length&&f.each(function(){d.collapse(this,!b)});e&&(this.collapse(e,!b),f.splice(0,0,e));f.length&&this.ia({obj:f,targ:c},"collapseAll")}},expand:function(a,b){this.Xf(a,!1,b)},expanded:function(a,b){var c,d,f=this;if(a&&
"array"===e.type(a)){if(this.b.u.locked)return null;d=a.length;e.each(a,function(a,c){f.Xf(c,!1,b)});return null}a=this.H.find("li.oj-tree-open");d=a.length;c=[];for(var g=0;g<d;g++)c.push(a[g]);return e(c)},expandAll:function(a,b){this.Fr(a,b)},toggleExpand:function(a){a=this.aa(a);if(-1!==a&&!a.hasClass("oj-disabled")&&!this.b.u.locked){if(a.hasClass("oj-tree-closed"))return this.expand(a);if(a.hasClass("oj-tree-open"))return this.collapse(a)}},deselect:function(a){a=this.aa(a);if(!a.length)return!1;
a.hasClass("oj-disabled")||this.b.u.locked||!this.isSelected(a)||(a.children("a").removeClass("oj-tree-clicked"),a.removeAttr("aria-selected"),this.b.ui.selected=this.b.ui.selected.not(a),this.b.ui.wb.get(0)===a.get(0)&&(this.b.ui.wb=this.b.ui.selected.eq(0)),this.ia({obj:a},"deselect"))},deselectAll:function(a){this.b.u.locked||this.FI(a,!1)},select:function(a){this.Ij(a)},selected:function(a){if(this.b.u.locked)return null;if(void 0===a)return this.XJ();if(void 0!==a.length){var b=this;e.each(a,
function(a,c){c&&b.Ij(c,!0)})}return null},toggleSelect:function(a){a=this.aa(a);if(!a.length)return!1;a.hasClass("oj-disabled")||this.b.u.locked||(this.isSelected(a)?this.deselect(a):this.Ij(a,!0))},isCollapsed:function(a){return(a=this.aa(a))&&-1!==a&&a.hasClass("oj-tree-closed")},isExpanded:function(a){return(a=this.aa(a))&&-1!==a&&a.hasClass("oj-tree-open")},isLeaf:function(a){return this.ys(a)},isSelected:function(a){return 0<=this.b.ui.selected.index(this.aa(a))},create:function(a,b,c){return this.nr(a,
b,c)},remove:function(a){a=this.aa(a);if(!a.length||a.hasClass("oj-disabled")||this.b.u.locked)return!1;var b=this.ia({obj:a,func:"remove"},"before");if("boolean"==typeof b&&!b)return!1;this.Lh();var b=this.Ng(a),c=e([]),d=this,f=this.bg(a);a.each(function(){c=c.add(d.bg(this))});a=a.detach();-1!==b&&0===b.find("\x3e ul \x3e li").length&&b.removeClass("oj-tree-open oj-tree-closed").addClass("oj-tree-leaf").removeAttr("aria-expanded");this.Gd(b);this.ia({obj:a,prev:f,parent:b},"remove");return a},
getText:function(a){a=this.aa(a);if(!a.length)return!1;var b=this.b.u.qm;a=a.children("a:eq(0)");if(b)return a=a.clone(),a.children("INS").remove(),a.html();a=a.find("span:eq(0)");return a[0].textContent},rename:function(a,b){this.iB(a,b)},hover:function(a){a=this.aa(a);if(!a.length)return!1;if(!a.hasClass("oj-disabled")&&!this.b.u.locked){var b=this.ia({obj:a,func:"hover"},"before");if("boolean"!=typeof b||b)a.hasClass("oj-tree-hovered")||this.dehover(),this.b.ui.ib=a.children("a").addClass("oj-tree-hovered").parent(),
this.H.attr("aria-activedescendant",this.b.ui.ib.attr("id")),this.Cy(a),this.ia({obj:a},"hover")}},dehover:function(){var a=this.b.ui.ib,b;if(!a||!a.length)return!1;a.hasClass("oj-disabled")||this.b.u.locked||(b=a.children("a").removeClass("oj-tree-hovered").parent(),this.H.removeAttr("aria-activedescendant"),this.b.ui.ib[0]===b[0]&&(this.b.ui.ib=null),this.ia({obj:a},"dehover"))},getPath:function(a,b){var c=[],d=this;a=this.aa(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".oj-tree","li").each(function(){c.push(b?
this.id:d.getText(this))});c.reverse();c.push(b?a.attr("id"):this.getText(a));return c},getRoot:function(){return this.U.children("ul:eq(0)")},refresh:function(a){this._super();this.b.u.locked||this.Ob(a)},move:function(a,b,c,d){this.Cj(a,b,c,d)},getType:function(a){return this.ks(a)},setType:function(a,b){return this.ON(a,b)},getNodeBySubId:function(a){return a?this.CM(a):this.element?this.element[0]:null},destroy:function(){this.ia({obj:-1},"destroy");this._super()},_create:function(){this._super();
this.ax=!0;this.Cr="#"+this.element.attr("id");this.U=e(this.Cr?this.Cr.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$\x26"):"");this.H=null;this.b={};this.aC=null;this.qd=this.eM();r.push(this);this.Rg="rtl"===this.xc();this.kL();this.ax=!1},_destroy:function(){this.VH();this.b.html.bq&&this.b.html.Nt&&this.U.append(this.b.html.Nt);this._super()},_setOption:function(a,b){var c;if(this.ax)this._super(a,b);else{var d;if("selectionMode"===a)d="none"===b?0:"single"===b?1:"multiple"===b?-1:void 0,
d!=this.b.u.Bd&&(this.b.u.Bd=d);else if("icons"===a)"boolean"==e.type(b)&&b!=this.b.ua.icons&&(this.b.ua.icons=b,this[b?"show_icons":"hide_icons"]());else if("contextMenu"===a)this.SH(),b&&this.Fz(b);else if("disabled"===a)c=this.vK(b);else if("data"===a){this._super(a,b);this.Dz();this.Ez();this.Se(-1,function(){this.Zz();this.Ol()});return}this._super(a,b);return c}},VH:function(){var a=this.qd;this.U.unbind(".oj-tree").undelegate(".oj-tree").removeData("oj-tree-instance-id").find("[class^\x3d'oj-tree']").addBack().attr("class",
function(){return this.className.replace(/oj-tree[^ ]*|$/ig,"")});var b=this.U.attr("class"),b=b.trim();0===b.length&&this.U.removeAttr("class");f(this.H);e(document).unbind(".oj-tree-"+a).undelegate(".oj-tree-"+a);this.H.remove();this.H=null},KR:function(a){var b=e(a,this.U);if(b.is(".oj-tree")||-1==a)return-1;b=b.closest("li",this.U);return b.length?b:!1},aa:function(a,b){if("undefined"===typeof a||null===a)return b?this.b.ui.selected:this.b.ui.wb;var c=e(a,this.U);if(c.is(".oj-tree")||-1===a)return-1;
c=c.closest("li",this.U);return c.length?c:!1},bg:function(a,b){a=this.aa(a);if(-1===a)return this.U.find("\x3e ul \x3e li:last-child");if(!a.length)return!1;if(b)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass("oj-tree-open");)a=a.children("ul:eq(0)").children("li:last");return a}var c=a.parentsUntil(".oj-tree","li:eq(0)");return c.length?c:!1},Xh:function(a,b){a=this.aa(a);return-1===a?this.U.find("\x3e ul \x3e li:first-child"):
a.length?b?0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):!1:a.hasClass("oj-tree-open")?a.find("li:eq(0)"):0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):a.parentsUntil(".oj-tree","li").next("li").eq(0):!1},Ng:function(a){a=this.aa(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".oj-tree","li:eq(0)");return a.length?a:-1},xR:function(a){a=this.aa(a);return-1===a?this.U.children("ul:eq(0)").children("li"):a.length?a.children("ul:eq(0)").children("li"):!1},ys:function(a){return(a=this.aa(a))&&-1!==
a&&a.hasClass("oj-tree-leaf")},KA:function(a){a.parents("div").eq(0);return this},Tw:function(a,b){void 0!=a&&void 0!=b&&e.each(b,function(b,c){void 0==a[b]&&(a[b]=c)})},vK:function(a){var b=this.H.hasClass("oj-disabled");b||(b=!1);if("undefined"===typeof a)return b;b!=a&&(a?(this.H.addClass("oj-disabled"),this.H.prop("disabled","disabled")):(this.H.removeClass("oj-disabled"),this.H.removeAttr("disabled")),this.RL(a))},RL:function(a){a?(this.b.u.locked=!0,this.b.ui.opacity=this.U.children("ul").css("opacity"),
this.H.addClass("oj-tree-locked").css("opacity","0.9")):(this.b.u.locked=!1,this.H.removeClass("oj-tree-locked").css("opacity",this.b.ui.opacity))},Ej:function(a,b,c,d,e){var f={Gi:this};f.La=f.Gi.aa(a);f.na=-1===b?-1:this.aa(b);f.sg="undefined"===typeof c||!1===c?"last":c;if(!e&&this.b.u.Sc.La&&this.b.u.Sc.La[0]===f.La[0]&&this.b.u.Sc.na[0]===f.na[0]&&this.b.u.Sc.sg===f.sg)this.ia(this.b.u.Sc),d&&d.call(this,this.b.u.Sc);else{f.Gi=this;f.pk=this;if(-1!==f.na&&f.na){if(!/^(before|after)$/.test(f.sg)&&
!this.cg(f.na))return this.Se(f.na,function(){this.Ej(a,b,c,d,!0)});switch(f.sg){case "before":f.Xe=f.na.index();f.yi=f.pk.Ng(f.na);break;case "after":f.Xe=f.na.index()+1;f.yi=f.pk.Ng(f.na);break;case "inside":case "first":f.Xe=0;f.yi=f.na;break;case "last":f.Xe=f.na.find(" \x3e ul \x3e li").length;f.yi=f.na;break;default:f.Xe=f.sg,f.yi=f.na}}else switch(f.yi=-1,f.sg){case "first":case "before":case "inside":f.Xe=0;break;case "after":case "last":f.Xe=f.pk.U.find(" \x3e ul \x3e li").length;break;default:f.Xe=
f.sg}f.pg=-1==f.yi?f.pk.U:f.yi;f.rg=f.Gi.Ng(f.La);f.rS=f.La.index();-1===f.rg&&(f.rg=f.Gi?f.Gi.U:this.U);!/^(before|after)$/.test(f.sg)&&(f.rg&&f.pg&&f.rg[0]===f.pg[0]&&f.La.index()<f.Xe)&&f.Xe++;f.Cu=f.pg.find(" \x3e ul \x3e li:nth-child("+(f.Xe+1)+")");this.b.u.Sc=f;this.ia(this.b.u.Sc,"prepare_move");d&&d.call(this,this.b.u.Sc,"prepare_move")}},check_move:function(){var a=this.b.u.Sc,b=!0,c;c=-1===a.na?this.U():a.na;if(!a||!a.La||a.Cu[0]===a.La[0])return!1;if(!a.SC){if(a.rg&&a.pg&&a.rg[0]===a.pg[0]&&
a.Xe-1===a.La.index())return!1;a.La.each(function(){if(-1!==c.parentsUntil(".oj-tree","li").addBack().index(this))return b=!1})}return b},iB:function(a,b){var c;a=this.aa(a);this.Lh();c=this.getText(a);if(a&&a.length){var d=this.ia({obj:a,func:"rename",title:b,prevTitle:c},"before");if("boolean"==typeof d&&!d)return}a&&(a.length&&this.nt.apply(this,Array.prototype.slice.call(arguments)))&&this.ia({obj:a,title:b,prevTitle:c},"rename")},Cj:function(a,b,c,d,f,g){if(!(a.hasClass&&a.hasClass("oj-disabled")||
this.b.u.locked)){if(!f)return this.Ej(a,b,c,function(a){this.Cj(a,!1,!1,d,!0,g)});d&&(this.b.u.Sc.SC=!0);if(!g&&!this.check_move())return!1;this.Lh();b=!1;d?(b=a.La.clone(!0),b.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):b=a.La;a.Cu.length?a.Cu.before(b):(a.pg.children("ul").length||e("\x3cul /\x3e").appendTo(a.pg),a.pg.children("ul:eq(0)").append(b));try{a.Gi.Gd(a.rg),a.pk.Gd(a.pg),a.rg.find("\x3e ul \x3e li").length||a.rg.removeClass("oj-tree-open oj-tree-closed").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove()}catch(h){}d&&
(this.b.u.Sc.SC=!0,this.b.u.Sc.OS=b);b=e.extend(!0,{},this.b.u.Sc);b.obj=a.La;this.ia(b,"move");return this.b.u.Sc}},JR:function(){return this.b.ub.Sc},ks:function(a){return(a=this.aa(a))&&a.length?a.attr(this.options.types.attr)||"default":!1},ON:function(a,b){var c=this.options.types,d=!1;b=this.aa(b);(d=c?b.length&&a?b.attr(this.options.types.attr,a):!1:!1)&&this.ia({obj:b,type:a},"settype");return d},vx:function(a,b,c){b=this.aa(b);var d=!1,f=this.ks(b),g=0,h=this,k=this.ag().types,l=!1;if(-1===
b)if(k[a])d=k[a];else return;else{if(!1===f)return;(l=this.b.types.Wb.useData?b.data("oj-tree"):!1)&&l.types&&"undefined"!==typeof l.types[a]?d=l.types[a]:k.types[f]&&"undefined"!==typeof k.types[f][a]?d=k.types[f][a]:k.types["default"]&&"undefined"!==typeof k.types["default"][a]&&(d=k.types["default"][a])}e.isFunction(d)&&(d=d.call(this,b));var m=this.b.types.Wb.maxDepth;"maxDepth"===a&&(-1!==b&&!1!==c&&-2!==this.b.types.Wb.maxDepth&&0!==d)&&b.children("a:eq(0)").parentsUntil(".oj-tree","li").each(function(b){if(-1!==
m&&0>=m-(b+1))return d=0,!1;g=0===b?d:h.vx(a,this,!1);if(-1!==g&&0>=g-(b+1))return d=0,!1;0<=g&&(g-(b+1)<d||0>d)&&(d=g-(b+1));0<=m&&(m-(b+1)<d||0>d)&&(d=m-(b+1))});return d},Gd:function(a){a=a&&-1!=a?e(a):this.H;a=a.is("li")?a.find("li").addBack():a.find("li");a.removeClass("oj-tree-last").filter("li:last-child").addClass("oj-tree-last").end().filter(":has(li)").not(".oj-tree-open").removeClass("oj-tree-leaf").addClass("oj-tree-closed").attr("aria-expanded","false");a.not(".oj-tree-open, .oj-tree-closed").addClass("oj-tree-leaf").children("ul").remove();
this.ia({obj:a},"clean_node")},nr:function(a,b,c,d,f){a=this.aa(a);if(-1!==a&&!a.length)return!1;b="undefined"===typeof b?"last":b;var g=e("\x3cli /\x3e"),h;if(!f&&!this.cg(a))return this.Se(a,function(){this.nr(a,b,c,d,!0)}),!1;this.Lh();"string"===typeof c&&(c={data:c});c||(c={});c.attr&&g.attr(c.attr);c.metadata&&g.data(c.metadata);c.state&&g.addClass("oj-tree-"+("expanded"===c.state?"open":"closed"));c.data||(c.data=void 0!==c.title?c.title:this.l("m_newnode"));e.isArray(c.data)||(h=c.data,c.data=
[],c.data.push(h));var k=this;e.each(c.data,function(a,b){h=e("\x3ca /\x3e");e.isFunction(b)&&(b=b.call(this,c));if("string"==typeof b)h.attr("href","#")[k.b.u.qm?"html":"text"](b);else b.attr||(b.attr={}),b.attr.href||(b.attr.href="#"),h.attr(b.attr)[k.b.u.qm?"html":"text"](b.title),b.language&&h.addClass(b.language);h.prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e");!b.icon&&c.icon&&(b.icon=c.icon);b.icon&&(-1===b.icon.indexOf("/")?h.children("ins").addClass(b.icon):h.children("ins").css("background",
"url('"+b.icon+"') center center no-repeat"));g.append(h)});g.prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e");-1===a&&(a=this.U,"before"===b&&(b="first"),"after"===b&&(b="last"));switch(b){case "before":a.before(g);h=this.Ng(a);break;case "after":a.after(g);h=this.Ng(a);break;case "inside":case "first":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").prepend(g);h=a;break;case "last":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").append(g);
h=a;break;default:a.children("ul").length||a.append("\x3cul /\x3e"),b||(b=0),h=a.children("ul").children("li").eq(b),h.length?h.before(g):a.children("ul").append(g),h=a}if(-1===h||h.get(0)===this.U.get(0))h=-1;this.Gd(h);this.ia({obj:g,parent:h},"create_node");d&&d.call(this,g);return g},Xf:function(a,b,c){a=this.aa(a);if(!a.length)return!1;if(!a.hasClass("oj-disabled")&&!this.b.u.locked){if(!a.hasClass("oj-tree-closed"))return b&&b.call(),!1;var d=this.ia({obj:a,func:"expand"},"before");if("boolean"!=
typeof d||d){var d=c||this.options.animDuration,e=this;this.cg(a)?(this.options.expandParents&&a.parentsUntil(".oj-tree",".oj-tree-closed").each(function(){e.expand(this,!1,!0)}),d&&a.children("ul").css("display","none"),a.removeClass("oj-tree-closed").addClass("oj-tree-open").attr("aria-expanded","true").children("a").removeClass("oj-tree-loading"),d?a.children("ul").stop(!0,!0).slideDown(d,function(){this.style.display="";e.after_open(a)}):e.after_open(a),this.ia({obj:a},"expand"),b&&b.call()):
(a.children("a").addClass("oj-tree-loading"),this.Se(a,function(){e.expand(a,b,c)},b))}}},Fr:function(a,b,c){var d=a?a:-1;(a=a?this.aa(a):-1)&&-1!==a?d=a:a=this.H;c?a=a.find("li.oj-tree-closed"):(c=a,a=a.is(".oj-tree-closed")?a.find("li.oj-tree-closed").addBack():a.find("li.oj-tree-closed"));var e=this;a.each(function(){var a=this;e.cg(this)?e.Xf(this,!1,!b):e.expand(this,function(){e.Fr(a,b,c)},!b)});0===c.find("li.oj-tree-closed").length&&this.ia({obj:a,targ:d},"expandAll")},Ij:function(a,b,c){if(0==
this.b.u.Bd)return!1;a=this.aa(a);if(-1==a||!a||!a.length)return!1;if(!a.hasClass("oj-disabled")&&!this.b.u.locked){var d=this.ia({obj:a,func:"select"},"before");if("boolean"!=typeof d||d){var d=this.options,e=this.b.ui.Wb.selectMultipleModifier,f=this.b.ui.Wb.selectRangeModifier,g=this.b.ui.Wb.disableSelectingChildren,e="on"==e||!1!==e&&c&&c[e+"Key"],f=!1!==f&&c&&c[f+"Key"]&&this.b.ui.wb&&this.b.ui.wb[0]!==a[0]&&this.b.ui.wb.parent()[0]===a.parent()[0],h=this.isSelected(a),k=!0,l=this;if(b){if(g&&
e&&(a.parentsUntil(".oj-tree","li").children("a.oj-tree-clicked").length||a.children("ul").find("a.oj-tree-clicked:eq(0)").length))return!1;k=!1;switch(!0){case f:this.b.ui.wb.addClass("oj-tree-last-selected");a=a[a.index()<this.b.ui.wb.index()?"nextUntil":"prevUntil"](".oj-tree-last-selected").addBack();-1==this.b.u.Bd||a.length<this.b.u.Bd?(this.b.ui.wb.removeClass("oj-tree-last-selected"),this.b.ui.selected.each(function(){this!==l.b.ui.wb[0]&&l.deselect(this)}),h=!1,k=!0):k=!1;break;case h&&!e:this.deselectAll();
this.b.ui.Su||(h=!1);k=!0;break;case !h&&!e:c?this.b.ui.selected&&1==this.b.ui.selected.length?this.deselect(this.b.ui.selected):this.deselectAll(this.b.ui.selected):1===this.b.u.Bd?this.deselect(this.b.ui.selected):1<this.b.u.Bd&&this.deselectAll();k=!0;break;case h&&e:this.deselect(a);break;case !h&&e:if(-1==this.b.u.Bd||this.b.ui.selected.length+1<=this.b.u.Bd)k=!0}}k&&!h&&(f||(this.b.ui.wb=a),a.children("a").addClass("oj-tree-clicked"),a.attr("aria-selected","true"),d.selectedParentExpand&&a.parents(".oj-tree-closed").each(function(){l.expand(this,
!1,!0)}),this.b.ui.selected=this.b.ui.selected.add(a),this.Cy(a.eq(0)),this.ia({obj:a,e:c},"select"))}}},FI:function(a,b){if(!this.b.u.locked)if(b){if(d=a?a:-1,f=a?e(a).find("a.oj-tree-clicked").parent():this.U.find("a.oj-tree-clicked").parent(),!f.hasClass("oj-disabled")){var c=this;e.each(f,function(){c.deselect(this)})}}else{var d=a?a:-1,f=a?e(a).find("a.oj-tree-clicked").parent():this.U.find("a.oj-tree-clicked").parent();f.hasClass("oj-disabled")||(f.children("a.oj-tree-clicked").removeClass("oj-tree-clicked"),
f.removeAttr("aria-selected"),this.b.ui.selected=e([]),this.b.ui.wb=!1,f.length&&this.ia({obj:f,targ:d},"deselectAll"))}},Ob:function(a){this.UA(a)},UA:function(a){var b=a?a:-1,c=this;this.uN();a||(a=-1);(a=this.aa(a))?b=a:a=-1;-1!==a?a.children("UL").remove():this.H.empty();this.Se(a,function(){c.ia({obj:b},"refresh");c.Ol()})},bt:function(a){this.save_selected();this.UA(a)},after_open:function(a){this.ia({obj:a},"after_open")},after_close:function(a){this.ia({obj:a},"after_close")},jN:function(){var a=
this;this.b.u.Zb.length&&e.each(this.b.u.Zb,function(b,c){a.Xf(c,!1,!0)});this.ia({},"reopen")},XJ:function(a){return a?e(a).find("a.oj-tree-clicked").parent():this.b.ui.selected},nt:function(a,b){a=this.aa(a);if(!a.length)return!1;a=a.children("a:eq(0)");if(this.b.u.qm){var c=a.children("INS").clone();a.html(b).prepend(c);this.ia({obj:a,name:b},"set_text");return!0}a=a.find("span:eq(0)");this.ia({obj:a,name:b},"set_text");return a[0].textContent=b},Se:function(a){this.ia({obj:a},"load_node")},cg:o_d(!0),
JL:function(a,b,c){var d=this;this.PL(a,function(){d.ia({obj:d.aa(a)},"load_node");b.call(this)},c)},CL:function(a){a=this.aa(a);return-1===a||!a||a.is(".oj-tree-open, .oj-tree-leaf")||0<a.children("ul").children("li").length},PM:function(a){(a=this.aa(a))&&-1!==a&&a.removeData("oj-tree-children");return this.bt(a)},LL:function(a,b,c){var d=this;this.NL(a,function(){d.ia({obj:d.aa(a)},"load_node");b.call(this)},c)},EL:function(a){var b=this.options.data;a=this.aa(a);return-1==a||!a||!b.ajax&&!this.b.ma.Fu&&
!e.isFunction(b.data)||a.is(".oj-tree-open, .oj-tree-leaf")||0<a.children("ul").children("li").length},KL:function(a,b,c){var d=this;this.ML(a,function(){d.ia({obj:d.aa(a)},"load_node");b.call(this)},c)},DL:function(a){var b=this.options.data,c=null,d=null;b&&(c=b.data||null,d=b.ajax||null);a=this.aa(a);return-1==a||!a||!d&&!e.isFunction(c)||a.is(".oj-tree-open, .oj-tree-leaf")||0<a.children("ul").children("li").size()},reselect:function(){var a=this,b=this.b.ui.$p,b=e.map(e.makeArray(b),function(a){return"#"+
a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});e.each(b,function(b,c){c&&"#"!==c&&a.select(c)});this.b.ui.selected=this.b.ui.selected.filter(o_c("parentNode"));this.ia(null,"reselect")},save_selected:function(){var a=this;this.b.ui.$p=[];this.b.ui.selected.each(function(){this.id&&a.b.ui.$p.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,
"\\.").replace(/\:/g,"\\:"))});this.ia(this.b.ui.$p,"save_selected")},rollback:function(a){a&&(e.isArray(a)||(a=[a]),e.each(a,o_a()))},get_rollback:function(){this.ia(null,"get_rollback");return{ES:this.qd,jg:this.U.children("ul").clone(!0),sS:this.data}},set_rollback:function(a,b){this.U&&this.H&&this.H.empty().append(a);this.data=b;this.ia(null,"set_rollback")},PL:function(a,b){var c=this.Ov(a);if(c.success&&c.Dm){var d=!a||-1===a,e=this.options.data;if(e.data&&!e.ajax||e.data&&e.ajax&&d)d&&((c=
this.Wg(c.Dm,a))?(this.H.empty().append(c.children()),this.Gd()):this.b.ma.td&&this.H.empty()),b&&b.call(this);else if(!e.data&&e.ajax||e.data&&e.ajax&&!d)(c=this.Wg(c.Dm,a))?(d?(d=this.H,d.empty().append(c.children()),d.attr("role","tree").attr("tabindex","0").css("outline","none"),-1===this.b.u.Bd&&d.attr("aria-multiselectable",!0)):(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")),this.Gd(a),b&&b.call(this)):d?this.b.ma.td&&(this.H.empty(),
b&&b.call(this)):(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),e.correct_state&&(this.Rh(a),b&&b.call(this)))}},Ov:function(a,b){var c=[],d=this.aC,f,g={},h={success:!1,Dm:null};-1==a&&(a=null,g.start=0);f=d.ye(a);0<f&&(g.count=f,d.vd(a,g,{success:e.proxy(function(a){for(var e=a.W(),f,g=0;g<e;g++){b={};(f=a.getData(g))&&(b.attr=f);b.title=a.ed[g].title;f.YD&&(b.metadata=a.ed[g].YD);var k=b.attr.id;f=d.ye(k);0<f&&(f=this.Ov(k,b),b.children=f.Dm);
c.push(b)}h.success=!0;h.Dm=c},this),error:function(){h.success=!1}}));return h},QM:function(a){a=this.aa(a);if(!this.b.u.locked){var b=!a||-1!==a||!a.length;if(b||!a.hasClass("oj-disabled")){var c=this.options.data.json;!b&&(this.b.ma.nk&&(e.isFunction(c.data)||c.ajax))&&a.removeData("oj-tree-children");return this.bt(a)}}},NL:function(a,b,c){function d(){}function f(){}var g=this.ag().data,h=g&&g.data||null,k=g&&g.ajax||null;!g||(h||k)||(h=g);if((a=this.aa(a))&&-1!==a&&(this.b.ma.Fu||this.b.ma.nk)&&
!a.is(".oj-tree-open, .oj-tree-leaf")&&0===a.children("ul").children("li").length&&a.data("oj-tree-children")){if(g=this.Wg(a.data("oj-tree-children"),a))a.append(g),this.b.ma.nk||a.removeData("oj-tree-children");this.Gd(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k:throw"ojTree - neither data nor ajax settings supplied.";case e.isFunction(h):h.call(this,a,e.proxy(function(d){(d=this.Wg(d,a))?(-1!==a&&a?(a.append(d).children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading")):this.H.empty().append(d.children()),this.Gd(a),b&&b.call(this)):(-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.b.ma.td&&this.Rh(a)):this.b.ma.td&&this.H.empty(),c&&c.call(this))},this));break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||((g=this.Wg(h,a))?(this.H.empty().append(g.children()),this.Gd()):this.b.ma.td&&this.H.empty());b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:f=function(b,
d,e){var f=this.ag().data.ajax.error;f&&f.call(this,d,e,b);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.b.ma.td&&this.Rh(a)):"success"===d&&this.b.ma.td&&this.H.empty();c&&c.call(this)},d=function(c,d,g){var h=this.ag().data.ajax.success;h&&(c=h.call(this,c,d,g)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,"")||!e.isArray(c)&&!e.isPlainObject(c))return f.call(this,g,d,"");(c=this.Wg(c,
a))?(-1!==a&&a?(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")):(d=this.H,d.empty().append(c.children()),d.attr("role","tree").attr("tabindex","0").css("outline","none"),-1===this.b.u.Bd&&d.attr("aria-multiselectable",!0)),this.Gd(a),b&&b.call(this)):-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.b.ma.td&&(this.Rh(a),b&&b.call(this))):this.b.ma.td&&(this.H.empty(),b&&b.call(this))},
g.ajax.context=this,g.ajax.error=f,g.ajax.success=d,g.dataType||(g.ajax.dataType="json"),e.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),e.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),e.ajax(g.ajax)}}},Wg:function(a,b,c){var d=!1,f,g,h,k;if(!a)return d;this.b.ma.nk&&(b&&-1!==b)&&b.data("oj-tree-children",d);if("string"==typeof a)try{a=e.parseJSON(a)}catch(l){a=[]}if(e.isArray(a)){d=e("\x3cul\x3e");if(!a.length)return!1;g=0;for(h=a.length;g<h;g++)f=this.Wg(a[g],b,
!0),f.length&&(d=d.append(f));d=d.children()}else{"string"==typeof a&&(a={data:a});k="string"==typeof a.title?a.title:" ";d=e("\x3cli role\x3d'treeitem' /\x3e");a.attr&&(this.b.types.Xj&&!a.attr.type&&(a.attr.type="oj-tree-deftype"),d.attr(a.attr));a.metadata&&d.data(a.metadata);(a.state||a.children&&0===a.children.length)&&d.addClass("oj-tree-"+("expanded"===a.state?"open":"closed"));a.data||(a.data={dummy:0});var m=!1;f=e("\x3ca tabindex\x3d'-1' /\x3e");e.each(a.data,function(b,c){e.isFunction(c)&&
(c=c.call(this,a));"string"!=typeof c&&("attr"==b?f.attr(c):"style"==b&&f.css(c),"language"==b&&f.addClass(c));m||(f.prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e"+k+"\x3c/span\x3e"),m=!0);!c.icon&&a.icon&&(c.icon=a.icon);c.icon&&(-1===c.icon.indexOf("/")?f.children("ins").addClass(c.icon):f.children("ins").css("background","url('"+c.icon+"') center center no-repeat"))});d.append(f);d.prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e");
a.children&&(this.b.ma.Fu&&"expanded"!==a.state?d.addClass("oj-tree-closed").attr("aria-expanded","false").data("oj-tree-children",a.children):(this.b.ma.nk&&d.data("oj-tree-children",a.children),e.isArray(a.children)&&a.children.length&&(f=this.Wg(a.children,b,!0),f.length&&(b=e("\x3cul role\x3d'group' /\x3e"),b.append(f),d.append(b)))))}c||(c=e("\x3cul /\x3e"),c.append(d),d=c);return d},AJ:function(a,b,c,d){var f=[],g=this.options,h=this,k,l,m,n,q,r;(a=this.aa(a))&&-1!==a||(a=this.U.find("\x3e ul \x3e li"));
b=e.isArray(b)?b:["id","class"];!d&&g.types&&b.push(g.types.attr);c=e.isArray(c)?c:[];a.each(function(){m=e(this);k={data:[]};b.length&&(k.attr={});e.each(b,function(a,b){(l=m.attr(b))&&(l.length&&l.replace(/oj-tree[^ ]*/ig,"").length)&&(k.attr[b]=(" "+l).replace(/ oj-tree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))});m.hasClass("oj-tree-open")&&(k.state="open");m.hasClass("oj-tree-closed")&&(k.state="closed");m.data()&&(k.YD=m.data());n=m.children("a");n.each(function(){q=
e(this);c.length||-1!==e.inArray("languages",g.plugins)||q.children("ins").get(0).style.backgroundImage.length||q.children("ins").get(0).className&&q.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").length?(r=!1,-1!==e.inArray("languages",g.plugins)&&(e.isArray(g.languages)&&g.languages.length)&&e.each(g.languages,function(a,b){if(q.hasClass(b))return r=b,!1}),l={attr:{},title:h.getText(q,r)},e.each(c,function(a,b){l.attr[b]=(" "+(q.attr(b)||"")).replace(/ oj-tree[^ ]*/ig,"").replace(/\s+$/ig,
" ").replace(/^ /,"").replace(/ $/,"")}),-1!==e.inArray("languages",g.plugins)&&(e.isArray(g.languages)&&g.languages.length)&&e.each(g.languages,function(a,b){if(q.hasClass(b))return l.language=b,!0}),q.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(l.Bi=q.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")),q.children("ins").get(0).style.backgroundImage.length&&(l.Bi=q.children("ins").get(0).style.backgroundImage.replace("url(",
"").replace(")",""))):l=h.getText(q);1<n.length?k.data.push(l):k.data=l});m=m.find("\x3e ul \x3e li");m.length&&(k.children=h.AJ(m,b,c,!0));f.push(k)});return f},Rh:function(a){a=this.aa(a);if(!a||-1===a)return!1;a.removeClass("oj-tree-closed oj-tree-open").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove();this.ia({obj:a},"correct_state")},tR:function(a,b){b.PS&&this.Xf(a,!1,!0)},Zz:function(){this.ia(null,"loaded")},ML:function(a,b,c){function d(){}function f(){}var g=
this.ag().data,h=g&&g.data||null,k=g&&g.ajax||null;if((a=this.aa(a))&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k&&g&&"string"===typeof g:this.Xz(g,a,b,c);break;case e.isFunction(h):h.call(this,a,e.proxy(function(d){this.Xz(d,a,b,c)},this));break;case !h&&!k:a&&-1!=a||(this.H.empty().append(this.b.html.Lp).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-icon").addClass("oj-tree-icon"),
this.Mo(this.H),this.b.types.Xj&&this.Ok(this.H),this.Gd(),this.H.find("ul").attr("role","group"),this.H.find("li").attr("role","treeitem"),this.H.find("a").attr("tabindex",-1));b&&b.call(this);break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||(g=e(h),g.is("ul")||(g=e("\x3cul /\x3e").append(g)),this.H.empty().append(g.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-icon").addClass("oj-tree-icon"),
this.Mo(this.H),this.b.types.Xj&&this.Ok(this.H),this.Gd(),this.H.find("ul").attr("role","group"),this.H.find("li").attr("role","treeitem"),this.H.find("a").attr("tabindex","-1"));b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:a=this.aa(a),f=function(b,d,e){var f=this.ag().data.ajax.error;f&&f.call(this,b,d,e);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.b.ma.td&&this.Rh(a)):"success"===d&&this.b.ma.td&&
this.H.empty();c&&c.call(this)},d=function(c,d,g){var h=this.ag().data.ajax.success;h&&(c=h.call(this,c,d,g)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return f.call(this,g,d,"");c?(c=e(c),c.is("ul")||(c=e("\x3cul /\x3e").append(c)),-1!=a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),this.aN(a),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-icon").addClass("oj-tree-icon"),
a.removeData("oj-tree-is-loading"),c=a):(this.H.empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-icon").addClass("oj-tree-icon"),c=this.H),this.zK(c),this.Mo(c),this.b.types.Xj&&c&&this.Ok(this.H),this.Gd(a),b&&b.call(this)):(a&&-1!==a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading"),this.b.ma.td&&(this.Rh(a),b&&b.call(this))):this.b.ma.td&&(this.H.empty(),b&&b.call(this)),this.H.find("ul").attr("role","group"),this.H.find("li").attr("role","treeitem"))},g.ajax.context=this,g.ajax.error=f,g.ajax.success=d,g.ajax.dataType||(g.ajax.dataType="html"),e.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),e.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),e.ajax(g.ajax)}},zK:function(a){a=a.find(a.is("ul")?"li ul":"ul").filter(function(){return!this.firstChild||
0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});e.each(a,function(){e(this).closest("li").addClass("oj-tree-closed")})},aN:function(a){a=a.find("ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});0<a.length&&a.remove()},Xz:function(a,b,c){a&&""!==a&&a.toString&&""!==a.toString().replace(/^[\s\n]+$/,"")?(a=e(a),a.is("ul")||(a=e("\x3cul /\x3e").append(a)),-1!=b&&b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
b.append(a).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-icon").addClass("oj-tree-icon"),b.removeData("oj-tree-is-loading"),a=b,this.Ok(this.uh)):(this.H.empty().append(a.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-icon").addClass("oj-tree-icon"),
a=this.H,this.Ok(this.H)),a&&this.Mo(a),this.Gd(b),c&&c.call(this)):b&&-1!==b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.removeData("oj-tree-is-loading"),this.b.ma.td&&(this.Rh(b),c&&c.call(this))):this.b.ma.td&&(this.H.empty(),c&&c.call(this))},Mo:function(a){e.each(a.find("li a"),function(a,b){var c=b.innerHTML,c=c.replace("ins\x3e","ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e");b.innerHTML=c+"\x3c/span\x3e"})},Ok:function(a){var b,c;this.b.types.Xj&&(c=(b=this.options.types)?
b.attr:this.b.types.Wb.attr,e.each(a.find("li"),function(a,b){b=e(b);b.attr(c)||b.attr(c,"oj-tree-deftype")}))},bo:function(){var a=this.b.dnd.Ta;if(a.na&&a.na.length){this.b.dnd.off=a.na.offset();this.Rg&&(this.b.dnd.off.right=this.b.dnd.off.left+a.na.width());if(this.b.dnd.zp)return a=this.options.dnd.drag_check.call(this,{o:a.La,r:a.na}),this.b.dnd.after=a.after,this.b.dnd.before=a.before,this.b.dnd.inside=a.inside,this.b.dnd.Km=!0,this.yr();this.Ej(a.La,a.na,"before");this.b.dnd.before=this.check_move();
this.Ej(a.La,a.na,"after");this.b.dnd.after=this.check_move();this.cg(a.na)?(this.Ej(a.La,a.na,"inside"),this.b.dnd.inside=this.check_move()):this.b.dnd.inside=!1;this.b.dnd.Km=!0;return this.yr()}},yr:function(){var a=this.b.dnd;if(a.Km){var b=["before","inside","after"],c=!1,d=a.gb,f=a.Ta,b=a.Ec<this.b.u.fe/3?["before","inside","after"]:a.Ec<=2*this.b.u.fe/3?a.Ec<this.b.u.fe/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"];e.each(b,e.proxy(function(a,b){if(this.b.dnd[b])return d.helper.children("ins").removeClass("oj-tree-invalid").addClass("oj-tree-ok"),
c=b,!1},this));!1===c&&d.helper.children("ins").removeClass("oj-tree-ok").addClass("oj-tree-invalid");a=this.Rg?this.b.dnd.off.right-18:this.b.dnd.off.left+10;switch(c){case "before":f.Qb.css({left:a+"px",top:this.b.dnd.off.top-8+"px"}).show();f.jb&&f.jb.css({left:a+8+"px",top:this.b.dnd.off.top-3+"px"}).show();break;case "after":f.Qb.css({left:a+"px",top:this.b.dnd.off.top+this.b.u.fe-8+"px"}).show();f.jb&&f.jb.css({left:a+8+"px",top:this.b.dnd.off.top+this.b.u.fe-3+"px"}).show();break;case "inside":f.Qb.css({left:a+
(this.Rg?-4:4)+"px",top:this.b.dnd.off.top+this.b.u.fe/2-5+"px"}).show();f.jb&&f.jb.hide();break;default:f.Qb.hide(),f.jb&&f.jb.hide()}return f.wu=c}},xr:function(a){var b=this.b.dnd,c=b.Ta;b.Mp&&(clearTimeout(b.Mp),b.Mp=!1);b.Km=!1;c.na=this.aa(a);a=this.options.dnd;var d=a.check_timeout;d?(b.ff&&clearTimeout(b.ff),b.ff=setTimeout(e.proxy(this.bo,this),d)):this.bo();(a=a.open_timeout)?(b.He&&clearTimeout(b.He),c.na&&(c.na.length&&c.na.hasClass("oj-tree-closed"))&&(b.He=setTimeout(e.proxy(this.jy,
this),a))):c.na&&(c.na.length&&c.na.hasClass("oj-tree-closed"))&&this.jy()},NI:function(a){var b=this.b.dnd,c=this.b.dnd.Ta;b.after=!1;b.before=!1;b.inside=!1;this.b.dnd.gb.helper.children("ins").removeClass("oj-tree-ok").addClass("oj-tree-invalid");c.Qb.hide();c.jb&&c.jb.hide();c.na&&c.na[0]===a.target.parentNode&&(b.ff&&(clearTimeout(b.ff),b.ff=!1),b.He&&(clearTimeout(b.He),b.He=!1))},jy:function(){var a=this.b.dnd.Ta;this.b.dnd.He=!1;this.expand(a.na,e.proxy(this.bo,this),!0)},MI:function(a){var b=
this.b.dnd,c=this.b.dnd.Ta;b.zp?(b.after||b.before||b.inside)&&this.options.dnd.drag_finish.call(this,{o:c.La,r:c.na,p:c.wu}):(this.bo(),this.Cj(c.La,c.na,c.wu,a[this.options.dnd.copy_modifier+"Key"]));c.La=!1;c.na=!1;c.Qb.hide();c.jb&&c.jb.hide()},ZN:function(a,b){var c=this.b.dnd,d=this.b.dnd.Ta;d.La=this.aa(a);if(!d.La.hasClass("oj-disabled")&&!this.b.u.locked){this.b.ui&&this.isSelected(d.La)&&(d.La=this.aa(null,!0));var e=1<d.La.length?this.l("m_multisel"):this.getText(d.La),f=this.U;this.b.u.qm||
(e=e.replace(/</ig,"\x26lt;").replace(/>/ig,"\x26gt;"));this.oy(b,{ee:!0,uh:d.La},"\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e"+e);this.b.ua&&(d.Qb&&d.Qb.addClass("oj-tree-"+this.b.ua.Ge),c.gb.helper.addClass("oj-tree-dnd-helper oj-tree-"+this.b.ua.Ge));c.Uj=f.offset();c.Rt=parseInt(f.width(),10);c.ch=parseInt(f.height(),10);c.$=!0}},oy:function(a,b,c){var d=this.b.dnd.gb;d.de&&this.Ar();try{a.currentTarget.unselectable="on",a.currentTarget.onselectstart=o_d(!1),a.currentTarget.style&&(a.currentTarget.style.MozUserSelect=
"none")}catch(f){}d.nu=a.pageX;d.ou=a.pageY;d.lc=b;d.su=!0;d.helper=e("\x3cdiv class\x3d'ojtreeu-dragged' /\x3e").html(c);e(document).bind("mousemove",this.ny.bind(this));e(document).bind("mouseup",this.Ar.bind(this));return!1},ny:function(a){var b=this.b.dnd.gb,c=this.b.dnd.Ta;if(b.su){if(!b.de)if(5<Math.abs(a.pageX-b.nu)||5<Math.abs(a.pageY-b.ou))b.helper.appendTo("body"),b.de=!0,e(document).triggerHandler("drag_start.ojtreeu",[{event:a,data:b.lc}]);else return;if("mousemove"===a.type){var d=e(document),
f=d.scrollTop(),d=d.scrollLeft();20>a.pageY-f?(c.Dc&&"down"===c.Yj&&(clearInterval(c.Dc),c.Dc=void 0),c.Dc||(c.Yj="up",c.Dc=setInterval(function(){e(document).scrollTop(e(document).scrollTop()-b.yh)},150))):c.Dc&&"up"===c.Yj&&(clearInterval(c.Dc),c.Dc=void 0);20>e(window).height()-(a.pageY-f)?(c.Dc&&"up"===c.Yj&&(clearInterval(c.Dc),c.Dc=void 0),c.Dc||(c.Yj="down",c.Dc=setInterval(function(){e(document).scrollTop(Number(e(document).scrollTop())+b.yh)},150))):c.Dc&&"down"===c.Yj&&(clearInterval(c.Dc),
c.Dc=void 0);20>a.pageX-d?(c.Cc&&"right"===c.Zj&&(clearInterval(c.Cc),c.Cc=void 0),c.Cc||(c.Zj="left",c.Cc=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()-b.yh)},150))):c.Cc&&"left"===c.Zj&&(clearInterval(c.Cc),c.Cc=void 0);20>e(window).width()-(a.pageX-d)?(c.Cc&&"left"===c.Zj&&(clearInterval(c.Cc),c.Cc=void 0),c.Cc||(c.Zj="right",c.Cc=setInterval(function(){e(document).scrollLeft(Number(e(document).scrollLeft())+b.yh)},150))):c.Cc&&"right"===c.Zj&&(clearInterval(c.Cc),c.Cc=
void 0)}b.helper.css({left:a.pageX+b.MP+"px",top:a.pageY+b.NP+"px"});e(document).triggerHandler("drag.ojtreeu",[{event:a,data:b.lc}])}},Ar:function(a){var b=this.b.dnd.Ta,c=this.b.dnd.gb;b.Cc&&clearInterval(b.Cc);b.Dc&&clearInterval(b.Dc);e(document).unbind("mousemove",this.ny.bind(this));e(document).unbind("mouseup",this.Ar.bind(this));e(document).triggerHandler("drag_stop.ojtreeu",[{event:a?a:{},data:c.lc}]);c.helper.remove();c.nu=0;c.ou=0;c.lc={};c.su=!1;c.de=!1},uN:function(){var a=this;this.b.u.Zb=
[];this.H.find("li.oj-tree-open").each(function(){this.id&&a.b.u.Zb.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.ia(a.b.u.Zb,"save_opened")},Ol:function(a){var b=this,c=!0,d=[],f=[];a||(this.b.u.Iu=!1,this.b.u.xQ=!0,(a="all"===this.b.u.Zb)?this.b.u.Zb=[]:"array"===e.type(this.b.u.Zb)&&(0<this.b.u.Zb.length&&"all"===this.b.u.Zb[0])&&(this.b.u.Zb.length=0,a=!0),a&&this.H.find("li.oj-tree-closed").each(function(){e(this).attr("id");
b.b.u.Zb.push("#"+e(this).attr("id"))}),this.b.u.Zb=e.map(e.makeArray(this.b.u.Zb),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.b.u.Ah=e.map(e.makeArray(this.b.u.Ah),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.b.u.Zb.length&&(this.b.u.Ah=this.b.u.Ah.concat(this.b.u.Zb)));
this.b.u.Ah.length&&(e.each(this.b.u.Ah,function(a,b){if("#"==b)return!0;e(b).length?d.push(b):f.push(b)}),d.length&&(this.b.u.Ah=f,e.each(d,function(a,d){b.cg(d)||(b.Se(d,function(){b.Ol(!0)},function(){b.Ol(!0)}),c=!1)})));this.b.u.Zb.length&&e.each(this.b.u.Zb,function(a,c){b.expand(c,!1,!0)});c&&(this.b.u.Iu&&clearTimeout(this.b.u.Iu),this.b.u.Iu=setTimeout(function(){b.ia({},"reload_nodes")},50),this.b.u.xQ=!1,this.jN())},set_theme:function(b,c){if(!b)return!1;c||(c=this.b.ua.Ul+b+"/style.css");
-1==e.inArray(c,this.b.ua.AE)&&(a({url:c}),this.b.ua.AE.push(c));this.b.ua.Ge!=b&&(this.U.removeClass("oj-tree-"+this.b.ua.Ge),this.b.ua.Ge=b);this.U.addClass("oj-tree-"+b);this.b.ua.$j?this.show_dots():this.hide_dots();this.b.ua.icons?this.show_icons():this.hide_icons();this.ia(null,"set_theme")},show_dots:function(){this.b.ua.$j=!0;this.U.children("ul").removeClass("oj-tree-no-dots")},hide_dots:function(){this.b.ua.$j=!1;this.U.children("ul").addClass("oj-tree-no-dots")},toggle_dots:function(){this.b.ua.$j?
this.hide_dots():this.show_dots()},isIcons:function(){return this.b.ua.icons},show_icons:function(){this.b.ua.icons=!0;this.U.children("ul").removeClass("oj-tree-no-icons")},hide_icons:function(){this.b.ua.icons=!1;this.U.children("ul").addClass("oj-tree-no-icons")},toggle_icons:function(){this.data.ua.icons?this.hide_icons():this.show_icons()},SI:function(){this.b.keys.enabled=!0},vR:function(){this.b.keys.enabled=!1},kL:function(){this.dL();this.cL();this.Dz();this.mL();this.fL();this.bL();this.oL();
this.jL();this.Ez();this.nL();this.eL();this.Fz();this.Nj()},ia:function(a,b){if(b&&"string"===e.type(b)){var c,d;c=Array.prototype.slice.call(arguments);var f=b;d=this.U;var h="before"===b,k=!1,l;if(!0!==this.b.u.locked||"unlock"===b||"isLocked"===b||"lock"===b){f=b;"rename_node"===f?f="rename":"set_focus"===f?f="focus":"unset_focus"===f?f="unfocus":"delete_node"===f?f="remove":"move_node"===f?f="move":"create_node"===f&&(f="create");(k=0<=e.inArray(f,g))||"create_node"!=f||(k=!0);k||(f="tree"+f);
l=a?a.obj:void 0;"loaded"===f&&(l=-1);var m={};m.item=l;m.inst=d;if(h)d=a.func,m.func=d,m.args=c,"rename"===d&&(m.title=a.title,m.prevTitle=a.prevTitle);else if(k)if("move"==f)m.position=a.sg,m.reference=a.na,m.data=a;else if("rename"==f)m.title=a.title,m.prevTitle=a.prevTitle;else if("remove"==f)m.parent=a.parent,m.prev=a.prev;else if("delete"==f)m.prev=a.prev,m.parent=a.parent;else if("expandAll"===f||"collapseAll"===f||"deselectAll"===f)m.targ=a.targ;if(k){if(c=this._trigger(f,new e.Event("oj"+
f),m),h)return"undefined"!=typeof c&&(c=c?!0:!1),c}else this.U.trigger(f,m)}}},Lh:function(){return this.get_rollback()},pR:o_a(),Nj:function(){this.Qu();this.Rg&&this.U.addClass("oj-tree-rtl").css("direction","rtl");this.U.html("\x3cul role\x3d'tree' tabindex\x3d'0' class\x3d'oj-tree-list' style\x3d'outline:none'"+(-1===this.b.u.Bd?" aria-multiselectable\x3d'true'":"")+"\x3e\x3cli class\x3d'oj-tree-last oj-tree-leaf'\x3e\x3cins\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'oj-tree-loading' href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e"+
this.l("m_loading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.H=this.U.children("ul:eq(0)");this.U.data("oj-tree-instance-id",this.qd);this.b.u.fe=this.H.find("li.oj-tree-closed, li.oj-tree-leaf").eq(0).height()||18;this.U.delegate(".oj-tree-list li \x3e ins","click.ojtree",e.proxy(function(a){a=e(a.target);this.toggleExpand(a)},this)).bind("mousedown.ojtree",e.proxy(function(){this.Qu()},this)).bind("dblclick.ojtree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();
else if(window.getSelection){a=window.getSelection();try{a.removeAllRanges(),a.collapse(document.getElementsByTagName("body")[0],0)}catch(b){}}});this.H.focus(e.proxy(function(){this.b.ui.xd=!0},this)).blur(e.proxy(function(){this.b.ui.xd=!1},this));this.b.u.nQ&&this.U.bind("treeload_node",e.proxy(function(a,b){var c=this.aa(b.item),d=this;-1===c&&(c=this.H);c.length&&c.find("li").each(function(){var a=e(this);a.data("oj-tree")&&e.each(a.data("oj-tree"),function(b,c){a.data[b]&&e.isFunction(d["_"+
b+"_notify"])&&d["_"+b+"_notify"].call(d,a,c)})})},this));this.b.u.eQ&&this.U.bind("treeload_node",e.proxy(function(a,b){var c=this.aa(b.item);-1===c&&(c=this.H);c.length&&c.find("li.oj-tree-open:not(:has(ul))").each(function(){this.Se(this,e.noop,e.noop)})},this));this.ia({},"init");0!==this.b.ma.type&&-1!==this.b.ma.type?this.Se(-1,function(){this.Zz();this.Ol()}):this.lH();this.b.menu.Li&&this.Vw();d({uz:this.FL,vB:this.H,bC:this});this.SI()},bL:function(){this.b.u.locked=!1;this.U.addClass("oj-tree oj-tree-"+
this.qd);this.U.css("outline","none");this.U.css("MozUserSelect","none");this.U.css("WebkitTouchCallout","none");this.U.css("WebkitUserSelect","none");this.U.css("WebkitTapHighlightColor","rgba(0,0,0,0)")},oL:function(){this.b.ui.selected=e();this.b.ui.wb=!1;this.b.ui.ib=null;this.U.delegate(".oj-tree-list a","click.ojtree",e.proxy(function(a){a.preventDefault();a.currentTarget.blur();e(a.currentTarget).hasClass("oj-tree-loading")||(this.Qu(),this.Ij(a.currentTarget,!0,a))},this)).delegate(".oj-tree-list a",
"mouseenter.ojtree",e.proxy(function(a){e(a.currentTarget).hasClass("oj-tree-loading")||this.hover(a.target)},this)).delegate(".oj-tree-list a","mouseleave.ojtree",e.proxy(function(a){e(a.currentTarget).hasClass("oj-tree-loading")||this.dehover(a.target)},this)).bind("treereopen",e.proxy(function(){this.reselect()},this)).bind("treeget_rollback",e.proxy(function(){this.dehover();this.save_selected()},this)).bind("treeset_rollback",e.proxy(function(){this.reselect()},this)).bind("ojcollapse",e.proxy(function(a,
b){var c=this.aa(b.item),d=c&&c.length?c.children("ul").find("a.oj-tree-clicked"):e();!1!==this.options.selectedParentCollapse&&d.length&&d.each(function(){this.deselect(this);"selectParent"===this.options.selectedParentCollapse&&this.select(c)})},this)).bind("ojremove",e.proxy(function(a,b){var c=this.options.selectPrevOnDelete,d=this.aa(b.item),d=d&&d.length?d.find("a.oj-tree-clicked"):[],e=this;d.each(function(){e.deselect(this)});c&&d.length&&b.prev.each(function(){if(this.parentNode)return e.select(this),
!1})},this)).bind("ojmove",e.proxy(function(a,b){var c=b.data;c.cy&&(c.oc.find("a.oj-tree-clicked").removeClass("oj-tree-clicked"),c.oc.removeAttr("aria-selected"))},this))},Ez:function(){this.lL();this.hL();this.gL()},lL:function(){1===this.b.ma.type&&(this.aC=this.options.data||null,this.Se=this.JL,this.cg=this.CL,this.Ob=this.PM)},hL:function(){3===this.b.ma.type&&(this.b.ma.nk&&this.U.bind("treeafter_close",function(a,b){b.item.children("ul").remove()}),this.Se=this.LL,this.cg=this.EL,this.Ob=
this.QM)},gL:function(){4===this.b.ma.type&&(this.b.html.bq&&(this.b.html.Lp=this.U.find(" \x3e ul \x3e li"),this.b.html.Nt=this.b.html.Lp.clone(!0),this.b.html.Lp.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove()),this.Se=this.KL,this.cg=this.DL,this.Ob=this.bt)},jL:function(){!1===this.b.ua.Ul&&e("script").each(function(){if(this.src.toString().match(/jquery\.oj-tree[^\/]*?\.js(\?.*)?$/))return this.b.ua.Ul=this.src.toString().replace(/jquery\.oj-tree[^\/]*?\.js(\?.*)?$/,
"")+"themes/",!1});!1===this.b.ua.Ul&&(this.b.ua.Ul="themes/");this.U.bind("treeinit",e.proxy(function(){var a=this.options;this.b.ua.$j=a.dots;this.b.ua.icons=a.icons;this.set_theme(this.b.ua.Ge,this.b.ua.url)},this)).bind("ojloaded",e.proxy(function(){this.b.ua.$j?this.show_dots():this.hide_dots();this.b.ua.icons?this.show_icons():this.hide_icons()},this))},nL:function(){var b=this.options.types;b&&this.U.bind("treeinit",e.proxy(function(){var c=e.extend(!0,{},b.types),d=b.attr||this.b.types.Wb.attr,
f="",g=this;e.each(c,function(a,b){e.each(b,function(a){/^(maxDepth|maxChildren|icon|validChildren)$/.test(a)||g.b.types.EC.push(a)});var c=typeof b.icon;if("undefined"===c){c=typeof b.image;if("boolean"===c&&!b.image)b.image="ojt$none";else if(!b.image&&!b.position)return!0;b.icon={};b.image&&(b.icon.image=b.image,delete b.image);void 0!==b.position&&(b.icon.position=b.position,delete b.position)}if(b.icon.image||b.icon.position)"default"==a?(g.b.types.Xj=!0,f+=".oj-tree-"+g.qd+" .oj-tree-list a \x3e .oj-tree-icon { ",
f+=g.Pw(b,f),f+="} ",f+=".oj-tree-"+g.qd+" .oj-tree-list li["+d+'\x3d"oj-tree-deftype"] \x3e a .oj-tree-icon { '):b.icon.image&&(f+=".oj-tree-"+g.qd+" .oj-tree-list li["+d+'\x3d"'+a+'"] \x3e a \x3e ins.oj-tree-icon { '),f+=g.Pw(b,f),f+="} "});""!==f&&a({Yp:f,title:"oj-tree-types"})},this)).bind("ojbefore",e.proxy(function(a,b){var c,d,f=b.func,g=b.item;if((c=(c=this.b.types.Wb.useData?this.aa(g):!1)&&-1!==c&&c.length?c.data("oj-tree"):!1)&&c.types&&!1===c[f]||-1!==e.inArray(f,this.b.types.EC)&&(b.item&&
(b.item.tagName||b.item.jquery))&&(c=this.options.types.types,d=this.ks(g),(c[d]&&"undefined"!==typeof c[d][f]||c["default"]&&"undefined"!==typeof c["default"][f])&&!1===this.vx(f,g)))return a.stopImmediatePropagation(),!1},this))},Pw:function(a){var b="",b="ojt$none"!==a.icon.image?b+(" background-image:url("+a.icon.image+"); "):b+" background-image:none; ";return b=a.icon.position?b+(" background-position:"+a.icon.position+"; "):b+" background-position:0 0; "},eL:function(){if(this.b.dnd.ok){var a=
this.b.dnd.Ta;a.Qb=e("\x3cdiv /\x3e").addClass("oj-tree-marker").hide().html("\x26raquo;").bind("mouseleave mouseenter",e.proxy(function(a){var b=this.b.dnd.Ta;b.Qb.hide();b.jb.hide();a.preventDefault();a.stopImmediatePropagation();return!1},this)).appendTo("body");a.jb=e("\x3cdiv /\x3e").addClass("oj-tree-marker-line").hide().bind("mouseup",function(a){var b=this.b.dnd.Ta;if(b.na&&b.na.length)return b.na.children("a").trigger(a),a.preventDefault(),a.stopImmediatePropagation(),!1}).bind("mouseleave",
e.proxy(function(a){var b=this.b.dnd.Ta,c=e(a.relatedTarget);if((c.is(".oj-tree")||0===c.closest(".oj-tree").length)&&b.na&&b.na.length)return b.na.children("a").trigger(a),b.Qb.hide(),b.jb.hide(),a.preventDefault(),a.stopImmediatePropagation(),!1},this)).appendTo("body");e(document).bind("drag_start.ojtreeu",e.proxy(function(a,b){var c=this.b.dnd.Ta;b.data.ee&&(c.Qb.show(),c.jb&&c.jb.show())},this));e(document).bind("drag_stop.ojtreeu",e.proxy(function(a,b){var c=this.b.dnd.Ta;b.data.ee&&(c.Qb.hide(),
c.jb&&c.jb.hide())},this));this.U.bind("mouseenter.ojtree",e.proxy(function(a){var b=this.b.dnd.gb,c=this.b.dnd.Ta;b.de&&b.lc.ee&&(this.options.themes&&(c.Qb.addClass("oj-tree-"+this.b.ua.Ge),c.jb&&c.jb.addClass("oj-tree-"+this.b.ua.Ge),b.helper.addClass("oj-tree-dnd-helper oj-tree-"+this.b.ua.Ge)),a.currentTarget===a.target&&(b.lc.uh&&e(b.lc.uh).length&&e(b.lc.uh).parents(".oj-tree:eq(0)")[0]!==a.target)&&(a=this.KA(a.target),a.data.dnd.zp?(c=a.options.dnd.drag_check.call(this,{o:c.La,r:a.U,is_root:!0}),
!0!==c&&!0!==c.inside&&!0!==c.before&&!0!==c.after||b.helper.children("ins").removeClass("oj-tree-invalid").addClass("oj-tree-ok")):(a.Ej(c.La,a.U,"last"),a.check_move()&&b.helper.children("ins").removeClass("oj-tree-invalid").addClass("oj-tree-ok"))))},this)).bind("mouseup.ojtree",e.proxy(function(a){var b=this.b.dnd.Ta,c=this.b.dnd.gb;c.de&&(c.lc.ee&&a.currentTarget===a.target&&c.lc.uh&&e(c.lc.uh).length&&e(c.lc.uh).parents(".oj-tree:eq(0)")[0]!==a.target)&&(c=this.KA(a.currentTarget),c.data.dnd.foreign?
(a=c.ag().dnd.drag_check.call(this,{o:b.La,r:c.U,is_root:!0}),!0!==a&&!0!==a.inside&&!0!==a.before&&!0!==a.after||c.ag().dnd.drag_finish.call(this,{o:b.La,r:c.U,is_root:!0})):c.Cj(b.La,c.U,"last",a[c.options.dnd.copy_modifier+"Key"]))},this)).bind("mouseleave.ojtree",e.proxy(function(a){var b=this.b.dnd.gb;if(a.relatedTarget&&e(a.relatedTarget).hasClass("oj-tree-marker-line"))return!1;b.de&&b.lc.ee&&(this.b.dnd.$d&&clearInterval(this.b.dnd.$d),this.b.dnd.ae&&clearInterval(this.b.dnd.ae),this.b.dnd.ff&&
clearTimeout(this.b.dnd.ff),this.b.dnd.He&&clearTimeout(this.b.dnd.He),b.helper.children("ins").hasClass("oj-tree-ok")&&b.helper.children("ins").removeClass("oj-tree-ok").addClass("oj-tree-invalid"))},this)).bind("mousemove.ojtree",e.proxy(function(a){var b=this.b.dnd.gb;if(b.de&&b.lc.ee){var c=this.U[0];a.pageX+24>this.b.dnd.Uj.left+this.b.dnd.Rt?(this.b.dnd.$d&&clearInterval(this.b.dnd.$d),this.b.dnd.$d=setInterval(e.proxy(function(){this.scrollLeft+=b.yh},c),100)):a.pageX-24<this.b.dnd.Uj.left?
(this.b.dnd.$d&&clearInterval(this.b.dnd.$d),this.b.dnd.$d=setInterval(e.proxy(function(){this.scrollLeft-=b.yh},c),100)):this.b.dnd.$d&&clearInterval(this.b.dnd.$d);a.pageY+24>this.b.dnd.Uj.top+this.b.dnd.ch?(this.b.dnd.ae&&clearInterval(this.b.dnd.ae),this.b.dnd.ae=setInterval(e.proxy(function(){this.scrollTop+=b.yh},c),100)):a.pageY-24<this.b.dnd.Uj.top?(this.b.dnd.ae&&clearInterval(this.b.dnd.ae),this.b.dnd.ae=setInterval(e.proxy(function(){this.scrollTop-=b.yh},c),100)):this.b.dnd.ae&&clearInterval(this.b.dnd.ae)}},
this)).bind("scroll.ojtree",e.proxy(function(){var a=this.b.dnd.gb,b=this.b.dnd.Ta;a.de&&(a.lc.ee&&b.Qb&&b.jb)&&(b.Qb.hide(),b.jb.hide())},this)).delegate(".oj-tree-list a","mousedown.ojtree",e.proxy(function(a){if(1===a.which)return this.ZN(a.currentTarget,a),!1},this)).delegate(".oj-tree-list a","mouseenter.ojtree",e.proxy(function(a){var b=this.b.dnd.gb;b.de&&b.lc.ee&&this.xr(a.currentTarget)},this)).delegate(".oj-tree-list a","mousemove.ojtree",e.proxy(function(a){var b=this.b.dnd.gb,c=this.b.dnd.Ta;
b.de&&b.lc.ee&&(c.na&&c.na.length&&c.na.children("a")[0]===a.currentTarget||this.xr(a.currentTarget),"undefined"===typeof this.b.dnd.off.top&&(this.b.dnd.off=e(a.target).offset()),"undefined"===typeof this.b.dnd.off.top&&(this.b.dnd.off=e(a.target).offset()),this.b.dnd.Ec=(a.pageY-(this.b.dnd.off.top||0))%this.b.u.fe,0>this.b.dnd.Ec&&(this.b.dnd.Ec+=this.b.u.fe),this.yr())},this)).delegate(".oj-tree-list a","mouseleave.ojtree",e.proxy(function(a){var b=this.b.dnd.gb,c=this.b.dnd.Ta;if(b.de&&b.lc.ee){if(a.relatedTarget&&
e(a.relatedTarget).hasClass("oj-tree-marker-line"))return!1;c.Qb&&c.Qb.hide();c.jb&&c.jb.hide();this.b.dnd.Mp=setTimeout(function(b){return function(){b.NI(a)}}(this),0)}},this)).delegate(".oj-tree-list a","mouseup.ojtree",e.proxy(function(a){var b=this.b.dnd.gb;b.de&&b.lc.ee&&this.MI(a)},this));e(document).bind("drag_stop.ojtreeu",e.proxy(function(){var a=this.b.dnd,b=this.b.dnd.Ta;a.ff&&clearTimeout(a.ff);a.He&&clearTimeout(a.He);a.$d&&clearInterval(a.$d);a.ae&&clearInterval(a.ae);a.after=!1;a.before=
!1;a.inside=!1;a.off=!1;a.Km=!1;a.Ec=!1;a.ff=!1;a.He=!1;a.$d=!1;a.ae=!1;a.$=!1;a.zp=!1;b.Qb&&b.Qb.css({top:"-2000px"});b.jb&&b.jb.css({top:"-2000px"})},this)).bind("drag_start.ojtreeu",e.proxy(function(a,b){if(b.data.ee){var c=e(b.event.target);c.closest(".jstree").hasClass("oj-tree-"+this.qd)&&this.xr(c)}},this));a=this.options.dnd;a.drag_target&&e(document).delegate(a.drag_target,"mousedown.ojtree-"+this.qd,e.proxy(function(a){var b=this.b.dnd.gb,c=this.b.dnd,d=this.b.dnd.Ta;d.La=a.target;this.oy(a,
{ee:!0,uh:a.target},"\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e"+e(a.target).text());this.b.ua&&(d.Qb&&d.Qb.addClass("oj-tree-"+this.b.ua.Ge),d.jb&&d.jb.addClass("oj-tree-"+this.b.ua.Ge),b.helper.addClass("oj-tree-dnd-helper oj-tree-"+this.b.ua.Ge));b.helper.children("ins").removeClass("oj-tree-ok").addClass("oj-tree-invalid");b=this.U;c.Uj=b.offset();c.Rt=parseInt(b.width(),10);c.ch=parseInt(b.height(),10);c.zp=!0;a.preventDefault()},this));a.drop_target&&e(document).delegate(a.drop_target,
"mouseenter.ojtreex-"+this.qd,e.proxy(function(a){var b=this.b.dnd,c=this.b.dnd.Ta;b.$&&this.options.dnd.drop_check.call(this,{o:c.La,r:e(a.target),e:a})&&b.gb.helper.children("ins").removeClass("oj-tree-invalid").addClass("oj-tree-ok")},this)).delegate(a.drop_target,"mouseleave.ojtree-"+this.qd,e.proxy(function(){this.b.dnd.$&&this.b.dnd.gb.helper.children("ins").removeClass("oj-tree-ok").addClass("oj-tree-invalid")},this)).delegate(a.drop_target,"mouseup.ojtreex-"+this.qd,e.proxy(function(a){var b=
this.b.dnd.Ta;this.b.dnd.$&&this.b.dnd.gb.helper.children("ins").hasClass("oj-tree-ok")&&this.options.dnd.drop_finish.call(this,{o:b.La,r:e(a.target),e:a})},this))}},fL:function(){var a=this.options.dnd,b=typeof a;"undefined"!==b&&("boolean"===b&&a?this.b.dnd.ok=!0:"object"===b?"boolean"===typeof a.reorder&&(this.b.dnd.ok=a.reorder):"string"==b&&"reorder"==a&&(this.b.dnd.ok=!0),this.b.dnd.ok&&(this.options.dnd={},this.Tw(this.options.dnd,this.b.dnd.Wb)))},RR:function(){this.U.bind("ojmove",e.proxy(o_a(),
this))},VR:o_a(),Fz:function(a){var b,c;if(a||this.options.contextMenu){b=a||this.options.contextMenu;c=e.type(b);if("function"==c){try{b=b()}catch(d){b=null}c=e.type(b)}if("string"===c){if(b=e(b))b.css("display","none"),c=this.b.menu,c.Bh=b,c.Li=!0;this.b.menu.Li&&a&&this.Vw()}}},rj:function(a){this.b.menu.Ef="keydown"===a.originalEvent.originalEvent.type?this.b.ui.ib:e(a.originalEvent.target.parentNode);this.b.menu.WQ=this.b.menu.Ef.closest("div").attr("id");this.b.menu.Bh.ojMenu("option","menuPosition",
{my:"left top",at:"left bottom",of:this.b.menu.Ef[0]});if(this.b.menu.Li&&this.b.menu.sk){a=this.b.menu.sk.hasClass("oj-disabled");var b=!this.b.ub.xe&&!this.b.ub.xi;a||(a=!1);a!=b&&(b?this.b.menu.sk.addClass("oj-disabled"):this.b.menu.sk.removeClass("oj-disabled"),this.b.menu.Bh.ojMenu("refresh"))}},sj:function(a,b){if(!b.inst&&this.b.menu.WQ==this.Cr.substr(1)){var c=b?b.item.attr("id"):void 0;"ojtreecopy"===c?this.uI(this.b.menu.Ef):"ojtreecut"===c?this.wI(this.b.menu.Ef):"ojtreepaste"===c?this.xI(this.b.menu.Ef):
"ojtreeremove"===c?this.isSelected(this.b.menu.Ef)?this.Wx():this.Wx(this.b.menu.Ef):"ojtreerename"===c?this.yI(this.b.menu.Ef):"ojtreecreate"===c&&this.vI(this.b.menu.Ef)}},eg:function(a,b){a.show(b,{launcher:this.H,focus:"menu"})},cL:function(){var a=this.options.selectionMode,a=void 0==a?"single":a;"none"===a?a=0:"single"===a?a=1:"multiple"===a&&(a=-1);this.b.u.Bd=a;this.b.ua.icons=this.options.icons;this.b.u.Zb=this.options.initExpanded;null==this.b.u.Zb&&(this.b.u.Zb=[]);this.b.u.Ah=this.options.initLoaded},
ZR:o_a(),Dz:function(){var a=this.options.data,c;this.b.ma.type=0;this.b.html.bq=!1;if(a)if(c=e.type(a),"string"===c)this.xL(a)?this.b.ma.type=4:this.b.ma.type=3;else if("array"===c)this.b.ma.type=3;else if("object"===c){try{a instanceof b.Db&&(this.b.ma.type=1)}catch(d){this.b.ma.type=-1}if(1!==this.b.ma.type)try{a instanceof b.ha&&(this.b.ma.type=2)}catch(f){this.b.ma.type=-1}1!==this.b.ma.type&&2!==this.b.ma.type&&(a.data||a.ajax)&&((c=a.dataType)?"json"===c?this.b.ma.type=3:"html"===c&&(this.b.ma.type=
4):(a.dataType="json",this.b.ma.type=3))}0==this.b.ma.type&&0<this.U.find("ul").length&&(this.b.ma.type=4,this.b.html.bq=!0)},YR:o_a(),UR:o_a(),TR:o_a(),SR:o_a(),WR:o_a(),XR:o_a(),mL:function(){var a=this.options.types;"object"===typeof a&&this.Tw(a,{attr:this.b.types.Wb.attr})},dL:function(){var a=this.b;a.u={qm:!1,RP:[],Bd:1,eQ:!1,fe:0,nQ:!0,Zb:!1,Ah:!1,Sc:{}};a.ui={selected:e(),wb:!1,ib:null,$p:null,opacity:1,Su:!1,xd:!1};a.ui.Wb={selectMultipleModifier:"ctrl",selectRangeModifier:"shift",disableSelectingChildren:!1};
a.ub={};a.ub.xi=!1;a.ub.xe=!1;a.ub.Wb={inputWidthLimit:200,move:{alwaysCopy:!1,openOnMove:!0,defaultPosition:"last",checkMove:o_d(!0)}};a.ub.Sc={};a.ma={};a.ma.Fu=!1;a.ma.nk=!1;a.ma.td=!0;a.ma.type=0;a.cQ={};a.cQ.Wb={data:!1,ajax:!1};a.html={};a.html.Wb={data:!1,ajax:!1};a.html.bq=!1;a.html.Lp=!1;a.html.Nt=!1;a.ua={};a.ua.icons=!0;a.ua.$j=!1;a.ua.Ge="default";a.ua.url=!1;a.ua.AE=[];a.ua.Ul=!1;a.types={};a.types.EC=[];a.types.Xj=!1;a.types.Wb={maxChildren:-1,maxDepth:-1,validChildren:"all",useData:!1,
attr:"type",types:{"default":{maxChildren:-1,maxDepth:-1,validChildren:"all"}}};a.menu={};a.menu.Li=!1;a.menu.Bh=!1;a.menu.sk=!1;a.menu.Ef=!1;a.keys={};a.keys.enabled=!0;a.keys.bound=[];a.dnd={};a.dnd.ok=!1;a.dnd.$=!1;a.dnd.after=!1;a.dnd.inside=!1;a.dnd.before=!1;a.dnd.off=!1;a.dnd.Km=!1;a.dnd.Ec=0;a.dnd.ff=!1;a.dnd.He=!1;a.dnd.Uj=!1;a.dnd.Rt=!1;a.dnd.ch=!1;a.dnd.$d=!1;a.dnd.ae=!1;a.dnd.Mp=!1;a.dnd.Wb={copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".oj-tree-drop",drop_check:o_d(!0),
drop_finish:e.noop,drag_target:".oj-tree-draggable",drag_finish:e.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}};a.dnd.Ta={};a.dnd.Ta.La=!1;a.dnd.Ta.na=!1;a.dnd.Ta.Qb=!1;a.dnd.Ta.jb=!1;a.dnd.Ta.Cc=void 0;a.dnd.Ta.Dc=void 0;a.dnd.Ta.Yj=!1;a.dnd.Ta.Zj=!1;a.dnd.Ta.wu=!1;a.dnd.gb={};a.dnd.gb.su=!1;a.dnd.gb.de=!1;a.dnd.gb.helper=!1;a.dnd.gb.yh=10;a.dnd.gb.nu=0;a.dnd.gb.ou=0;a.dnd.gb.bT=5;a.dnd.gb.MP=5;a.dnd.gb.NP=10;a.dnd.gb.lc={}},Cy:function(a){var b=this.U[0];b.scrollHeight>b.offsetHeight&&
(a=this.aa(a))&&(-1!==a&&a.length&&a.is(":visible"))&&(a=a.offset().top-this.U.offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.b.u.fe+(b.scrollWidth>b.offsetWidth?k:0)>b.offsetHeight&&(b.scrollTop+=a-b.offsetHeight+this.b.u.fe+1+(b.scrollWidth>b.offsetWidth?k:0)))},Qu:function(){this.Po()||(this.eJ()&&this.YQ(),this.U.addClass("oj-tree-focused"),this.H&&this.H.focus(),this.b.ui.xd=!0,this.ia(null,"set_focus"))},Po:function(){return this.b.ui.xd},YQ:function(){this.Po()&&(this.U.removeClass("oj-tree-focused"),
this.b.ui.xd=!1,this.H&&this.H.blur());this.ia(null,"unset_focus")},eJ:function(){var a=null;e.each(r,function(b,c){if(c.b.ui.xd)return a=c,!1});return a},eM:function(){return++q},ER:o_c("qd"),ag:function(){return e.extend(!0,{},this.options)},yR:o_c("U"),FL:{up:function(){this.hover(this.bg(this.b.ui.ib||this.b.ui.wb||-1));return!1},"ctrl+up":function(){this.hover(this.bg(this.b.ui.ib||this.b.ui.wb||-1));return!1},"shift+up":function(){this.select(this.bg(this.b.ui.ib||this.b.ui.wb||-1),-1!==this.b.ui.Bd);
return!1},down:function(){this.hover(this.Xh(this.b.ui.ib||this.b.ui.wb||-1));return!1},"ctrl+down":function(){this.hover(this.Xh(this.b.ui.ib||this.b.ui.wb||-1));return!1},"shift+down":function(){this.select(this.Xh(this.b.ui.ib||this.b.ui.wb||-1),-1!==this.b.ui.Bd);return!1},left:function(){var a=this.b.ui.ib||this.b.ui.wb;a&&(a.hasClass("oj-tree-open")?this.collapse(a):this.hover(this.bg(a)));return!1},"ctrl+left":function(){var a=this.b.ui.ib||this.b.ui.wb;a&&(a.hasClass("oj-tree-open")?this.collapse(a):
this.hover(this.bg(a)));return!1},"shift+left":function(){var a=this.b.ui.ib||this.b.ui.wb;a&&(a.hasClass("oj-tree-open")?this.collapse(a):this.hover(this.bg(a)));return!1},right:function(){var a=this.b.ui.ib||this.b.ui.wb;a&&a.length&&(a.hasClass("oj-tree-closed")?this.expand(a):this.hover(this.Xh(a)));return!1},"ctrl+right":function(){var a=this.b.ui.ib||this.b.ui.wb;a&&a.length&&(a.hasClass("oj-tree-closed")?this.expand(a):this.hover(this.Xh(a)));return!1},"shift+right":function(){var a=this.b.ui.ib||
this.b.ui.wb;a&&a.length&&(a.hasClass("oj-tree-closed")?this.expand(a):this.hover(this.Xh(a)));return!1},space:function(){this.b.ui.ib&&(this.b.ui.Su=!0,this.b.ui.ib.children("a:eq(0)").click(),this.b.ui.Su=!1);return!1},home:function(){this.hover(this.H.find("li:first"));return!1},end:function(){var a=this.H.find("li.oj-tree-last:visible");this.hover(a[a.length-1]);return!1},"*":function(){this.H.find("a");this.Fr(-1,!1);return!1},"ctrl+space":function(){if(this.b.ui.ib){var a=e.Event("click");a.ctrlKey=
!0;this.b.ui.ib.children("a:eq(0)").trigger(a)}return!1},"shift+space":function(){if(this.b.ui.ib){var a=e.Event("click");a.shiftKey=!0;this.b.ui.ib.children("a:eq(0)").trigger(a)}return!1},"shift+home":function(){var a=this.b.ui.ib;if(a){var b=!0,c=this,d=this.H.find("li:visible"),a=a[0];e.each(d,function(d,e){e==a&&(b=!1);c.Ij(e,!0);return b})}return!1},"shift+pgdn":function(){var a=this.b.ui.ib;if(a){var b=!1,c=this,d=this.H.find("li:visible"),a=a[0];e.each(d,function(d,e){b||e==a&&(b=!0);b&&c.Ij(e,
!0);return!0})}return!1},f2:function(){this.rename(this.b.ui.ib||this.b.ui.wb);return!1},del:function(){this.remove(this.b.ui.ib||this.aa(null));return!1}},Vw:function(){if(this.b.menu.Li){var a=this.b.menu.Bh,b=this;a.on("ojselect",e.proxy(this.sj,this));a.on("ojbeforeshow",e.proxy(this.rj,this));var c=!1;a.find("[data-oj-command]").each(function(){var a;0===e(this).children("a").length&&(a=e(this).attr("data-oj-command").split("-"),e(this).replaceWith(b.Gg(a[a.length-1])),e(this).hasClass("oj-menu-divider")&&
(e(this).removeClass("oj-menu-divider"),e(this).addClass("oj-menu-item")),c=!0)});c&&a.ojMenu("refresh");this.b.menu.sk=a.find("#ojtreepaste")}},SH:function(){var a=this.b.menu;a.Li&&(a.Li=!1,a.Bh.off("ojselect"),a.Bh.off("beforeshow"),a.Bh=null)},Gg:function(a){return e(this.Fd(a))},Fd:function(a){return"\x3cli id\x3d"+h[a]+"\x3e"+this.Pq(a)+"\x3c/li\x3e"},Pq:function(a){return'\x3ca href\x3d"#"\x3e'+this.l("m_"+a)+"\x3c/a\x3e"},wI:function(a){a=this.aa(a,!0);if(!a||!a.length)return!1;this.b.ub.xi=
!1;this.b.ub.xe=a;this.ia({obj:a},"cut")},uI:function(a){a=this.aa(a,!0);if(!a||!a.length)return!1;this.b.ub.xe=!1;this.b.ub.xi=a;this.ia({obj:a},"copy")},xI:function(a){a=this.aa(a);if(!a||!a.length)return!1;var b=this.b.ub.xe?this.b.ub.xe:this.b.ub.xi;if(!this.b.ub.xe&&!this.b.ub.xi)return!1;this.b.ub.xe&&(this.or(this.b.ub.xe,a),this.b.ub.xe=!1);this.b.ub.xe&&(this.or(this.b.ub.xe,a),this.b.ub.xe=!1);this.b.ub.xi&&this.or(this.b.ub.xi,a,!1,!0);this.ia({obj:a,nodes:b},"paste")},or:function(a,b,
c,d,e,f){var g=this.b.ub.Wb.move;if(!e)return"undefined"===typeof c&&(c=g.defaultPosition),"inside"!==c||g.defaultPosition.match(/^(before|after)$/)||(c=g.defaultPosition),this.Cj(a,b,c,d,!1,f);if(!0===g.alwaysCopy||"multitree"===g.alwaysCopy&&a.pk.qd!==a.Gi.qd)d=!0;this.Cj(a,b,c,d,!0,f)},Wx:function(a){a=this.aa(a,!0);this.Lh();this.remove(a)},yI:function(a){a=this.aa(a);this.Lh();this.Xx(a,o_a())},Xx:function(a,b){a=this.aa(a);var c=this.Rg,d=this.b.ub.Wb.inputWidthLimit,f=a.children("ins").width(),
g=a.find("\x3e a:visible \x3e ins").width()*a.find("\x3e a:visible \x3e ins").length,h=this.getText(a),k=this,l=e("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),m=a.css("position","relative").append(e("\x3cinput /\x3e",{value:h,"class":"oj-tree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":f+g+4+"px",right:c?f+g+4+"px":"auto",top:"0px",height:this.b.u.fe-2+"px",lineHeight:this.b.u.fe-
2+"px",width:"150px"},blur:e.proxy(function(){var c=a.children(".oj-tree-rename-input"),d=c.val();""===d&&(d=h);l.remove();c.remove();this.nt(a,h);this.iB(a,d);b.call(this,a,d,h);a.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;if(!k.zr)return k.zr=!0,!1;27==a?(k.zr=!1,this.value=h,this.blur()):13==a?(k.zr=!1,this.blur()):m.width(Math.min(l.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".oj-tree-rename-input");this.nt(a,
"");l.css({fontFamily:m.css("fontFamily")||"",fontSize:m.css("fontSize")||"",fontWeight:m.css("fontWeight")||"",fontStyle:m.css("fontStyle")||"",fontStretch:m.css("fontStretch")||"",fontVariant:m.css("fontVariant")||"",letterSpacing:m.css("letterSpacing")||"",wordSpacing:m.css("wordSpacing")||""});m.width(Math.min(l.text("pW"+m[0].value).width(),d))[0].select()},vI:function(a,b,c,d,f){var g=this;(a=this.aa(a))||(a=-1);this.Lh();return this.nr(a,b,c,function(a){var b=this.Ng(a),c=e(a).index();d&&d.call(this,
a);b.length&&b.hasClass("oj-tree-closed")&&this.expand(b,!1,!0);f?g.ia({obj:a,name:this.getText(a),parent:b,position:c}):this.Xx(a,function(a,d){g.ia({obj:a,name:d,parent:b,position:c})})})},uR:o_d(!1),xL:function(a){if(!a||3>a.length)return!1;a=a.trim();return"\x3c"===a.charAt(0)},lH:function(){var a=this.option.emptyText;"string"!==typeof a&&(a=this.l("m_emptyText"));a&&0<a.length&&(a="\x3cli class\x3d'oj-tree-empty'\x3e"+a+"\x3c/li\x3e",this.H.empty().append(a))},CM:function(a){var b=a.subId,c=
a.node,d=c?this.aa(c):null,f="string"===typeof a.key?a.key:null,g="string"===typeof a.value?a.value:null,h,k;switch(b){case "disclosure":if(-1===c||-1===d)return this.H?this.H[0]:null;if(f)a=this.H.find("li"),e.each(a,function(a,b){b=e(b);if(b.attr(f)&&b.attr(f)===g)return d=b,!1});else if(!d&&"string"===typeof c){k=c.trim();a=this.H.find("a");e.each(a,function(a,b){if(b.text.trim()===k)return h=e(b),!1});if(!h)break;d=h.closest("li")}else if(d&&this.ys(d))break;if(d&&!this.ys(d))return d.find(" \x3e ins:eq(0)");
break;case "icon":if(-1===c||-1===d)return this.H?this.H[0]:null;if(f)return a=this.H.find("li"),e.each(a,function(a,b){b=e(b);if(b.attr(f)&&b.attr(f)===g)return d=b,!1}),d&&(d=d.find(" \x3e a").closest("ins")),d;if(!d&&"string"===typeof c)return k=c.trim(),a=this.H.find("a"),e.each(a,function(a,b){if(b.text.trim()===k)return h=e(b),!1}),h;if(d&&d.length)return d.find(" \x3e a \x3e ins:eq(0)");break;case "link":if(-1===c||-1===d)return this.H?this.H[0]:null;if(f)return a=this.H.find("li"),e.each(a,
function(a,b){b=e(b);if(b.attr(f)&&b.attr(f)===g)return d=b,!1}),d&&(d=d.find(" \x3e a:eq(0)"))?d:!1;if(!d&&"string"===typeof c)return k=c.trim(),a=this.H.find("a"),e.each(a,function(a,b){if(b.text.trim()===k)return h=e(b),!1}),h;if(d&&d.length)return d.find(" a:eq(0)");break;case "parent":return d&&-1!==c&&(d=this.Ng(d)),d=d&&-1!=d?d:null;case "first":return d&&-1!=d&&-1!=c||(d=this.H),d.find("li:eq(0)");case "last":return d&&-1!=d&&-1!=c||(d=this.H),d.find("li:last-child").last();case "prevSib":return d=
-1!==d?(d=this.bg(d,!0))?d[0]:null:null,d;case "nextSib":return d=-1!==d?(d=this.Xh(d,!0))?d[0]:null:null,d}return null}})})()});
//# sourceMappingURL=oj-modular.map