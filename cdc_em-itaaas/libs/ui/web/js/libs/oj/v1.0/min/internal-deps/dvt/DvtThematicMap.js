define(['./DvtToolkit', './DvtPanZoomCanvas', './DvtSubcomponent'], function() {
  // Internal use only.  All APIs and functionality are subject to change at any time.
    // Map the D namespace to dvt, which is used to provide access across partitions.
  var D = dvt;
  D.ua=function(b,c,d){this.Init(b,c,d)};(0,D.ta)("DvtAmxThematicMap",D.ua);D.F.o(D.ua,D.H,"DvtAmxThematicMap");D.ua.Ix=10;D.ua.prototype.Init=function(b,c,d){D.ua.q.Init.call(this,b);this.O=new D.va(b,c,d);this.PT=new D.H(b);this.PT.k(this.O);this.k(this.PT);this.hf=new D.wa};D.ua.newInstance=function(b,c,d){return new D.ua(b,c,d)};D.ua.newInstance=D.ua.newInstance;D.ua.prototype.L=function(b,c,d){this.W=this.hf.sg(b);this.R=c;this.X=d;c=new D.I(0,0,c,d);this.NL(this,c);this.O.L(b,c.g,c.j)};
D.ua.prototype.render=D.ua.prototype.L;
D.ua.prototype.NL=function(b,c){this.Ua&&(b.removeChild(this.Ua),this.Ua=D.r);var d=new D.I(D.ua.Ix,D.ua.Ix,c.g-2*D.ua.Ix,c.j-2*D.ua.Ix),e=this.W,f=e.legend.rendered,g=e.legend.scrolling,h=D.xa.clone(e.legend);this.JZ(this.W,h);if(f&&!(h.LGa&&0==h.LGa.length)){f=e.legend.position;delete h.position;h.layout.gapRatio=this.rz();h.hideAndShowBehavior="none";h.rolloverBehavior="none";h.scrolling=e.legend.scrolling;var k=(0,D.ya)(this.O.e,D.r,D.r);this.O.getId()!=D.r&&k.setId(this.O.getId()+"legend");b.k(k);
"auto"==f&&"asNeeded"!==g?f="bottom":"auto"==f&&"asNeeded"==g&&(f="end");g=D.J.S(b.e);"start"==f?f=g?"right":"left":"end"==f&&(f=g?"left":"right");h.orientation="left"==f||"right"==f?"vertical":"horizontal";g="top"==f||"bottom"==f;g=k.yz(h,g?d.g:e.layout.legendMaxSize*d.g,g?e.layout.legendMaxSize*d.j:d.j);if(0<g.g&&0<g.j)switch(k.L(h,g.g,g.j),this.Ua=k,e=window.Math.ceil(e.layout.legendGap*this.rz()),(0,D.za)(d,f,k,g.g,g.j,e),f){case "top":this.PT.Q(g.j+D.ua.Ix);case "bottom":c.j-=g.j+D.ua.Ix;break;
case "left":this.PT.F(g.g+D.ua.Ix);case "right":c.g-=g.g+D.ua.Ix}}};D.ua.prototype.rz=function(){if(this.W.layout.gapRatio!==D.r&&!(0,window.isNaN)(this.W.layout.gapRatio))return this.W.layout.gapRatio;var b=window.Math.min(this.R/400,1),c=window.Math.min(this.X/300,1);return window.Math.min(b,c)};
D.ua.prototype.JZ=function(b,c){c.title=b.legend?b.legend.title:D.r;c.sections=[];if(b&&b.legend&&b.legend.sections)for(var d=0;d<b.legend.sections.length;d++){var e=b.legend.sections[d];e&&c.sections.push({title:e.title,items:e.items,sections:e.sections})}return c};
D.va=function(b,c,d){this.Init(b,c,d)};(0,D.ta)("DvtThematicMap",D.va);D.F.o(D.va,D.Aa,"DvtThematicMap");
D.va.prototype.Init=function(b,c,d){D.va.q.Init.call(this,b);this.Xa=c;this.ka=d;(0,D.Ba)(this);this.Be=[];this.Kv=[];this.rS=this.Fo=this.kc=this.Ua=D.r;this.ZP=D.u;this.PE=[];this.kF={};this.gT=D.u;this.kR={};this.O_={};this.rm=[];this.TZ=new D.H(this.e);this.gK=new D.H(this.e);this.Gv=new D.H(this.e);this.Kt=new D.H(this.e);this.MR=D.u;this.TF=this.kz=D.o;this.p2=6;this.Mr=D.o;this.lG={};this.bj=16777215;this.hf=new D.wa};D.va.newInstance=function(b,c,d){return new D.va(b,c,d)};
D.va.prototype.te=function(b){this.W=this.hf.sg(b);D.J.Nh()||(this.W.animationOnDisplay="none",this.W.animationOnMapChange="none",this.W.animationOnDrill="none");this.W.skin||(this.W.skin="alta")};D.va.prototype.L=function(b,c,d){b&&"object"==typeof b&&this.te(b);D.va.q.L.call(this,b,c,d)};D.va.prototype.render=D.va.prototype.L;D.Ca=function(b,c){for(var d=0;d<b.Be.length;d++)if(b.Be[d].zf==c)return b.Be[d]};D.E=D.va.prototype;D.E.Pn=function(b){this.ft=(0,window.parseFloat)(b)};D.E.Ra=(0,D.C)("ft");
D.E.Sz=function(b){this.yh=(0,window.parseInt)(b);D.va.q.Sz.call(this,this.yh);b=this.bj;if(1==this.yh||3==this.yh||5==this.yh||7==this.yh)b&=-17,this.TF=D.u;if(2==this.yh||3==this.yh||6==this.yh||7==this.yh)b&=-4098,this.kz=D.u;if(4==this.yh||5==this.yh||6==this.yh||7==this.yh)b&=-257;this.bj=b};D.E.mW=function(b){this.Nj=b;this.wa.mW(b)};D.E.qN=function(b,c,d,e){"object"==typeof b&&this.W?(new D.Da(this)).parse(this.W):b==D.r||0==b.length||D.va.q.qN.call(this,b,c,d,e)};
D.E.dY=function(b,c){this.Af=D.u;this.aza&&(this.Be=[],this.PE=[],this.kF={},this.kR={},this.O_={},this.rm=[],this.removeChild(this.kc),this.rS=this.Fo=this.Ua=this.kc=D.r,this.Sz(0),this.bj=16777215,this.TF=this.kz=D.o,this.JF=this.xb,this.TZ=new D.H(this.e),this.gK=new D.H(this.e),this.Gv=new D.H(this.e),this.Kt=new D.H(this.e),(0,D.Ba)(this));this.wa.oc();this.iA().AV(c)};D.Ba=function(b){b.wa=new D.Ea(b.e,b.ib,b);b.wa.bf(b);D.J.da()?b.I1=D.r:(b.I1=new D.Fa(b,b.wa),(0,D.Ga)(b.wa,b.I1))};D.E=D.va.prototype;
D.E.Cqa=function(b){D.J.S(this.e)||(b=this.R-5-b.getWidth(),this.kc.F(b))};
D.E.NL=function(){if(this.Fo){this.kc&&(this.kc.V(),this.removeChild(this.kc));var b="true"==this.Fo.l("disclosed"),c="fixed"==this.Fo.l("display")||D.J.Au();if(!c||b){var d=this.Fo.l("maxWidth"),e=d.indexOf("%"),d=-1!=e?(0,window.parseFloat)(d.substring(0,e))/100*this.R:(0,window.parseFloat)(d),e=this.X-10;if("alta"==this.Sb)this.kc=new D.Ha(this.e,D.r,this,"pd"),this.kc.P("dvtPanelDrawerEvent",this.K$,D.u,this),this.kc.Yl(d),this.kc.xD(e),this.kc.aw=c,D.J.S(this.e)?(this.kc.Dr="right",this.kc.F(0)):
this.kc.F(this.R);else{this.kc=new D.Ia(this.e,d,e,f,(0,D.Ja)(this),this.ls(),b,c);this.kc.P("dvtCollapsiblePanelEvent",this.K$,D.u,this);this.kc.P("dvtResizeEvent",this.Cqa,D.u,this);var d=this.Fo.l("expandTooltip"),e=this.Fo.l("collapseTooltip"),f=D.J.S(this.e)?"col_northwest":"col_northeast",f=this.kc;f.gB=d;f.TA=e}this.Ua=new D.DvtCommonLegend(this.e,this.kc.Q6(),this.kc.P6(),(0,D.Ja)(this),this.sS);this.Ua.xW(this.Fo);this.k(this.kc);this.k(this.Ua);this.Ua.L();var g;"alta"==this.Sb?(f=this.Ua.C(),
(0,D.Ka)(this.kc,f.j),this.removeChild(this.Ua),f=new D.La(this.e,(0,D.Ma)(this).legendEna,0,0,24,24),d=new D.La(this.e,(0,D.Ma)(this).legendOvr,0,0,24,24),e=new D.La(this.e,(0,D.Ma)(this).legendDwn,0,0,24,24),(0,D.Na)(this.kc,this.Ua,f,d,e,this.W.resources.translations.panelDrawerResources.legendTip,"legend"),this.kc.Ri(),b&&this.kc.Ne(D.o,D.o)):(g=this.kc,b=this.Ua,g.Fd.k(b),b.P("dvtResizeEvent",g.Sqa,D.u,g),f=g.Fd.C(),b=f.g+10,f=f.j+10,g.X=f,g.R=b,g.eb?(g.eb.ck((0,D.Oa)(g,b,f)),b="col_northwest"==
g.yi||"col_southwest"==g.yi,g.gg&&b&&g.gg.F(g.R)):(b=new D.Pa(g.e,(0,D.Oa)(g,b,f)),f=g.D.borderAlpha,b.na(g.xv,g.Kj),b.Ma(g.Fp,f),g.eb=b,g.Ha(g.eb,0),g.aw||(g.gg=D.Qa.F5(g.e,25,g.D,D.u),g.gg.B(g.D.borderAlpha),g.k(g.gg),g.Mj=g.isCollapsed()?D.L.nU(g.e,g.Uh,25,g.D,D.u):D.L.lU(g.e,g.Uh,25,g.D,D.u),g.gg.k(g.Mj),"col_northwest"==g.yi||"col_southwest"==g.yi||(g.gg.Q(25),g.gg.Si(-window.Math.PI)),D.J.S(g.e)&&g.gg.F(g.R),D.J.da()?g.Mj.P(D.Sa.Sd,g.ZD,D.u,g):(g.Mj.P(D.Ta,g.ZD,D.u,g),g.Mj.P(D.Ua,g.nY,D.u,g),
g.Mj.P(D.Va,g.mY,D.u,g)))),g.EQ&&(0,D.Wa)(g,D.u),g=this.kc.C(),b=D.J.S(this.e)?5:this.R-5-g.g-g.x,(0,D.Xa)(this.kc,b,5),g.g+=5);if(this.TR=c)g||(g=this.kc.C()),this.$K=g.g}}};D.E.cv=function(){D.va.q.cv.call(this)};
D.E.ml=function(){D.va.q.ml.call(this);var b=new D.H(this.e),c=new D.H(this.e);this.xb.k(b);this.xb.$.k(c);this.Dh(b,c);if(this.Vj){(this.cc=this.xb.cc)&&this.xb.k(this.cc);(0,D.Ya)(this);var d=new D.I(0,0,this.R,this.X);if(!this.Af&&!this.JF)D.$a.isSupported(this.SZ)&&(this.qb=D.$a.iH(this.e,this.SZ,this.xb,d,this.ft));else{var e=D.r;if(this.ZP&&!this.mt)e=this.ida;else if(this.Vj&&this.Vj.zf!=this.wya&&(e=this.Vj.Cq(),!e)){var f=this.Vj.Xg,g;for(g in f)if(f[g].Cq()){e=f[g].Cq();break}}e&&D.$a.isSupported(e)?
(this.qb=D.$a.nz(this.e,e,this.JF,this.xb,d,this.ft))&&this.k(this.JF):this.xb.$.removeChild(this.GE)}this.qb&&(this.cc&&this.k(this.cc),this.wa.oc(),this.wa.Es(this),this.qb.Ad(this.wp,this),this.qb.play());this.aza=b;this.GE=c;this.Vj&&(this.wya=this.Vj.zf);this.Af=D.o}};
D.E.Dh=function(b,c){this.NL();c.k(this.TZ);c.k(this.gK);this.Mr?b.k(this.Gv):c.k(this.Gv);b.k(this.Kt);var d=this.xb.$.pa();this.S4=D.u;for(var e=0;e<this.Be.length;e++){var f=this.Be[e];if(!this.S4&&f instanceof D.ab||!(f instanceof D.ab))f.L(d),!this.S4&&f instanceof D.ab&&(this.S4=D.o,this.Vj=f)}this.Vj&&(d=(0,D.bb)(this),0==d.length&&(d=(0,D.cb)(this)),this.I1&&(d=d[0])&&D.Ea.q.Xl.call(this.wa,d),this.xb.Is(D.r),this.xb.Uu(D.r),this.xb.Cp=D.o,this.xb.Jj=D.o,!this.ZP&&!this.mt&&this.z1!=D.r?(this.xb.Vi(this.z1),
this.xb.hp(this.xxa,this.yxa)):this.MR?(0,D.eb)(this):this.xb.fl(D.r,this.Vj.FC()),(0,D.fb)(this),d=this.xb.Yo,e=this.Vj.FC(),f=this.xb.xc(),f.g=this.TR?f.g-this.$K:f.g,d=window.Math.min((f.g-2*d)/e.g,(f.j-2*d)/e.j),this.xb.Is(d),this.xb.Uu(d*(this.kz?this.p2:1)),this.xb.Cp=this.kz,this.xb.Jj=this.TF)};D.gb=function(b){(0,D.fb)(b);b.MR?(0,D.eb)(b):b.z1==D.r&&b.xb.fl(D.r,b.Vj.FC())};D.Ma=function(b){return b.W.resources.images.panelDrawerResources};D.Ja=function(b){return b.W.resources.images.legendResources};
D.va.prototype.Jl=function(){return this.W.resources.images.controlPanelResources};D.va.prototype.Y6=function(){return this.W.resources.translations.controlPanelResources};D.va.prototype.R8=(0,D.B)("gG");D.va.prototype.iA=function(){return new D.hb(this)};D.jb=function(b,c){var d=new D.ib;d.translate(c.Fb,c.yb);b.Mr&&b.Gv.qa(d);b.Kt.qa(d)};D.va.prototype.EI=function(b){D.va.q.EI.call(this,b);var c=new D.kb;(0,D.lb)(c,"controlPanelBehavior","show"==b.Lh()?"initExpanded":"initCollapsed");this.ib(c)};
D.va.prototype.K$=function(b){var c=new D.kb;(0,D.lb)(c,D.DvtCommonLegend.saa,"show"==b.Lh());this.ib(c)};D.nb=function(b,c,d){if(c=c.T){var e=b.xb.$,f=(0,D.mb)(c,e,e.pa);d&&(b.Fea=e.pa(),(0,D.N)(c,"typeMatrix",b,b.iwa,b.$za,f));d=new D.ib(1,0,0,1,f.Fb,f.yb);b.Mr&&(0,D.N)(c,"typeMatrix",b.Gv,b.Gv.pa,b.Gv.qa,d);(0,D.N)(c,"typeMatrix",b.Kt,b.Kt.pa,b.Kt.qa,d)}};
D.va.prototype.yf=function(b){switch(b.Lh()){case "adjustPanConstraints":if(this.TF){var c=b.Ly;b=this.xb.Yo;var d=this.xb.xc();b=new D.I(b,b,d.g-2*b,d.j-2*b);var e=this.Vj.FC(),f=e.x*c,d=e.y*c,g=e.g*c,c=e.j*c;g>b.g?(this.xb.hq=b.x+b.g-(f+g),this.xb.fq=b.x-f):(e=0,this.TR&&(D.J.S(this.e)?e=this.F1?2*-this.$K:-this.$K:this.F1||(e=this.$K)),f=(b.x+b.g-e)/2-(f+g/2),this.xb.hq=f,this.xb.fq=f);c>b.j?(this.xb.iq=b.y+b.j-(d+c),this.xb.gq=b.y-d):(b=(b.y+b.j)/2-(d+c/2),this.xb.iq=b,this.xb.gq=b)}break;case "zooming":case "elasticAnimBegin":(0,D.nb)(this,
b,D.o);break;case "zoomed":if(b.Ly!=D.r){d=this.xb.$.pa();(0,D.lb)(b,"panX",d.Fb);(0,D.lb)(b,"panY",d.yb);b.T=D.r;D.ob.dispatchEvent(this.Xa,this.ka,this,b);(0,D.jb)(this,d);for(c=0;c<this.Be.length;c++)this.Be[c].yf(b,d)}break;case "zoomAndCenter":(0,D.pb)(this);break;case "zoomToFitBegin":this.F1=D.o;this.TR&&this.xb.dk(this.R-this.$K,this.X,D.o);break;case "zoomToFitEnd":this.F1=D.u,this.TR&&this.xb.dk(this.R,this.X,D.o),D.ob.dispatchEvent(this.Xa,this.ka,this,new D.qb)}};
D.va.prototype.Ts=function(b){var c=b.Lh();if("elasticAnimBegin"==c)(0,D.nb)(this,b,D.u);else if("panned"==c&&b.Qha!=D.r){var d=this.xb.$.pa();(0,D.lb)(b,"zoom",this.xb.Hc());(0,D.lb)(b,"panX",d.Fb);(0,D.lb)(b,"panY",d.yb);b.T=D.r;D.ob.dispatchEvent(this.Xa,this.ka,this,b);(0,D.jb)(this,d);for(b=0;b<this.Be.length;b++)this.Be[b].Ts(d)}this.kc&&("alta"==this.Sb?"dragPanBegin"===c?this.kc.la(D.u):"dragPanEnd"===c&&this.kc.la(D.o):(d=this.ls(),b=this.kc.eb.nc().clone(),"dragPanBegin"===c?(this.Ua.B(d.backgroundDragAlpha),
b.B(d.borderDragAlpha),this.kc.eb.Y(b),this.kc.gg&&this.kc.gg.B(d.borderDragAlpha),this.kc.la(D.u)):"dragPanEnd"===c&&(this.Ua.B(1),b.B(d.borderAlpha),this.kc.eb.Y(b),this.kc.gg&&this.kc.gg.B(d.borderAlpha),this.kc.la(D.o))))};
D.va.prototype.aA=function(b,c){if("none"==this.Nj&&(7==this.yh||!this.kz&&"alta"==this.Sb))this.Dv="hidden";this.xb=D.va.q.aA.call(this,b,c);if("hidden"!=this.Dv&&"none"!=this.Nj){var d=[D.F.oj(this,this.U5),D.F.oj(this,this.tU),D.F.oj(this,this.B8)],d=new D.rb(this.e,this.Nj,this.Jl(),d,this.xb,this.Y6(),this.bj,this);(0,D.sb)(this.xb,d)}return this.wa.xb=this.xb};
D.fb=function(b){b.gT=D.o;for(var c=0;c<b.Be.length;c++){var d=b.Be[c].zf;d in b.kF&&(b.lG[d]=b.kF[d][1],b.Lj=d,b.Bv=b.kF[d][0],b.tU())}b.gT=D.u};
D.va.prototype.B8=function(){(0,D.Ya)(this);for(var b=[],c=[],d=this.Be.length-1;-1<d;d--)this.Be[d].zf==this.Vj.zf?this.Be[d].reset(c):this.Be[d].reset(b);for(d=0;d<b.length;d++)if(b[d]){var e=b[d].getParent();e&&e.removeChild(b[d])}for(d=0;d<c.length;d++)c[d]&&c[d].B(1);this.PE=[];b=new D.tb(this.e,0.3);this.xb.fl(b);b.play();this.rm=[];this.cc&&"none"!=this.Nj&&((0,D.ub)(this.cc,D.u),(0,D.vb)(this.cc,D.u))};
D.eb=function(b){var c=b.gK.C(),d=b.Gv.C();if(b.Mr){var e=b.xb.$.pa();d.g/=e.Lc;d.j/=e.Ae;d.x/=e.Lc;d.y/=e.Ae}c=(0,D.wb)(c,d);(0,D.Ya)(b);D.J.Nh()&&(b.qb=new D.tb(b.e,0.3));0<c.g&&0<c.j?b.xb.fl(b.qb,c):b.xb.fl(b.qb,b.Vj.FC());b.qb&&b.qb.play()};D.va.prototype.OG=function(b){var c=new D.tb(this.e,0.3);this.xb.fl(c,b);c.play()};
D.pb=function(b){if(b.Bv){var c=(0,D.Ca)(b,b.Lj).rj(b.Bv);if(c&&(c=c.Kb)){for(var c=c.getSelection(),d=0;d<c.length;d++)c[d]=c[d].La();if(0<c.length){for(var e=c[0].C(),d=1;d<c.length;d++)e=(0,D.wb)(e,c[d].C());b.OG(e)}}}};D.yb=function(b,c){var d=D.xb.GDa(b.Ce,c);return(0,D.Ca)(b,d)};D.zb=function(b,c){var d=D.xb.Sla(b.Ce,c);return(0,D.Ca)(b,d)};D.bb=function(b){var c=[];if(b.Vj)for(var d=0;d<b.Be.length;d++){var e=b.Be[d].Xg,f;for(f in e)c=b.Vj.zf==b.Be[d].zf?c.concat((0,D.Ab)(e[f])):c.concat((0,D.Bb)(e[f]))}return c};
D.cb=function(b){var c=[];if(b.Vj)for(var d=0;d<b.Be.length;d++){var e=b.Be[d].Xg;if(b.Vj.zf==b.Be[d].zf||!(b.Be[d]instanceof D.ab))for(var f in e)c=c.concat(e[f].vh)}return c};D.va.prototype.$za=function(b){this.Fea=b;if(this.Mr){for(var c=(0,D.cb)(this),d=0;d<c.length;d++)c[d].yf(b);c=this.Kt.Aa();for(d=0;d<c;d++)for(var e=this.Kt.ca(d),f=e.Aa(),g=0;g<f;g++){var h=e.ca(g);h instanceof D.Db&&h.update(b)}}};D.va.prototype.iwa=(0,D.C)("Fea");
D.va.prototype.tU=function(){(0,D.Ya)(this);var b=(0,D.zb)(this,this.Lj),c=(0,D.Ca)(this,this.Lj),d=[];if(b){this.kR[this.Lj]=this.Bv;var e=this.lG[this.Lj];!this.gT&&"single"==this.Nj&&(this.rm.pop(),c.reset(d,e),b.reset(this.Kv));for(var f=[],g=0;g<e.length;g++){var h=e[g],k=(0,D.Fb)(c,h);f.push(k[0]);for(var m=0;m<k.length;m++)this.O_[k[m]]=e[g];b.S5(k,d);if(k=c.rj(this.Bv)){for(var m=h,p=this.Kv,q=0;q<k.jc.length;q++)if(k.jc[q].hl==m){k.jc[q].ZH(D.o);k.rm.push(m);p.push(k.jc[q].La());if(q=k.jc[q].mh())p.push(q),
(q=q.Oj)&&p.push(q);break}for(q=0;q<k.vh.length;q++)if(k.vh[q].hl==m){p.push(k.vh[q].La());break}}this.rm.push(h)}(0,D.Gb)(this,this.Kv,d,D.u);(0,D.Hb)(this,b.zf);this.Lj=b.zf;this.lG[this.Lj]=f}};
D.va.prototype.U5=function(){(0,D.Ya)(this);for(var b=(0,D.Ca)(this,this.Lj),c=(0,D.yb)(this,this.Lj),d=[],e=[],f=this.lG[this.Lj],g=0;g<f.length;g++){var h=this.O_[f[g]];e.push(h);if(-1!=D.Ib.Ea(this.rm,h)){b.hO((0,D.Fb)(c,h),this.Kv);for(var k=c.rj(this.kR[c.zf]),m=h,p=d,q=0;q<k.jc.length;q++)if(k.jc[q].hl==m){k.rm.splice(D.Ib.Ea(k.rm,m),1);k.jc[q].ZH(D.u);var t=k.jc[q].La();k.vk.k(t);p.push(t);if(q=k.jc[q].mh())q.update(k.aG),p.push(q),p.push(q.Oj);break}for(q=0;q<k.vh.length;q++)if(k.vh[q].hl==
m){t=k.vh[q].La();k.Cr.k(t);p.push(t);break}h=D.Ib.Ea(this.rm,h);-1!=h&&this.rm.splice(h,1)}}(0,D.Gb)(this,this.Kv,d,D.o);this.Lj=c.zf;this.Bv=this.kR[this.Lj];this.lG[this.Lj]=e;(0,D.Hb)(this,this.Lj)};D.Ya=function(b){b.qb&&(b.qb.stop(D.o),b.qb=D.r)};
D.Gb=function(b,c,d,e){b.xb.$.pa();if(b.Sva&&!b.gT){var f=new D.tb(b.e,0.3);D.J.Nh()||(f=D.r);e?b.xb.fl(f):(0,D.pb)(b);f&&f.play()}(0,D.Ya)(b);b.qb=D.$a.nz(b.e,b.bua,c,d,D.r,0.5);D.J.Nh()||(b.qb=D.r);b.qb?(b.wa.oc(),b.wa.Es(b),b.qb.Ad(b.xra,b),b.qb.play()):(0,D.Jb)(b)};
D.va.prototype.ib=function(b){var c=b.Ba();if("selection"==c)if(this.Bv){this.g4=b.getSelection();for(var c=this.lG,d=this.Lj,e=this.g4,f=[],g=(0,D.Ca)(this,this.Lj).rj(this.Bv).jc,h=0;h<e.length;h++)for(var k=0;k<g.length;k++)if(g[k].getId()==e[h]){f.push(g[k].hl);break}c[d]=f;(0,D.Hb)(this,this.Lj);(0,D.lb)(b,"clientId",this.Bv);this.DQ&&!(this.DQ instanceof D.Kb)&&(this.Ika=this.DQ)}else(0,D.Hb)(this,D.r),this.Ika=D.r;else c==D.Lb.qba?((0,D.lb)(b,"clientId",this.mR),this.PE="multiple"==this.Nj?
this.PE.concat(this.g4):this.g4,c=b.Qva,c==D.Lb.Qpa&&this.U5(),c==D.Lb.iX?this.tU():c==D.Lb.Ira&&this.B8(),b.Ne(this.PE)):("showPopup"==c||"hidePopup"==c)&&(0,D.lb)(b,"clientId",this.mR);D.ob.dispatchEvent(this.Xa,this.ka,this,b)};D.Hb=function(b,c){if(b.cc&&b.Nj&&"none"!=b.Nj){var d=(0,D.zb)(b,c),e=(0,D.yb)(b,c);d?(0,D.ub)(b.cc,D.o):(0,D.ub)(b.cc,D.u);e?(0,D.vb)(b.cc,D.o):(0,D.vb)(b.cc,D.u)}};D.va.prototype.V=function(){D.va.q.V.call(this);this.wa&&(this.wa.V(),this.wa=D.r)};
D.va.prototype.wp=function(){this.cc&&this.xb.k(this.cc);this.JF&&(this.removeChild(this.JF),this.JF=D.r);this.qb=D.r;this.wa.bf(this)};D.va.prototype.xra=function(){(0,D.Jb)(this);this.qb=D.r;this.wa.bf(this)};D.Jb=function(b){if(0<b.Kv.length){for(var c=0;c<b.Kv.length;c++){var d=b.Kv[c];if(d)if(d instanceof D.Db)d.reset();else if(d.zu&&d.zu())d.B(0);else{var e=d.getParent();e&&e.removeChild(d)}}b.Kv=[]}};
D.va.prototype.qT=function(b){this.qR("mouseover"==b.Lha?"categoryRollOver":"categoryRollOut",b.I6())};D.va.prototype.qR=function(b,c){var d=new D.Mb(b,c),e=[],f;for(f in this.dh)for(var g in this.dh[f])e.push(this.dh[f][g]);for(f in this.ew)for(g in this.ew[f])e.push(this.ew[f][g]);f=this.Ua.j1;for(var h in f)g=new D.Nb(f[h].Vd(),h),e.push(g);(0,D.Ob)(d,e,0.1)};D.va.prototype.Eq=function(){this.oI||(this.oI=new D.Pb(this));return this.oI};D.va.prototype.getAutomation=D.va.prototype.Eq;
D.wa=function(){this.Init({fusion:D.hv,skyros:D.iv,alta:D.jv})};D.F.o(D.wa,D.Mg,"DvtThematicMapDefaults");
D.hv={skin:D.r,animationDuration:500,animationOnDisplay:"none",animationOnDrill:"none",animationOnMapChange:"none",controlPanelBehavior:"hidden",drilling:"off",initialZooming:"none",maintainDrill:"off",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",zooming:"none",styleDefaults:{areaStyle:"background-color:#B8CDEC;border-color:#FFFFFF;",dataAreaDefaults:{borderColor:"#FFFFFF",drilledInnerColor:"#FFFFFF",drilledOuterColor:"#000000",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",
selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:"0.5px",color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:0.4,scaleX:1,scaleY:1,shape:"circle",width:8},labelStyle:"font-family:Tahoma;font-size:11pt;"},legend:{position:"auto",rendered:D.o,layout:{gapRatio:1}},layout:{gapRatio:D.r,legendMaxSize:0.3,legendGap:10},resources:{images:{},translations:{}}};D.iv={styleDefaults:{backgroundColor:"#FFFFFF"}};
D.jv={skin:"alta",styleDefaults:{areaStyle:"background-color:#DDDDDD;border-color:#FFFFFF;",backgroundColor:"#FFFFFF",dataAreaDefaults:{drilledOuterColor:"#0572CE"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;color:#333333',opacity:1},labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;'}};D.kv={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};
D.lv={animationOnDataChange:"none",selection:"none"};
D.nv=function(b){for(var c=0;c<b.Be.length;c++){var d=b.Be[c].Xg,e;for(e in d){var f=d[e].yk;if(f&&f.cB)return f}}return D.r};D.va.prototype.xj=function(b,c,d){this.Jva=D.u;return(b=(0,D.nv)(this))?b.xj(d):D.u};D.va.prototype.Rk=function(b,c){var d=(0,D.nv)(this);return d?d.Rk(b,c):D.r};

D.fv=function(b,c){this.vIa=b;this.KIa=c};D.F.o(D.fv,D.fi,"DvtThematicMapDropTarget");
D.Pb=(0,D.B)("O");D.F.o(D.Pb,D.qn,"DvtThematicMapAutomation");D.Pb.prototype.qx=function(b){b=(0,D.Ac)(this.O.wa,b);var c;if(b&&(b instanceof D.Tu||b instanceof D.mv))a:{for(var d=this.O.Be,e=0;e<d.length;e++){var f=d[e].Xg;for(c in f)if(b instanceof D.Tu)for(var g=f[c].jc,h=0;h<g.length;h++){if(g[h]===b){c=(0,D.Bv)(c)+":area["+b.getId()+"]";break a}}else if(b instanceof D.mv){g=f[c].vh;for(h=0;h<g.length;h++)if(g[h]===b){c=(0,D.Bv)(c)+":marker["+b.getId()+"]";break a}}}c=D.r}else c=D.r;return c};
D.Pb.prototype.ns=function(b){var c=b.indexOf(":"),d=b.indexOf("[");b=0<c&&0<d?(b=(0,D.Cv)(this,b.substring(0,c),b.substring(c+1,d),b.substring(d+1,b.length-1)))?b.La().Da():D.r:D.r;return b};D.Pb.prototype.getData=function(b,c,d){return(c=(0,D.Cv)(this,b,c,d))?(b={},b.color=c.sj(),b.tooltip=c.Jf(),c=c.mh(),b.label=c?c.oe():D.r,b):D.r};(0,D.ta)("DvtThematicMapAutomation.prototype.getData",D.Pb.prototype.getData);
D.Cv=function(b,c,d,e){b=b.O.Be;for(var f=0;f<b.length;f++){var g=b[f].Xg,h;for(h in g)if((0,D.Bv)(h)==c)if("area"==d)for(var k=g[h].jc,m=0;m<k.length;m++){if(k[m].getId()===e)return k[m]}else if("marker"==d){k=g[h].vh;for(m=0;m<k.length;m++)if(k[m].getId()===e)return k[m]}}return D.r};D.Bv=function(b){var c=b.lastIndexOf(":");return 0<c?b.substring(c+1):b};
D.zv=function(b,c){this.Init(b,c)};D.F.o(D.zv,D.Pa,"DvtDrillablePath");D.E=D.zv.prototype;D.E.Init=function(b,c){D.zv.q.Init.call(this,b);this.oy=this.ny=this.dR=this.cR=D.r;this.SR=D.u;this.Zoom=1;this.ze=c};D.E.zu=(0,D.C)("SR");
D.E.ZH=function(b){this.SR!=b&&(this.SR=b,this.zu()?(this.ny=this.Gi(),this.ny.G(D.r),this.ny.la(D.u),this.oy=this.Gi(),this.oy.G(D.r),this.oy.la(D.u),b=this.getParent(),b.k(this.oy),b.k(this.ny),this.ny.Y((0,D.Ev)(this,this.cR,2)),this.oy.Y((0,D.Ev)(this,this.dR,4)),this.la(D.u),this.Ws=D.u):(this.Oh()&&(this.ti(),this.yg.Y((0,D.Ev)(this,this.br,1),2)),this.oy.getParent().removeChild(this.oy),this.ny.getParent().removeChild(this.ny),this.la(D.o),this.B(1)))};
D.E.Ob=function(b){this.tp!=b&&(b&&(this.Oh()?(this.vI(),this.nl=(0,D.Ev)(this,this.nl,2),this.kk=(0,D.Ev)(this,this.kk,6)):(this.er=(0,D.Ev)(this,this.er,1),this.io=(0,D.Ev)(this,this.io,4))),D.zv.q.Ob.call(this,b))};D.E.Dc=function(){this.mb()?(this.vI(),this.nl=(0,D.Ev)(this,this.nl,2),this.kk=(0,D.Ev)(this,this.kk,6)):this.br=(0,D.Ev)(this,this.br,2);D.zv.q.Dc.call(this)};
D.E.vI=function(){this.nl||(this.nl=this.br.clone(),this.nl.ia(2),this.ze&&(this.nl.$c=D.o));this.kk||(this.kk=this.io.clone(),this.kk.ia(6),this.ze&&(this.kk.$c=D.o))};D.E.sc=function(){this.mb()&&(this.er=(0,D.Ev)(this,this.er,1),this.io=(0,D.Ev)(this,this.io,4));D.zv.q.sc.call(this)};D.E.Vq=function(b,c){D.zv.q.Vq.call(this,b,c);this.ze&&(this.br&&(this.br.$c=D.o),this.SO&&(this.SO.$c=D.o));return this};
D.E.Xq=function(b,c){D.zv.q.Xq.call(this,b,c);this.ze&&(this.er&&(this.er.$c=D.o),this.io&&(this.io.$c=D.o));return this};D.E.Vu=function(b,c){D.zv.q.Vu.call(this,b,c);this.ze&&(this.nl&&(this.nl.$c=D.o),this.kk&&(this.kk.$c=D.o));return this};D.Av=function(b,c,d){b.cR=c;b.cR&&b.ze&&(b.cR.$c=D.o);b.dR=d;b.dR&&b.ze&&(b.dR.$c=D.o)};D.Fv=function(b,c,d){if(!b.ze){var e=c.nc();e&&(e=e.clone(),e.ia(d/b.Zoom),c.Y(e))}};D.Ev=function(b,c,d){b.ze||(c=c.clone(),c.ia(d/b.Zoom));return c};
D.Dv=function(b,c){b.Zoom=c.Lc;b.zu()?((0,D.Fv)(b,b.ny,2),(0,D.Fv)(b,b.oy,4)):b.mb()?b.Oh()?((0,D.Fv)(b,b.yg,2),(0,D.Fv)(b,b,6)):((0,D.Fv)(b,b.yg,1),(0,D.Fv)(b,b,4)):b.Oh()?(0,D.Fv)(b,b.yg,2):(0,D.Fv)(b,b,1)};
D.xb=this.DvtBaseMapManager;D.xb?(D.xb.ir=D.xb._UNPROCESSED_MAPS,D.xb.iE=D.xb._UNPROCESSED_PARENT_UPDATES):D.xb={ir:[[],[],[]],iE:[[],[],[]]};"undefined"!=typeof D.DVT_ADVANCED_CLOSURE&&((0,D.ta)("DvtBaseMapManager",D.xb),D.xb._UNPROCESSED_MAPS=D.xb.ir,D.xb._UNPROCESSED_PARENT_UPDATES=D.xb.iE);D.F.o(D.xb,D.F,"DvtBaseMapManager");D.xb.eE=0;D.xb.aJ=1;D.xb.cZ=2;D.xb.bZ=3;D.xb.pP=4;D.xb.$s="__index";D.xb.ah={};
D.xb.Pla=function(b,c){D.xb.vn();var d=D.xb.ah[b][c];return d&&(d=d[D.xb.pP])?new D.I(d[0],d[1],d[2],d[3]):D.r};D.xb.Jla=function(b,c){D.xb.vn();var d=D.xb.ah[b][c];return d?d[D.xb.bZ]:D.r};D.xb.Kla=function(b,c){D.xb.vn();var d=D.xb.ah[b][c];return d?d[D.xb.eE]:D.r};D.xb.tma=function(b,c,d){D.xb.vn();b=D.xb.ah[b][c];var e;b&&(e=b[D.xb.eE]);return e&&e[d]?e[d][1]:D.r};D.xb.Vla=function(b,c){D.xb.vn();var d=D.xb.ah[b];if(d&&(d=d.cities))if(d=d[D.xb.aJ][c])return new D.R(d[0],d[1]);return D.r};
D.xb.Wla=function(b,c){D.xb.vn();var d=D.xb.ah[b];if(d&&(d=d.cities))if(d=d[D.xb.eE][c])return d[1];return D.r};D.xb.Ila=function(b,c,d){D.xb.vn();var e=D.xb.ah[b];if(e&&(e=e[c])){if((e=e[D.xb.bZ])&&e[d])return(0,D.fl)(e[d][0]).gd();b=D.xb.ah[b][c][D.xb.aJ][d];if(!b)return D.r;b=window.DvtPathUtils.oU(b);return window.DvtPathUtils.C(b).gd()}return D.r};D.xb.Sla=function(b,c){D.xb.vn();var d=D.xb.ah[b][c];return d?D.xb.ah[b][D.xb.$s][d.__index+1]:D.r};
D.xb.GDa=function(b,c){D.xb.vn();return D.xb.ah[b][c]?D.xb.ah[b][D.xb.$s][D.xb.ah[b][c].__index-1]:D.r};D.xb.Lla=function(b,c){D.xb.vn();return D.xb.ah[b][c][D.xb.aJ]};D.xb.HDa=function(b,c,d){D.xb.vn();return D.xb.ah[b][c][D.xb.aJ][d]};D.xb.Tla=function(b,c){D.xb.vn();var d=D.xb.Sla(b,c);return d&&(d=D.xb.ah[b][d][D.xb.cZ])?d:[]};D.xb.HKa=function(b,c){D.xb.vn();return D.xb.ah[b][D.xb.$s][c]};
D.xb.cW=function(b,c,d,e,f,g,h,k){var m=D.xb.ah[b];m||(m={},m[D.xb.$s]=[],D.xb.ah[b]=m);b=m[c];b||(b={},m[c]=b,h!=D.r&&(m[D.xb.$s][h]=c));b[D.xb.eE]=d;b[D.xb.aJ]=e;b[D.xb.cZ]=f;b[D.xb.bZ]=g;b[D.xb.pP]=k;b[D.xb.$s]=h};(0,D.ta)("DvtBaseMapManager.registerBaseMapLayer",D.xb.cW);D.xb.toa=function(b,c,d){var e=D.xb.ah[b];e||(e={},D.xb.ah[b]=e);b=e[c];b||(b={},e[c]=b);(b=e[c])&&(b[D.xb.eE]=d)};(0,D.ta)("DvtBaseMapManager.registerResourceBundle",D.xb.toa);
D.xb.Uoa=function(b,c,d){if(b=D.xb.ah[b])if(c=b[c])for(var e in d)c[D.xb.eE][e]=d[e]};(0,D.ta)("DvtBaseMapManager.updateResourceBundle",D.xb.Uoa);D.xb.BFa=function(b,c){D.xb.ir=b;D.xb.iE=c;D.xb.vn()};(0,D.ta)("DvtBaseMapManager.loadUnprocessedMaps",D.xb.BFa);
D.xb.vn=function(){var b,c;if(D.xb.ir){for(b=0;b<D.xb.ir[0].length;b++)c=D.xb.ir[0][b],D.xb.cW(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);for(b=0;b<D.xb.ir[1].length;b++)c=D.xb.ir[1][b],D.xb.toa(c[0],c[1],c[2]);for(b=0;b<D.xb.ir[2].length;b++)c=D.xb.ir[2][b],D.xb.Uoa(c[0],c[1],c[2]);D.xb.ir=D.r}if(D.xb.iE)for(b=0;b<D.xb.iE[0].length;b++){c=D.xb.iE[0][b];var d=c[1],e=c[2],f=D.xb.ah[c[0]],g;if(f){if(d=f[d]){d[D.xb.cZ]=c[3];g=d[D.xb.pP];b=d[D.xb.$s];d=f[D.xb.$s];d.splice(b,0,e);f[e][D.xb.$s]=b;for(b+=
1;b<d.length;b++)(e=f[d[b]])&&e[D.xb.$s]++}(d=f[c[2]])&&(d[D.xb.pP]=g)}}};D.xb.aHa=function(b,c,d,e,f,g){if(0<g){c=1/(window.Math.min(e/c,f/d)*g);if(1>=c)return b;d=[];if(b)for(var h in b)e=b[h],(0,window.isNaN)(e)&&(e=window.DvtPathUtils.oU(b[h])),d[h]=window.DvtPathUtils.bHa(e,c);return d}return b};
D.Nb=function(b,c){this.Init(b,c)};D.F.o(D.Nb,D.F,"DvtThematicMapCategoryWrapper");D.Nb.prototype.Init=function(b,c){this.rK=b;this.km=c};D.Nb.prototype.Og=(0,D.C)("km");D.Nb.prototype.Ie=function(){return[this.rK]};
D.Lb=function(b){this.Init(D.Lb.qba);this.Qva=b};D.F.o(D.Lb,D.ed,"DvtMapDrillEvent");D.Lb.qba="drill";D.Lb.Qpa=0;D.Lb.iX=1;D.Lb.Ira=2;D.Lb.prototype.Ne=(0,D.B)("hg");
D.cv=function(b,c,d){this.Init("action");this.rt=b;this.VL=c;this.fg=d};(0,D.ta)("DvtMapActionEvent",D.cv);D.F.o(D.cv,D.ed,"DvtMapActionEvent");D.cv.TYPE="action";D.cv.prototype.lh=(0,D.C)("rt");D.cv.prototype.getClientId=D.cv.prototype.lh;D.cv.prototype.a7=(0,D.C)("VL");D.cv.prototype.getRowKey=D.cv.prototype.a7;D.cv.prototype.Hw=(0,D.C)("fg");D.cv.prototype.getAction=D.cv.prototype.Hw;
D.Db=function(b,c,d,e,f,g){this.Init(b,c,d,e,f,g)};D.F.o(D.Db,D.nc,"DvtMapLabel");D.E=D.Db.prototype;D.E.Init=function(b,c,d,e,f,g){D.Db.q.Init.call(this,b,c,0,0);this.ze=g;this.zv=[];this.la(D.u);this.rf();this.Fe();this.pt=D.r;this.Eo=e;this.aC=f;if(d&&(this.zv.push((0,D.fl)(d[0])),1<d.length)){this.S1=[];for(c=1;c<d.length;c++)e=d[c],this.zv.push((0,D.fl)(e[0])),e=new D.Ye(b,e[1]),(0,D.ic)(e),f=new D.Ud("#000000"),this.ze&&(f.$c=D.o),e.Y(f),this.S1.push(e)}};
D.E.update=function(b){b=b.Lc;for(var c=-1,d=D.oc.ak(this),e=D.u,f=0;f<this.zv.length;f++){var g=this.zv[f].g*b;if(d.g<=g){c=f;break}else if(this.getParent()||(e=D.o,this.aC.k(this)),this.C().g<=g){c=f;break}}-1==c&&"on"==this.Eo&&(c=this.zv.length-1);this.m0!=c?(-1==c?this.reset():(this.getParent()||this.aC.k(this),d=this.zv[c].gd(),this.Qn(d),this.S1&&(this.aC.removeChild(this.Oj),this.Oj=D.r,0<c?(this.Oj=this.S1[c-1],this.aC.k(this.Oj),e=this.Mc(),e.ba("color","#000000"),this.Ia(e),e=this.zv[c],
f=this.Oj.sb(),g=f.length,e.x>f[g-2]?(this.Nk(),this.Fe(),this.Qn(new D.R(e.x,d.y))):e.y>f[g-1]?(this.Zo(),this.rf(),this.Qn(new D.R(d.x,e.y))):e.x+e.g<f[g-2]?(this.Fi(),this.Fe(),this.Qn(new D.R(e.x+e.g,d.y))):e.y+e.j<f[g-1]&&(this.Dw(),this.rf(),this.Qn(new D.R(d.x,e.y+e.j)))):(this.rf(),this.Fe(),e=this.Mc(),e.ba("color",this.Jga),this.Ia(e)))),this.m0=c):-1==c&&e&&this.aC.removeChild(this);-1!=this.m0&&(c=new D.ib,c.translate(b*this.pt.x-this.pt.x,b*this.pt.y-this.pt.y),this.qa(c),this.Oj&&(this.Oj.qa(new D.ib(b,
0,0,b)),this.ze||(c=this.Oj.nc().clone(),c.ia(1/b),this.Oj.Y(c))))};D.E.Qn=function(b){this.pt=b;this.fa(b.x);this.ua(b.y)};D.E.gd=(0,D.C)("pt");D.E.Ia=function(b){D.Db.q.Ia.call(this,b);this.Jga||(this.Jga=b.v("color"))};D.E.reset=function(){this.aC.removeChild(this);this.m0=-1;this.Oj&&(this.aC.removeChild(this.Oj),this.Oj=D.r)};
D.Zu=function(b,c,d,e,f){this.Init(b,c,d,e,f)};D.F.o(D.Zu,D.H,"DvtMapDataObject");D.E=D.Zu.prototype;D.E.Init=function(b,c,d,e,f){D.Zu.q.Init.call(this,b,D.r,e);this.fn=[];this.Pb=D.r;this.Qa=d;this.rt=e;this.hl=f;this.MJa=D.r;this.iK="#000000";this.Zoom=1;this.f1=D.u;this.ZQ=c};D.E.getId=(0,D.C)("Qa");D.E.lh=(0,D.C)("rt");D.E.Rd=function(b){(this.Pb=b)&&(0,D.vf)(this.Pb)};D.E.Qn=(0,D.B)("fk");D.E.gd=(0,D.C)("fk");D.E.La=(0,D.C)("Pb");D.E.Rn=(0,D.B)("ao");D.E.mh=(0,D.C)("ao");D.E.Ic=(0,D.B)("waa");
D.E.Hw=(0,D.C)("fg");D.E.$a=function(b){D.Zu.q.$a.call(this,b);this.ao&&this.ao.$a(b)};D.E.Ie=function(){return[this.Pb]};D.E.Og=(0,D.C)("fn");D.E.Jf=(0,D.C)("my");D.E.sj=(0,D.C)("iK");D.E.J8=function(b){this.iK=b;this.Pb&&this.Pb.jp&&this.Pb.jp(b)};D.E.I8=function(b){this.my=b;this.Pb&&(0,D.xf)(this.Pb,"label",b)};D.E.uc=function(){return this.Pb.uc()};D.E.mb=function(){return this.Pb.mb()};D.E.Dc=(0,D.z)();D.E.sc=function(){this.Vf||this.aY()};D.E.aY=(0,D.z)();D.E.T8=(0,D.B)("ed");D.E.yd=(0,D.C)("ed");
D.E.xj=function(b){for(var c=this.ZQ.lh(),d=0;d<b.length&&b[d]!=c;d++);return c};D.E.rj=(0,D.C)("ZQ");D.E.Rk=function(){return this.ZQ.Ox(this)};D.E.DC=function(){return this.ZQ.Nx()};D.E.nh=function(b){return b.type==D.Ta?this:32==b.keyCode&&b.ctrlKey?this:(0,D.co)(this,b,this.DX())};D.E.DX=(0,D.ca)(D.r);D.E.Je=function(){return this.Pb&&this.Pb.getParent()?this.Pb.C():new D.I(0,0,0,0)};D.E.ni=function(){this.Vf=D.o;this.Dc()};D.E.qe=function(){this.Vf&&(this.Vf=D.u,this.sc())};D.E.li=(0,D.C)("Vf");
D.E.yf=function(b){this.Pb.getParent()&&(this.Zoom=b.Lc,this.JN())};D.E.xp=(0,D.z)();D.E.JN=(0,D.z)();D.E.xc=(0,D.ca)(0);
D.Tu=function(b,c,d,e,f){this.Init(b,c,d,e,f)};D.F.o(D.Tu,D.Zu,"DvtMapDataArea");D.E=D.Tu.prototype;D.E.Init=function(b,c,d,e,f){D.Tu.q.Init.call(this,b,c,d,e,f);this.B1=D.u};D.E.Rd=function(b){D.Tu.q.Rd.call(this,b)};D.E.Ob=function(b){b&&!this.B1&&this.vk.k(this.Pb);this.Pb.Ob(b)};D.E.Dc=function(){this.vk.k(this.Pb);this.Pb.Dc();this.B1=D.o};D.E.aY=function(){this.mb()?this.vk.k(this.Pb):this.vk.Ha(this.Pb,0);this.Pb.sc();this.B1=D.u};D.E.zu=function(){return this.Pb.zu()};
D.E.ZH=function(b){(this.SR=b)?this.vk.k(this.Pb):this.vk.Ha(this.Pb,0);this.Pb.ZH(b)};D.E.yf=function(b){this.Pb.getParent()&&(D.Tu.q.yf.call(this,b),(0,D.Dv)(this.Pb,b),this.zu()||this.xp(b))};D.E.xp=function(b){this.ao&&this.ao.update(b)};D.E.DX=function(){return(0,D.bb)(this.rj().O)};
D.mv=function(b,c,d,e,f){this.Init(b,c,d,e,f)};D.F.o(D.mv,D.Zu,"DvtMapDataMarker");D.E=D.mv.prototype;D.E.Init=function(b,c,d,e,f){D.mv.q.Init.call(this,b,c,d,e,f);this.EHa=1;this.Uj=0};D.E.Ob=function(b){this.Pb.Ob(b)};D.E.Dc=function(){this.Pb.Dc()};D.E.aY=function(){this.Pb.sc()};
D.E.xp=function(){if(this.ao){this.ao.rf();var b=(this.Pb.ea()+(0,D.fe)(this.Pb)/2)*this.Zoom,c=this.Pb.ha()*this.Zoom,d=(0,D.ge)(this.Pb),e=this.Pb.Ba();"top"==this.waa?(c-=4,this.ao.Dw()):"bottom"==this.waa?(c+=d,this.ao.Zo()):(c="triangleUp"==e?c+2*d/3:"triangleDown"==e?c+d/3:c+d/2,this.ao.Fe());this.ao.fa(b);this.ao.ua(c)}};
D.E.JN=function(){var b=this.Pb.getParent(),c=(0,D.ge)(this.Pb);(0,D.fe)(this.Pb)!=D.r&&(c!=D.r&&b)&&(c=this.Pb.KC(),this.ao&&this.Pb.KC()?((0,D.Xa)(b,this.fk.x*this.Zoom-this.fk.x,this.fk.y*this.Zoom-this.fk.y),D.J.q9(b)):((0,D.Xa)(this.Pb,this.fk.x*this.Zoom-(this.fk.x*window.Math.cos(c)-this.fk.y*window.Math.sin(c)),this.fk.y*this.Zoom-(this.fk.x*window.Math.sin(c)+this.fk.y*window.Math.cos(c))),D.J.q9(this.Pb)))};D.E.DX=function(){return(0,D.cb)(this.rj().O)};D.E.dk=(0,D.B)("Uj");D.E.xc=(0,D.C)("Uj");
D.$u=function(b,c,d,e,f){this.Init(b,c,d,e,f)};D.F.o(D.$u,D.Zu,"DvtMapDataImage");D.E=D.$u.prototype;D.E.Init=function(b,c,d,e,f){D.$u.q.Init.call(this,b,c,d,e,f)};D.E.UV=function(b){b&&(b.width&&b.height)&&(this.Pb.getWidth()||this.Pb.ia(b.width),this.Pb.getHeight()||this.Pb.va(b.height),this.dk(b.width*b.height),this.Pb.fa(this.fk.x-b.width/2),this.Pb.ua(this.fk.y-b.height/2),this.JN())};
D.E.JN=function(){var b=this.Pb.getWidth(),c=this.Pb.getHeight();b!=D.r&&(c!=D.r&&this.Pb.getParent())&&(b=this.Pb.ea()+b/2,c=this.Pb.ha()+c/2,(0,D.Xa)(this.Pb,b*this.Zoom-this.fk.x,c*this.Zoom-this.fk.y))};D.E.dk=(0,D.B)("Uj");D.E.xc=(0,D.C)("Uj");
D.ev=function(b,c,d,e,f){this.Init(b,c,d,e,f)};D.F.o(D.ev,D.Zu,"DvtMapDataComponent");D.E=D.ev.prototype;D.E.Init=function(b,c,d,e,f){D.ev.q.Init.call(this,b,c,d,e,f)};D.E.ia=(0,D.B)("R");D.E.getWidth=(0,D.C)("R");D.E.va=(0,D.B)("X");D.E.getHeight=(0,D.C)("X");D.E.fa=(0,D.B)("Za");D.E.ua=(0,D.B)("Ja");D.E.JN=function(){if(this.Pb.getParent()){var b=this.Ja+this.X/2;this.Pb.F(this.Za+(this.Za+this.R/2)*this.Zoom-this.fk.x);this.Pb.Q(this.Ja+b*this.Zoom-this.fk.y)}};
D.$u.prototype.xc=function(){return this.R*this.X};
D.dv=function(b,c,d,e){this.Init(b,c,d,e)};D.F.o(D.dv,D.H,"DvtMapArea");D.E=D.dv.prototype;D.E.Init=function(b,c,d,e){D.dv.q.Init.call(this,b);this.QK=this.pQ=D.u;this.wIa=d;this.J=c;this.k(this.J);this.ze=e;if(b=c.nc())this.nda=b.getWidth();this.J&&(0,D.vf)(this.J)};D.E.fe=(0,D.C)("Se");D.E.kx=function(b){this.Se=b;this.J&&(0,D.xf)(this.J,"label",b)};D.E.nc=function(){return this.J instanceof D.Xd?this.J.nc():D.r};D.E.Y=function(b){this.J instanceof D.Xd&&this.J.Y(b)};
D.E.G=function(b){this.J instanceof D.Xd&&this.J.G(b)};D.E.Gc=function(){return this.J instanceof D.Xd?this.J.Gc():D.r};D.E.yC=function(){return this.J instanceof D.Pa?this.J.yC():D.r};D.E.ck=function(b){this.J instanceof D.Pa&&this.J.ck(b)};D.E.BD=function(b){this.J instanceof D.La&&this.J.BD(b)};D.E.contains=function(b,c){var d=this.C();return b>=d.x&&b<=d.x+d.g&&c>=d.y&&c<=d.y+d.j};D.E.yf=function(b){if(!this.ze&&this.J&&this.nda){var c=this.J.nc().clone();c.ia(this.nda/b.Lc);this.J.Y(c)}};
D.av=function(b,c){this.Init(b,c)};D.F.o(D.av,D.F,"DvtMapLayer");D.E=D.av.prototype;D.E.Init=function(b,c){this.O=b;this.zf="cities";this.I9=D.r;this.BI=c;this.Xg={};this.Zm=new D.ib};D.E.Raa=(0,D.z)();D.E.bP=(0,D.z)();
D.E.e9=function(b,c){this.qb&&(this.DA=D.o,this.qb.stop(D.o));this.Zm=c;this.Rt=this.rj(b.lh());this.Xg[b.lh()]=b;b.L(this.Zm);b.yf(new D.qb("zoomed"),this.Zm);if(this.Rt){var d=b.Cq(),e=b.Ra();if(D.$a.isSupported(d)){for(var f=new D.I(0,0,this.O.R,this.O.X),g=(0,D.bv)(this.Rt),h=0;h<g.length;h++){var k=new D.td(this.O.e,0,0,this.O.R,this.O.X);k.G(D.r);g[h].k(k)}for(var m=(0,D.bv)(b),h=0;h<m.length;h++)k=new D.td(this.O.e,0,0,this.O.R,this.O.X),k.G(D.r),m[h].k(k);f=D.$a.nz(this.O.e,d,g,m,f,e);g=new D.I(0,
0,this.O.R/this.Zm.Lc,this.O.X/this.Zm.Lc);m=[this.Rt.vk];for(h=0;h<m.length;h++)k=new D.td(this.O.e,0,0,this.O.R/this.Zm.Lc,this.O.X/this.Zm.Lc),k.G(D.r),m[h].k(k);for(var p=[b.vk],h=0;h<p.length;h++)k=new D.td(this.O.e,0,0,this.O.R/this.Zm.Lc,this.O.X/this.Zm.Lc),k.G(D.r),p[h].k(k);h=D.$a.nz(this.O.e,d,m,p,g,e);this.qb=new D.Nd(this.O.e,[f,h])}else{d=[this.Rt.vk,this.Rt.Cr,this.Rt.YA];for(h=0;h<d.length;h++)d[h].getParent().removeChild(d[h]);this.bP()}if(this.qb){this.BI.Es(this.ka);var q=this;
this.qb.Ad(function(){q.wp(b)},this);this.Raa();this.qb.play()}}else this.bP(),(0,D.gb)(this.O)};D.E.rj=function(b){return this.Xg?this.Xg[b]:D.r};D.E.lh=(0,D.C)("I9");D.E.L=function(b){this.Zm=b;for(var c in this.Xg)this.Xg[c].L(b)};D.E.reset=function(b,c){for(var d in this.Xg)this.Xg[d].reset(b,c)};D.E.yf=function(b,c){this.Zm=c;for(var d in this.Xg)this.Xg[d].yf(b,c)};D.E.Ts=function(b){this.Zm=b;for(var c in this.Xg)this.Xg[c].Ts(b)};
D.E.wp=function(b){if(this.Rt)for(var c=[this.Rt.vk,this.Rt.Cr,this.Rt.YA],d=0;d<c.length;d++){var e=c[d].getParent();e&&e.removeChild(c[d])}c=(0,D.bv)(b);for(d=0;d<c.length;d++)c[d].ip(c[d].Aa()-1);b=[b.vk];for(d=0;d<b.length;d++)b[d].ip(b[d].Aa()-1);this.bP();(0,D.gb)(this.O);this.DA=D.u;this.qb=D.r;this.BI.bf(this.ka)};
D.ab=function(b,c,d,e,f,g){this.Init(b,c,d,e,f,g)};D.F.o(D.ab,D.av,"DvtMapAreaLayer");D.E=D.ab.prototype;D.E.Init=function(b,c,d,e,f,g){D.ab.q.Init.call(this,b,g);this.Eo=e;this.zf=c;this.I9=d;this.K1=f;this.uJ={};this.op={};this.Tm={};this.CB=this.Tn=D.r;this.hg=[];this.kq={};this.Vr={};this.mT={};this.kO=new D.H(this.O.e);this.KI=new D.H(this.O.e);this.O.TZ.Ha(this.kO,0);this.O.Kt.Ha(this.KI,0);this.J0=new D.fv(this,this.O.Ce)};D.E.UH=(0,D.B)("QZ");D.E.Cq=(0,D.C)("QZ");D.E.Pn=(0,D.B)("PZ");
D.E.Ra=(0,D.C)("PZ");D.Xu=function(b,c){b.Tn=c;for(var d in b.Tn)b.kq[d]=D.o,b.Vr[d]=D.o};D.ab.prototype.NU=function(b){return!this.CB?D.r:this.CB[b]};D.Fb=function(b,c){return b.Zd[c]?b.Zd[c].split(","):[]};D.ab.prototype.jH=(0,D.C)("Eo");D.ov=function(b,c){b.RK=c;b.rF=D.r;for(var d in b.Tm)d!=c&&(b.kq[d]=D.u)};
D.ab.prototype.FC=function(){if(!this.rF)if(this.RK)this.rF=window.DvtPathUtils.C(window.DvtPathUtils.oU(D.xb.HDa(this.O.Ce,this.zf,this.RK)));else if("world"!=this.O.Ce&&"worldRegions"!=this.O.Ce&&(this.rF=D.xb.Pla(this.O.Ce,this.zf)),!this.rF){var b=(0,D.wb)(this.kO.C(),this.O.gK.C());0<b.g&&0<b.j&&(this.rF=b)}return this.rF};
D.pv=function(b,c,d){var e=b.Tm[c];if(e&&((d||!b.op[c])&&b.Toa(c),b.op[c]||(d=new D.dv(b.O.e,e,c,b.O.ze),b.op[c]=d,b.BI.ma(e,d),d.kx(b.Tn&&b.Tn[c]?b.Tn[c][1]:D.r)),b.Vr[c]&&(d=b.uJ[c],!d&&("off"!=b.Eo&&b.Tn)&&(d="short"==b.K1?b.Tn[c][0]:b.Tn[c][1]))))b.CB&&b.CB[c]?d=new D.Db(b.O.e,d,b.CB[c],b.Eo,b.KI,b.O.ze):(e=(0,D.Zf)(b.O.e,e),d=new D.Db(b.O.e,d,[[e.x,e.y,e.g,e.j]],b.Eo,b.KI,b.O.ze)),b.uJ[c]=d,b.iS&&d.Ia(b.iS)};
D.qv=function(b,c,d){if(b.Tm[c]){b.kO.k(b.op[c]);var e=b.uJ[c];e&&(b.Vr[c]?e.update(b.Zm):e.reset(),b.mT[c]=b.Vr[c]);d&&(d.push(b.op[c]),e&&(d.push(e),d.push(e.Oj)))}};D.ab.prototype.Toa=function(b){if(!this.Nia||this.Dda){this.Dda=D.u;var c;this.Nia=(c="world"==this.O.Ce||"worldRegions"==this.O.Ce?D.xb.Pla(this.O.Ce,this.zf):this.FC())?D.xb.aHa(D.xb.Lla(this.O.Ce,this.zf),c.g,c.j,this.O.R,this.O.X,this.O.kz?this.O.p2:1):D.xb.Lla(this.O.Ce,this.zf)}c=this.Nia[b];this.Tm[b]&&c?this.Tm[b].ck(c):delete this.Tm[b]};
D.rv=function(b){for(var c in b.Tn)b.kq[c]=D.o,b.Vr[c]=D.o};D.E=D.ab.prototype;D.E.e9=function(b,c,d){D.ab.q.e9.call(this,b,c,d);if(d==this.zf)for(var e in this.Tm)(0,D.pv)(this,e,D.o),this.kq[e]&&(0,D.qv)(this,e)};D.E.L=function(b){this.Dda=D.o;for(var c in this.Tm)(0,D.pv)(this,c,D.o),this.kq[c]&&(0,D.qv)(this,c);D.ab.q.L.call(this,b)};D.E.Raa=function(){for(var b in this.kq)this.kq[b]||((0,D.pv)(this,b,D.u),(0,D.qv)(this,b))};
D.E.bP=function(){for(var b in this.kq)if(!this.kq[b]){this.kO.removeChild(this.op[b]);var c=this.uJ[b];c&&(this.mT[b]=D.u,this.KI.removeChild(c),(c=c.Oj)&&this.KI.removeChild(c))}};D.E.S5=function(b,c){for(var d=0;d<b.length;d++)(0,D.pv)(this,b[d],D.u),this.kq[b[d]]&&(0,D.qv)(this,b[d],c);for(var e in this.Xg)this.Xg[e].S5(b,c,this.Zm);this.hg=this.hg.concat(b)};
D.E.hO=function(b,c){for(var d in this.Xg)this.Xg[d].hO(b,c);d=(0,D.zb)(this.O,this.zf);for(var e=0;e<b.length;e++){var f=b[e];if(this.op[f]){var g=D.Ib.Ea(this.hg,f);-1!==g&&(this.hg.splice(g,1),c.push(this.op[f]))}d&&d.hO((0,D.Fb)(this,f),c)}};D.E.reset=function(b,c){D.ab.q.reset.call(this,b,c);"none"!=this.O.Nj&&(this.hO(this.hg,b),this.hg=[])};D.E.yf=function(b,c){D.ab.q.yf.call(this,b,c);if(!this.O.ze)for(var d in this.op)this.op[d].yf(c);for(d in this.mT)if(this.mT[d]){var e=this.uJ[d];e&&e.update(c)}};
D.Vu=function(b,c,d,e,f,g){this.Init(b,c,d,e,f,g)};D.F.o(D.Vu,D.ab,"DvtMapCustomAreaLayer");D.Vu.prototype.Init=function(b,c,d,e,f,g){D.Vu.q.Init.call(this,b,c,d,e,f,g)};D.Vu.prototype.Toa=(0,D.z)();D.Vu.prototype.FC=function(){return new D.I(0,0,this.Oxa,this.Nxa)};D.Wu=function(b){var c=b.O.R,d=b.O.X;b=b.hua;for(var e=0;e<b.length;e++){var f=b[e],g=f.source,h=f.width,f=f.height;if(g&&-1<g.search(".svg")||h>=c&&f>=d||e==b.length-1)return g}};
D.Yu=function(b,c){var d=D.r,e=D.J.S(b.O.e);if(c&&0<c.length){var d=c[0].width,f=c[0].height;b.Oxa=d;b.Nxa=f;for(var g=[],h=0;h<c.length;h++)e&&"rtl"==c[h].dir?g.push(c[h]):!e&&"ltr"==c[h].dir&&g.push(c[h]);b.hua=0<g.length?g:c;b.IR=(0,D.Wu)(b);d=new D.La(b.O.e,b.IR,0,0,d,f)}d&&((0,D.Xu)(b,{image:[D.r,D.r]}),b.Tm={image:d})};D.Vu.prototype.yf=function(b,c){D.Vu.q.yf.call(this,b,c);if(this.op.image){var d=(0,D.Wu)(this);d!=this.IR&&(this.IR=d,this.op[window.areaName].BD(this.IR))}};
D.vv=function(b,c,d,e){this.Init(b,c,d,e)};D.F.o(D.vv,D.F,"DvtMapDataLayer");D.vv.prototype.Init=function(b,c,d,e){this.O=b;this.rt=d;this.jc=[];this.vh=[];this.wa=e;this.yk=new D.gi(b.e);(0,D.om)(this.wa,this.yk);this.vk=new D.H(this.O.e);this.Cr=new D.H(this.O.e);this.YA=new D.H(this.O.e);this.O.gK.Ha(this.vk,0);this.O.Gv.Ha(this.Cr,0);this.O.Kt.Ha(this.YA,0);this.Kia=c;this.hg=[];this.rm=[]};D.bv=function(b){var c=[b.YA];b.O.Mr&&c.push(b.Cr);return c};
D.Ab=function(b){for(var c=[],d=0;d<b.jc.length;d++)b.jc[d].zu()||c.push(b.jc[d]);return c};D.Bb=function(b){for(var c=[],d=0;d<b.jc.length;d++)for(var e=0;e<b.hg.length;e++)b.jc[d].hl==b.hg[e]&&(b.jc[d].zu()||c.push(b.jc[d]));return c};D.xv=function(b,c){b.jc.push(c);b.wa.ma(c.La(),c);c.vk=b.vk};D.E=D.vv.prototype;D.E.lh=(0,D.C)("rt");D.E.UH=(0,D.B)("QZ");D.E.Cq=(0,D.C)("QZ");D.E.Pn=(0,D.B)("PZ");D.E.Ra=(0,D.C)("PZ");D.E.Ls=function(b){if(this.Zr=b)this.Kb=new D.Sn(this.Zr),this.wa.Vz(this.rt,this.Kb)};
D.E.uc=function(){return this.Zr!=D.r};D.Gv=function(b,c){var d;d=b.jc[c];var e=d.La(),f=b.Kia.Tm[d.hl];f?(e.ck(f.yC()),d=D.o):(d=b.jc.indexOf(d),-1!==d&&b.jc.splice(d,1),d=D.u);if(d){e=b.jc[c].La();b.vk.k(e);if(d=b.jc[c].mh())0<d.zv.length||(e=e.C(),d.zv.push(e)),d.update(b.aG);return D.o}return D.u};D.E=D.vv.prototype;
D.E.L=function(b){this.zda=D.o;this.aG=b;var c={};this.vh.sort(function(b,c){return b.xc()<c.xc()?1:b.xc()>c.xc()?-1:0});for(var d=0;d<this.vh.length;d++){var e=this.vh[d],f=e.La(),g=e.mh();if(g){if(f.KC()){var h=new D.H(f.e);this.Cr.k(h);h.k(f);h.k(g)}else this.Cr.k(f),f.k(g);e.xp(b)}else this.Cr.k(f);if(e instanceof D.ev)if(g=e.Lxa)f.L(window.JSON.parse(g),e.getWidth(),e.getHeight());else continue;(e=e.hl)&&(c[e]=D.o)}for(d=0;d<this.jc.length;d++)c[this.jc[d].hl]&&this.jc[d].Rn(D.r),(0,D.Gv)(this,
d)||d--;this.JR&&this.YF()};D.E.S5=function(b,c,d){this.aG=d;for(var e=[],f=0;f<b.length;f++)for(var g=0;g<this.jc.length;g++)if(this.jc[g].hl==b[f]){e.push(this.jc[g].hl);(0,D.Gv)(this,g);var h=this.jc[g].La();c.push(h);(0,D.Dv)(h,d);if(g=this.jc[g].mh())c.push(g),(g=g.Oj)&&c.push(g);break}for(g=0;g<this.vh.length;g++)for(f=0;f<b.length;f++)d=this.vh[g].hl,h=this.vh[g].La(),d!=D.r?d==b[f]&&(this.Cr.k(h),c.push(h)):(this.Cr.k(h),c.push(h));this.hg=this.hg.concat(e)};
D.E.hO=function(b,c){for(var d=0;d<b.length;d++)for(var e=0;e<this.jc.length;e++)if(this.jc[e].hl==b[d]){this.jc[e].zu()&&this.jc[e].ZH(D.u);this.jc[e].mb()&&this.Kb.LN(this.jc[e]);var f=D.Ib.Ea(this.hg,b[d]);if(-1<f&&(this.hg.splice(f,1),c.push(this.jc[e].La()),e=this.jc[e].mh()))c.push(e),c.push(e.Oj);break}};
D.E.reset=function(b,c){if(this.Kb)for(var d=this.Kb.getSelection(),e=0;e<d.length;e++)(!c||c&&-1==D.Ib.Ea(c,d[e].hl))&&this.Kb.LN(d[e]);if("none"!=this.O.Nj)for(d=0;d<this.rm.length;d++){for(e=0;e<this.jc.length;e++)if(this.jc[e].hl==this.rm[d]){this.jc[e].ZH(D.u);var f=this.jc[e].La();this.vk.k(f);b.push(f);if(e=this.jc[e].mh())e.update(this.aG),b.push(e),b.push(e.Oj);break}for(e=0;e<this.vh.length;e++)if(this.vh[e].hl==this.rm[d]){f=this.vh[e].La();this.Cr.k(f);b.push(f);break}}this.rm=[]};
D.E.yf=function(b,c){this.aG=c;var d=c.Lc,e=b.Lh();if(this.zda&&"zoomed"==e){this.zda=D.u;for(e=0;e<this.jc.length;e++){var f=this.jc[e].La(),g=f.dja;if(g){var h=new D.wc;g.zd(h);h.qa(new D.ib(1/d,D.r,D.r,1/d));f.G(h)}}}e=this.jc;for(d=0;d<e.length;d++)e[d].yf(c);if(this.O.Mr){e=this.vh;for(d=0;d<e.length;d++)e[d].yf(c)}};D.E.Ts=(0,D.B)("aG");D.E.YF=function(){this.Kb&&((0,D.Un)(this.Kb,this.JR,this.vh.concat(this.jc)),this.JR=D.r)};
D.E.Ox=function(b){if(this.Kb){b.mb()||(this.Kb.Pi(b,D.u),this.wa.Il(b));b=[];for(var c=this.Kb.getSelection(),d=0;d<c.length;d++)b.push(c[d].getId());return b}return D.r};D.E.Nx=function(){for(var b=[],c=this.Kb.getSelection(),d=0;d<c.length;d++)b.push(c[d].La());return b};
D.Fa=function(b,c){this.Init(b,c)};D.F.o(D.Fa,D.Su,"DvtThematicMapKeyboardHandler");D.E=D.Fa.prototype;D.E.Init=function(b,c){D.Fa.q.Init(b,c);this.O=b};D.E.DH=function(b){return this.bk(b)&&!b.ctrlKey};
D.E.Ds=function(b){var c=b.keyCode;if(221==c){var c=(0,D.pm)(this.Ga),d=(0,D.cb)(this.O);c instanceof D.Tu&&0<d.length&&(c=(0,D.co)(c,b,d));this.Ga.Xl(c);(0,D.Uu)(this.Ga,c)}else 219==c?(c=(0,D.pm)(this.Ga),d=(0,D.bb)(this.O),!(c instanceof D.Tu)&&0<d.length&&(c=(0,D.co)(c,b,d)),this.Ga.Xl(c),(0,D.Uu)(this.Ga,c)):(c=D.Fa.q.Ds.call(this,b),this.bk(b)&&!b.ctrlKey&&(0,D.Uu)(this.Ga,c));return c};D.E.XC=function(b){return 32==b.keyCode&&b.ctrlKey};
D.E.bk=function(b){var c=D.Fa.q.bk.call(this,b);if(!c&&(b=b.keyCode,219==b||221==b))c=D.o;return c};
D.Ea=function(b,c,d){this.Init(b,c,d)};D.F.o(D.Ea,D.xc,"DvtThematicMapEventManager");D.E=D.Ea.prototype;D.E.Init=function(b,c,d){D.Ea.q.Init.call(this,b,c,d);this.sw={};this.O=d;this.jt=D.u};D.E.uf=function(b){if(b&&b.rj)return this.sw[b.rj().lh()]};D.E.Vz=function(b,c){this.sw[b]=c};D.E.mW=(0,D.B)("Nj");D.E.LN=function(b,c){var d=this.sw[b];d&&d.LN(c)};D.E.DM=function(b){(b=this.sw[b])&&b.DM()};
D.E.fo=function(b){var c=(0,D.Ac)(this,b.target);c&&(c.yd&&c.rj)&&(this.O.mR=c.rj().lh());D.Ea.q.fo.call(this,b)};D.E.kl=function(b){this.jt=D.u;D.Ea.q.kl.call(this,b)};D.E.Xm=function(b){this.jt=D.o;D.Ea.q.Xm.call(this,b)};D.E.zg=function(b){if(!this.jt){var c=(0,D.Ac)(this,b.target);(0,D.Uu)(this,c);if(!c||!c.uc||!c.uc())for(var d in this.sw)if(this.sw[d].Pi(D.r,b.ctrlKey)){var e=new D.ym([]);(0,D.lb)(e,"clientId",d);this.Xa.call(this.ka,e)}D.Ea.q.zg.call(this,b);this.vy(c)}};
D.E.vy=function(b){if(b instanceof D.Zu)if(b.f1){var c=new D.cv(b.lh(),b.getId(),b.fg);(0,D.lb)(c,"clientId",b.rj().lh());this.oc();this.Xa.call(this.ka,c)}else b.yd()&&(this.O.mR=b.rj().lh())};D.Uu=function(b,c){var d=D.r,e=D.r,f=D.r;c&&(c instanceof D.Zu?f=c.La():c instanceof D.dv&&(f=c),c.rj&&(e=c.rj(),d=e.lh(),e=e.Kia.zf));var g=b.O;g.Lj=e;g.Bv=d;g.DQ=f};D.E=D.Ea.prototype;
D.E.eo=function(b){D.Ea.q.eo.call(this,b);b=(0,D.Ac)(this,b.target);this.uf(b)&&(this.Nj&&"none"!=this.Nj)&&(b=new D.Lb(D.Lb.iX),this.Xa.call(this.ka,b))};
D.E.cm=function(b){var c=D.o,d=b.keyCode;if((48==d||96==d)&&b.ctrlKey&&b.shiftKey)this.O.B8(),b.preventDefault();else if(220==d)(d=this.O.kc)&&(d instanceof D.Ia?(0,D.Jd)(d,!d.isCollapsed()):d instanceof D.Ha&&d.Ne(!d.nb())),b.preventDefault();else if(13==d)b.shiftKey?this.O.U5():this.O.tU(),b.preventDefault();else if(32==d&&b.ctrlKey)d=(0,D.pm)(this),(0,D.Uu)(this,d),(0,D.Cm)(this,d,D.o),b.preventDefault();else if((48==d||96==d)&&b.ctrlKey){var e=(0,D.pm)(this);b.altKey?(d=this.O,e=e.La(),e||(e=
d.Ika),e||(e=d.DQ),d.OG(e.C())):(0,D.pb)(this.O);b.preventDefault()}else c=D.Ea.q.cm.call(this,b);return c};D.E.Zs=function(b){var c=(0,D.Ac)(this,b.target);(0,D.Uu)(this,c);if(!c||c.ZKa)for(var d in this.sw)if(this.sw[d].Pi(D.r,b.ctrlKey)){for(var e=this.sw[d].getSelection(),f=[],g=0;g<e.length;g++)f.push(e[g].getId());e=new D.ym(f);this.Xa.call(this.ka,e)}D.Ea.q.Zs.call(this,b);this.vy(c)};D.E.RO=function(b){if((b=(0,D.Ac)(this,b.target))&&b.yd&&b.rj)this.O.mR=b.rj().lh()};
D.E.mA=function(b){var c=(0,D.Ac)(this,b.target);c&&(this.uf(c)&&this.Nj&&"none"!=this.Nj)&&((0,D.Cm)(this,c,b.ctrlKey),b=new D.Lb(D.Lb.iX),this.Xa.call(this.ka,b))};
D.hb=function(b){this.Init(b)};D.F.o(D.hb,D.F,"DvtThematicMapParser");D.sv="inlineStyle";D.tv="animationOnMapChange";D.tv="animationOnMapChange";D.sv="inlineStyle";D.E=D.hb.prototype;D.E.Init=function(b){this.O=b;this.Jea={};this.LP=this.NP=this.MP=this.ht=D.r;this.zga=D.J.da()};
D.E.AV=function(b){b=b.pb();for(var c,d,e=0;e<b.length;e++)if(c=b[e],d=c.getName(),"mapProperties"==d)this.BY(c);else if("customLayer"==d)this.QHa(c);else if("layers"==d)this.SI(c);else if("legend"==d)this.aP(c);else if("childResources"==d){c=c.pb();for(d=0;d<c.length;d++){var f=c[d].getTextContent();f&&(0,D.en)(window.JSON.parse(f))}}};
D.E.BY=function(b){var c;if(c=b.l("source"))this.$v=D.o;if(c=b.l("baseMapName")){var d=this.O;c=this.$v?"$"+c:c;d.ZP=d.Ce&&d.Ce!=c;d.Ce=c}if(c=b.l("animationOnDisplay"))this.O.SZ=c;if(c=b.l(D.tv))this.O.ida=c;(c=b.l("animationDuration"))&&this.O.Pn(c);if(c=b.l("displayTooltips"))this.O.D0=c;if(c=b.l("dropTargetStyle"))this.gua=new D.P(c);if(c=b.l("controlPanelBehavior"))this.O.Dv=c;(c=b.l("featuresOff"))&&this.O.Sz(c);if(c=b.l("centerX"))this.O.xxa=(0,window.parseFloat)(c);if(c=b.l("centerY"))this.O.yxa=
(0,window.parseFloat)(c);if(c=b.l("curZoom"))this.O.z1=(0,window.parseFloat)(c);if((c=b.l("animationOnDrill"))&&"alphaFade"==c)this.O.bua=c;(c=b.l("drillMode"))&&this.O.mW(c);if(c=b.l("drillZoomToFit"))this.O.Sva="true"==c;c=b.l("initialZooming");"auto"==c&&(this.O.MR=D.o);c=b.l("zooming");"none"==c&&(this.O.kz=D.u);c=b.l("panning");"none"==c&&(this.O.TF=D.u);c=(0,window.parseFloat)(b.l("maxZoom"));(0,window.isNaN)(c)||(this.O.p2=c);if(c=b.l("markerZoomBehavior"))this.O.Mr="fixed"==c;(0,D.uv)(this.O,
b);b=b.pb();for(var e,d=0;d<b.length;d++)if(c=b[d],e=c.getName(),"resources"==e)this.FY(c);else if("mapHierarchy"==e){c=c.pb();e=this.O.Ce;for(var f=D.n,g=D.n,h=D.n,k=D.n,g=D.n,m=0;m<c.length;m++){var p=c[m];if("pointLayer"!=p.getName()){var f=p.l("layerName"),g=p.l("labelDisplay"),h=p.l("clientId"),k=p.l("labelType"),q=p.l("areaStyle");q&&this.ht.zb(new D.P(q));(q=p.l("labelStyle"))&&this.ht.zb(new D.P(q));this.$v?g=new D.Vu(this.O,f,h,g,k,this.O.wa):(g=new D.ab(this.O,f,h,g,k,this.O.wa),q=D.xb.Kla(e,
f),h=this.h0(q),g.Tm=h,(0,D.Xu)(g,q),q=D.xb.Jla(e,f),g.CB=q,f=D.xb.Tla(this.O.Ce,f),g.Zd=f,g.MP=this.MP,g.NP=this.NP,g.LP=this.LP);g.iS=this.ht;g.XIa=this.gua;if(q=p.l("animationOnLayerChange")){(p=p.l("animationDuration"))&&(p=(0,window.parseFloat)(p));if(!p||(0,window.isNaN)(p))p=1;g.UH(q);g.Pn(p)}g&&this.O.Be.push(g)}}}else if("regionLayer"==e){if(e=c.l(D.sv))this.ht=new D.P(e);if(e=c.l("hoverStyle"))this.MP=new D.P(e);if(e=c.l("selectStyle"))this.NP=new D.P(e);if(e=c.l("disclosedStyle"))this.LP=
new D.P(e)}else"markerStyle"==e?(c=new D.P(c.l(D.sv)),this.O.Aha=c):"basemap"==e&&this.O.Ce=="$"+c.l("id")&&this.sY(c)};
D.E.SI=function(b,c,d){var e=b.getElementsByTagName("layer");b=b.getElementsByTagName("legend");c&&(b&&b[0])&&this.aP(b[0]);for(b=0;b<e.length;b++){var f=e[b].l("clientId"),g=e[b].l("id"),h=(0,D.Ca)(this.O,g);h?h instanceof D.ab&&(0,D.rv)(h):(h=e[b].l("showWith"))?h=(0,D.Ca)(this.O,h):(h=new D.av(this.O,this.O.wa),this.O.Be.push(h));var f=new D.vv(this.O,h,f,this.O.wa),k=e[b].l("selectionMode");"single"==k?f.Ls("s"):"multiple"==k&&f.Ls("m");if(k=e[b].l("animationDataChange")){var m=e[b].l("animationDuration");
m&&(m=(0,window.parseFloat)(m));if(!m||(0,window.isNaN)(m))m=1;f.UH(k);f.Pn(m)}k=D.r;h instanceof D.ab&&(k=e[b].l("isolatedRowKey"));for(var m=[],p=[],q=this.v3(e[b].getElementsByTagName("styles")),t=e[b].getElementsByTagName("row"),v=this.u3(e[b],q),w=0;w<t.length;w++){var A=t[w].l("styleId"),D$;a:{var K=h,G=f;D$=g;var M=t[w],O=q[A],T=m,Q=p,V=k,aa=this.O.e,oa=M.l("rowKey"),sa=M.l("clientId"),A=M.l("id"),ra=D.n,Za=O.getName();if("colorStyles"==Za){if(V){if(V!=oa){D$=D.r;break a}this.RK=A}K.kq[A]=
D.u;ra=new D.Tu(aa,G,oa,sa,A);this.q3(aa,A,K,M,ra)}else if("graduatedSymbol"==Za)ra=new D.mv(aa,G,oa,sa,A),this.r3(aa,O,D$,M,ra);else if("image"==Za){var ra=new D.$u(aa,G,oa,sa,A),O=aa,Ra=D$,db=M,V=ra,sa=db.l("url"),Cb=D.r;if(Ra=(0,D.wv)(this,Ra,db,"cities"!=Ra)){Cb=new D.La(O,sa);V.Qn(Ra);V.Rd(Cb);var Eb=D.n,Cd=D.n;if(db=db.l(D.sv))db=new D.P(db),(Eb=db.v("width").substring(0,db.v("width").indexOf("px")))&&Cb.ia(Eb),(Cd=db.v("height").substring(0,db.v("height").indexOf("px")))&&Cb.va(Cd),Eb!=D.r&&
Cd!=D.r&&(Cb.fa(Ra.x-Eb/2),Cb.ua(Ra.y-Cd/2),V.dk(Eb*Cd));(!Eb||!Cd)&&D.Pd.yj(O,sa,D.F.oj(V,V.UV))}}else if(ra=new D.ev(aa,G,oa,sa,A),Cb=aa,V=M,O=ra,Ra=Za,sa=(0,D.wv)(this,D$,V,"cities"!=D$)){"statusMeterGauge"==Ra?window.gauge=(0,D.Ap)(Cb,D.r,D.r):"ledGauge"==Ra?window.gauge=(0,D.wp)(Cb,D.r,D.r):"dialGauge"==Ra?window.gauge=(0,D.Ip)(Cb,D.r,D.r):"ratingGauge"==Ra&&(window.gauge=(0,D.Mp)(Cb,D.r,D.r));O.Qn(sa);O.Rd(window.gauge);Ra=Cb=D.n;if(Cb=V.l(D.sv))Ra=new D.P(Cb),Cb=Ra.width?(0,window.parseInt)(Ra.width.substring(0,
Ra.width.indexOf("px"))):50,O.ia(Cb),Ra=Ra.height?(0,window.parseInt)(Ra.height.substring(0,Ra.height.indexOf("px"))):50,O.va(Ra),O.fa(sa.x-Cb/2),O.ua(sa.y-Ra/2);if(V=V.l("json"))O.Lxa=V}if(O=ra.La()){if(V=(0,window.parseInt)(M.l("rotation")))V=V*window.Math.PI/180,O.Si(V),sa=ra.gd(),(0,D.Xa)(O,sa.x-(sa.x*window.Math.cos(V)-sa.y*window.Math.sin(V)),sa.y-(sa.x*window.Math.sin(V)+sa.y*window.Math.cos(V)));A&&K instanceof D.ab&&(K.Vr[A]=D.u);V="true"==M.l("hasAction");if(ra.f1=V)V=M.l("action"),ra.fg=
V;if(V=M.l("destination"))sa=[],sa.destination=V,sa.targetFrame="_blank",sa.focusable=D.o,(0,D.Hf)(O,sa);"true"==M.l("selected")&&T.push(oa);"true"==M.l("drilled")&&(Q.push(M.l("id")),this.O.PE.push(oa));T=M.l("label");Q="off";T?Q="on":"colorStyles"==Za&&(Q=K.jH());!T&&(A&&"off"!=Q)&&(T="long"==K.K1?K.Tn[A][1]:K.Tn[A][0]);if(T){oa=D.n;K.NU&&(oa=K.NU(A));var Xc=D.n,Xc=oa?new D.Db(aa,T,oa,Q,G.YA,this.O.ze):"colorStyles"!=Za?new D.nc(aa,T,0,0):new D.Db(aa,T,D.r,Q,G.YA,this.O.ze);(G=M.l("labelPosition"))&&
ra.Ic(G);G=new D.P;"colorStyles"==Za?G.zb(K.iS):"graduatedSymbol"==Za&&G.zb(this.O.Aha);(K=M.l("labelStyle"))&&G.zb(new D.P(K));Xc instanceof D.Db&&(G.v("color")||G.ba("color",D.S.Kl(ra.sj())));Xc.Ia(G)}ra.Rn(Xc);K=this.O.D0;"none"!=K&&(M=M.l("shortDesc"),"auto"==K&&(K=D.n,A&&(K="cities"==D$||this.$v?D.xb.Wla(this.O.Ce,A):D.xb.tma(this.O.Ce,D$,A)),K&&(M=M?K+": "+M:K)),M&&ra.I8(M));D$=ra}else D$=D.r}D$&&(A=D$.La(),A.xg&&A.xg(f.uc()&&!(D$ instanceof D.$u)),0<v.length&&D$.T8(v),D$ instanceof D.Tu?(0,D.xv)(f,
D$):(A=f,A.vh.push(D$),A.wa.ma(D$.La(),D$)))}k&&this.RK&&(f.Gxa=k,(0,D.ov)(h,this.RK));f.uc()&&0<m.length&&(f.JR=m);0<p.length&&(this.O.kF[h.zf]=[f.lh(),p]);c||h.rj(f.lh())?h.e9(f,c,d):h.Xg[f.lh()]=f}};D.E.aP=function(b){this.O.Fo=b};D.E.FY=function(b){this.O.$k(b)};D.E.sY=function(b){b=b.pb();for(var c,d,e=0;e<b.length;e++)c=b[e],d=c.getName(),"layer"==d?this.o3(c):"points"==d&&this.p3(c)};
D.E.o3=function(b){var c=b.pb();b=b.l("id");for(var d,e,f=[],g=0;g<c.length;g++)if(d=c[g],e=d.getName(),"image"==e){e={};e.source=d.l("source");e.width=d.l("width");e.height=d.l("height");var h=d.l("bidi");d=d.l("dir");e.dir="true"==h||"rtl"==d?"rtl":"ltr";f.push(e)}(0,D.Yu)((0,D.Ca)(this.O,b),f)};
D.E.p3=function(b){b=b.pb();for(var c,d,e={},f={},g=0;g<b.length;g++)c=b[g],d=c.getName(),"point"==d&&(e[c.l("name")]=[c.l("x"),c.l("y")],f[c.l("name")]=[D.r,c.l("longLabel")]);D.xb.cW(this.O.Ce,"cities",f,e,D.r,D.r,1)};D.E.h0=function(b){var c={},d=this.O.e,e;for(e in b)c[e]=new D.Pa(d),(0,D.yv)(this,"colorStyles",this.ht,c[e]);return c};D.E.v3=function(b){var c={};if(b&&0<b.length){b=b[0].pb();for(var d=0;d<b.length;d++){var e=b[d].l("id");c[e]=b[d]}}return c};
D.E.u3=function(b,c){for(var d=b.getElementsByTagName("spb"),e=[],f=0;f<d.length;f++){var g=d[f].l("alignId"),h=(0,D.Bg)(d[f]),k;for(k in c)if(g==k){h=new D.Ag(h.wz(),h.Mh(),D.r,h.vC());break}e.push(h)}return e};D.wv=function(b,c,d,e){b=b.O.Ce;var f=d.l("id");if(f)return e?D.xb.Ila(b,c,f):D.xb.Vla(b,f);c=(0,window.parseFloat)(d.l("x"));d=(0,window.parseFloat)(d.l("y"));return new D.R(c,d)};
D.hb.prototype.q3=function(b,c,d,e,f){if(d.Tm[c]){c=new D.P(e.l(D.sv));b=new D.zv(b,this.O.ze);var g=d.NP;e=d.LP;d=new D.Ud(d.MP.v("border-color"),1,2);var h=new D.Ud(g.v("-tr-inner-color"),1,1),g=new D.Ud(g.v("-tr-outer-color"),1,4);b.Vq(d,D.r).Xq(h,g);e&&(d=new D.Ud(e.v("-tr-inner-color"),1,2),e=new D.Ud(e.v("-tr-outer-color"),1,4),(0,D.Av)(b,d,e));f.Rd(b);(0,D.yv)(this,"colorStyles",c,b,f)}};
D.hb.prototype.r3=function(b,c,d,e,f){var g=D.r;if(d=(0,D.wv)(this,d,e,"cities"!=d)){if(g=e.l("source"))g=[g,e.l("sourceSelected"),e.l("sourceHover"),e.l("sourceHoverSelected")];else if((g=e.l("shapeType"))||(g="c"),!(0,D.de)(g)){c=c.getElementsByTagName("markerDef");for(var h=0;h<c.length;h++)!this.Jea[g]&&c[h].l("id")==g&&(this.Jea[g]=D.vc.ela(b,c[h]))}c=e.l("scaleX");c=(0,window.isNaN)(c)?1:(0,window.parseFloat)(c);var h=e.l("scaleY"),h=(0,window.isNaN)(h)?1:(0,window.parseFloat)(h),k=e.l("width"),
m=e.l("height"),k=!k||(0,window.isNaN)(k)?8:(0,window.parseInt)(k),m=!m||(0,window.isNaN)(m)?8:(0,window.parseInt)(m),g=new D.Kb(b,g,this.O.Sb,d.x-k*c/2,d.y-m*h/2,k,m,D.r,c,h);f.Qn(d);f.Rd(g);f.dk(k*c*m*h);if(b=e.l(D.sv))b=new D.P(b),(0,D.yv)(this,"graduatedSymbol",b,g,f)}};
D.yv=function(b,c,d,e,f){d||(d={});var g=d.v("pattern"),h=d.v("pattern-color"),k=d.v("background-color"),m=b.zga||"alta"==b.O.Sb?D.u:d.v("gradient");k&&f?f.fn.push(k):h&&f&&f.fn.push(h);var p;p=d.v("opacity")?(0,window.parseFloat)(d.v("opacity")):1;f&&f.J8(k?k:h);if("graduatedSymbol"==c&&(0,D.de)(e.Ba())){c=b.O.Aha;f=d.v("border-style")?d.v("border-style"):c.v("border-style");if("none"!=f){var q=d.v("border-color")?d.v("border-color"):c.v("border-color");(d=d.v("border-width")?d.v("border-width"):
c.v("border-width"))&&(d=(0,window.parseFloat)(d.substring(0,d.indexOf("px"))));d=new D.Ud(q,1,d);d.Ti((0,D.mi)(f));b.O.Mr||(d.$c=D.o);e.Y(d)}"true"==m&&k?e.G(new D.fg.I5(k,e,p)):g?e.G(new D.wc(g,h,k)):k?e.na(k,p):e.na(c.v("background-color"),p)}else if("colorStyles"==c){if((m=d.v("border-color"))&&"transparent"!=m)d=new D.Ud(m),b.O.ze&&(d.$c=D.o),e.Y(d);g?(b=new D.wc(g,h,k),e.dja=b):k&&"transparent"!=k?e.na(k,p):e.G(D.r)}};
D.Da=function(b){this.Init(b)};D.F.o(D.Da,D.F,"DvtThematicMapJsonParser");D.E=D.Da.prototype;D.E.Init=function(b){this.O=b;this.$v=D.u;this.ht=D.r;this.zga=D.J.da();this.Hea={}};
D.E.parse=function(b){b.skin="alta";this.BY(b);var c=b.styleDefaults;this.ht=new D.P(c.areaStyle+c.labelStyle);var d=new D.P("fill-type:solid;background-color:"+c.backgroundColor);this.O.aK=d;this.O.cs=c;this.$v&&(c=(new D.ml).parse(b.sourceXml))&&this.sY(c);for(var c=b.areaLayers,d=this.O.Ce,e=0;e<c.length;e++){var f=D.xa.zb(c[e],D.kv),g=f.layer;if(g){var h;f.areaStyle&&(0,D.tl)(this.ht,f.areaStyle);if(this.$v)h=new D.Vu(this.O,g,D.r,f.labelDisplay,f.labelType,this.O.wa),(0,D.Yu)(h,this.Hea[g]);
else{h=new D.ab(this.O,g,D.r,f.labelDisplay,f.labelType,this.O.wa);var k=D.xb.Kla(d,g),m=this.h0(k);h.Tm=m;(0,D.Xu)(h,k);k=D.xb.Jla(d,g);h.CB=k;g=D.xb.Tla(this.O.Ce,g);h.Zd=g}h.iS=this.ht;h.UH("auto"==f.animationOnLayerChange?"alphaFade":f.animationOnLayerChange);h.Pn(this.O.Ra());this.O.Be.push(h);f.areaDataLayer&&this.SI([f.areaDataLayer],h,D.o);f.pointDataLayers&&this.SI(f.pointDataLayers,h,D.u)}}this.SI(b.pointDataLayers,D.r,D.u)};
D.E.BY=function(b){this.O.Pn(b.animationDuration/1E3);this.O.SZ="auto"==b.animationOnDisplay?"alphaFade":b.animationOnDisplay;this.O.ida="auto"==b.animationOnMapChange?"alphaFade":b.animationOnMapChange;this.$v=b.source!=D.r;var c=this.O,d=this.$v?"$"+b.basemap:b.basemap;c.ZP=c.Ce&&c.Ce!=d;c.Ce=d;this.O.Dv=b.controlPanelBehavior;this.O.mW("none");this.O.MR="auto"==b.initialZooming;this.O.Mr="fixed"==b.markerZoomBehavior;this.O.TF="auto"==b.panning;c=b.tooltipDisplay;"shortDesc"==c?c="shortDescOnly":
"labelAndShortDesc"==c&&(c="auto");this.O.D0=c;this.O.kz="auto"==b.zooming};
D.E.SI=function(b,c,d){if(b)for(var e=0;e<b.length;e++){var f=D.xa.zb(b[e],D.lv);c?c instanceof D.ab&&(0,D.rv)(c):(c=new D.av(this.O,this.O.wa),this.O.Be.push(c));var g=new D.vv(this.O,c,f.id,this.O.wa),h=f.selection;"single"==h?g.Ls("s"):"multiple"==h&&g.Ls("m");g.UH("auto"==f.animationOnDataChange?"alphaFade":f.animationOnDataChange);g.Pn(this.O.Ra());var k=D.r;c instanceof D.ab&&(k=f.isolatedItem);var m=f.disclosedItems,h=[],p,q=f.areas;if(q)for(var t=0;t<q.length;t++){var v=q[t].location;if(k)if(k!=
q[t].id)continue;else p=v;m&&-1!=m.indexOf(q[t].id)&&h.push(v);if(v=this.q3(c,g,q[t])){if(g.uc()){var w=v.La();w.xg(D.o)}(0,D.xv)(g,v)}}if(m=f.markers)for(t=0;t<m.length;t++){v=m[t].location;if(d&&k)if(k!=m[t].id)continue;else p=v;if(v=this.r3(c,g,m[t],d))g.uc()&&(w=v.La(),w.xg(D.o)),q=g,q.vh.push(v),q.wa.ma(v.La(),v)}p&&(g.Gxa=k,(0,D.ov)(c,p));if((f=f.selectedItems)&&0<f.length)g.JR=f;h&&0<h.length&&(this.O.kF[c.zf]=[g.lh(),h]);c.Xg[g.lh()]=g}};
D.E.sY=function(b){b=b.pb();for(var c,d,e=0;e<b.length;e++)c=b[e],d=c.getName(),"layer"==d?this.o3(c):"points"==d&&this.p3(c)};D.E.o3=function(b){var c=b.pb();b=b.l("id");for(var d,e,f=[],g=0;g<c.length;g++)if(d=c[g],e=d.getName(),"image"==e){e={};e.source=d.l("source");e.width=d.l("width");e.height=d.l("height");var h=d.l("bidi");d=d.l("dir");e.dir="true"==h||"rtl"==d?"rtl":"ltr";f.push(e)}this.Hea[b]=f};
D.E.p3=function(b){b=b.pb();for(var c,d,e={},f={},g=0;g<b.length;g++)c=b[g],d=c.getName(),"point"==d&&(e[c.l("name")]=[c.l("x"),c.l("y")],f[c.l("name")]=[D.r,c.l("longLabel")]);D.xb.cW(this.O.Ce,"cities",f,e,D.r,D.r,1)};D.E.h0=function(b){var c={},d=this.O.e,e;for(e in b)c[e]=new D.Pa(d),(0,D.Hv)(this,this.ht,c[e]);return c};
D.E.q3=function(b,c,d){var e=d.location;if(b.Tm[e]&&d.color){b.kq[e]=D.u;var f=this.O.e,g=new D.zv(f,this.O.ze);d=D.xa.zb(d,this.O.cs.dataAreaDefaults);d.labelStyle||(d.labelStyle=this.O.cs.labelStyle);var h=new D.Ud(d.hoverColor,1,2),k=new D.Ud(d.selectedInnerColor,1,1),m=new D.Ud(d.selectedOuterColor,1,4);g.Vq(h,D.r).Xq(k,m);h=new D.Ud(d.drilledInnerColor,1,2);k=new D.Ud(d.drilledOuterColor,1,4);(0,D.Av)(g,h,k);e=new D.Tu(f,c,d.id,d.clientId,e);e.Rd(g);(0,D.Iv)(this,b,c,d,g,e,D.o);return e}return D.r};
D.E.r3=function(b,c,d,e){var f;f=d;var g=this.O.Ce,h=f.location;f=h?e?D.xb.Ila(g,b.zf,h):D.xb.Vla(g,h):D.Z.qGa(f.x,f.y,this.O.Ce);if(!f)return D.r;g=this.O.e;window.dataObj=new D.mv(g,c,d.id,d.clientId,d.location);window.dataObj.Qn(f);d=D.xa.zb(d,this.O.cs.dataMarkerDefaults);(h=d.source)?h=[h,d.sourceSelected,d.sourceHover,d.sourceHoverSelected]:(h=d.shape)||(h="c");var k=d.scaleX;(0,window.isNaN)(k)&&(k=1);var m=d.scaleY;(0,window.isNaN)(m)&&(m=1);var p=d.width,q=d.height;if(!p||(0,window.isNaN)(p))p=
8;if(!q||(0,window.isNaN)(q))q=8;window.marker=new D.Kb(g,h,"alta",f.x-p*k/2,f.y-q*m/2,p,q,D.r,k,m);window.dataObj.Rd(window.marker);window.dataObj.dk(p*k*q*m);window.dataObj.Ic(d.labelPosition);if(f=d.rotation)g=f*window.Math.PI/180,window.marker.Si(g),f=window.dataObj.gd(),(0,D.Xa)(window.marker,f.x-(f.x*window.Math.cos(g)-f.y*window.Math.sin(g)),f.y-(f.x*window.Math.sin(g)+f.y*window.Math.cos(g)));(0,D.Iv)(this,b,c,d,window.marker,window.dataObj,e);return window.dataObj};
D.Iv=function(b,c,d,e,f,g,h){var k=e.location;h&&"auto"==c.jH()&&(c.Vr[k]=D.u);e.action&&(g.f1=D.o,g.fg=e.action);if(k=e.destination){var m=[];m.destination=k;m.targetFrame="_blank";m.focusable=D.o;(0,D.Hf)(f,m)}m=b.O.D0;if("none"!=m){k=e.shortDesc;if("auto"==m){var p;(m=e.location)&&(p=!h||b.$v?D.xb.Wla(b.O.Ce,m):D.xb.tma(b.O.Ce,c.zf,m));p&&(k=k?p+": "+k:p)}k&&g.I8(k)}p=new D.P;p.ba("background-color",e.color);p.ba("pattern",e.pattern);p.ba("border-color",e.borderColor);p.ba("border-style",e.borderStyle);
e.borderWidth&&p.ba("border-width",e.borderWidth);p.ba("opacity",e.opacity);(0,D.Hv)(b,p,f,g);f=e.location;k=(p=e.label)?"on":"off";h&&(k=c.jH());!p&&(g instanceof D.Tu&&"off"!=k)&&(p="long"==c.K1?c.Tn[f][1]:c.Tn[f][0]);if(p){var q=b.O.e,q=g instanceof D.mv?new D.nc(q,p,0,0):new D.Db(q,p,c.NU?c.NU(f):D.r,k,d.YA,b.O.ze);b=new D.P(e.labelStyle);q instanceof D.Db&&(b.v("color")||b.ba("color",D.S.Kl(g.sj())));q.Ia(b)}g.Rn(q)};
D.Hv=function(b,c,d,e){c||(c={});var f=c.v("pattern"),g=c.v("background-color");e&&e.J8(g);if(d instanceof D.Kb&&(0,D.de)(d.Ba())){"none"!=c.v("border-style")&&(e=new D.Ud(c.v("border-color"),1,c.v("border-width")),b.O.Mr||(e.$c=D.o),e.Ti((0,D.mi)(c.v("border-style"))),d.Y(e));var h=c.v("opacity");"true"==D.u&&g?d.G(new D.fg.I5(g,d,h)):f?d.G(new D.wc(f,g,"#FFFFFF")):g?d.na(g,h):d.na(c.v("background-color"),h)}else if(d instanceof D.Pa){if((c=c.v("border-color"))&&"transparent"!=c)e=new D.Ud(c),b.O.ze&&
(e.$c=D.o),d.Y(e);f?(b=new D.wc(f,g,"#FFFFFF"),d.dja=b):"transparent"!=g?d.na(g,h):d.G(D.r)}};
D.Z={};D.F.o(D.Z,D.F,"DvtThematicMapProjections");D.Z.lv=new D.I(0,0,800,500);D.Z.AP=6378206.4;D.Z.uZ=new D.I(500,200,200,200);D.Z.tZ=new D.I(163,-49,17,17);D.Z.Fba=new D.I(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);D.Z.Iba=new D.I(-0.8436866097568272,-0.7626456732012923,1.8336308036296942,1.5748427214611724);D.Z.Jba=new D.I(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);
D.Z.cca=new D.I(-0.47944476148667076,-0.0014669405958800579,0.7364925893845453,0.6293972741802124);D.Z.oca=new D.I(-0.6154469465354344,-0.24589767758847714,1.2448236795108683,1.2631535127174947);D.Z.Eca=new D.I(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);D.Z.Hba=new D.I(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);D.Z.aca=new D.I(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);
D.Z.nca=new D.I(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);D.Z.Ica=new D.I(-0.6154656300926513,0.0507209798775865,1.0153104799231851,0.966537441082997);D.Z.Jca=new D.I(-171.9,-62.6,349.8,150.8);D.Z.qsa=new D.I(172,51,8,3);D.Z.rsa=new D.I(-180,51,51,21);D.Z.Gsa=new D.I(-178.5,18.9,35,11);D.Z.tta=new D.I(-124.8,24.4,58,25.5);D.Z.Gba=new D.I(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);
D.Z.jca=new D.I(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);D.Z.Hca=new D.I(-2386803.25,-1183550.5,4514111,2908402);D.Z.rZ=new D.I(165,400,100,100);D.Z.nZ=new D.I(-75,350,240,150);D.Z.ol=[[1,0],[0.9986,0.0314],[0.9954,0.0629],[0.99,0.0943],[0.9822,0.1258],[0.973,0.1572],[0.96,0.1887],[0.9427,0.2201],[0.9216,0.2515],[0.8962,0.2826],[0.8679,0.3132],[0.835,0.3433],[0.7986,0.3726],[0.7597,0.4008],[0.6732,0.4532],[0.6213,0.4765],[0.5722,0.4951],[0.5322,0.5072]];
D.Z.qGa=function(b,c,d){var e;switch(d){case "africa":e=D.Z.Rv(D.Z.Fba,D.Z.HK(b,c));break;case "asia":e=D.Z.Rv(D.Z.Iba,D.Z.sR(40,95,20,60,b,c),D.Z.Wg(5));break;case "australia":e=D.Z.gwa(b,c);break;case "europe":e=D.Z.Rv(D.Z.cca,D.Z.sR(35,25,40,65,b,c),D.Z.Wg(10));break;case "northAmerica":e=D.Z.Rv(D.Z.oca,D.Z.sR(23,-96,20,60,b,c));break;case "southAmerica":e=D.Z.Rv(D.Z.Eca,new D.R(b,c),D.Z.Wg(5));break;case "apac":e=D.Z.Rv(D.Z.Hba,D.Z.HK(b,c));break;case "emea":e=D.Z.Rv(D.Z.aca,D.Z.HK(b,c));break;
case "latinAmerica":e=D.Z.Rv(D.Z.nca,new D.R(b,c));break;case "usaAndCanada":e=D.Z.Rv(D.Z.Ica,D.Z.sR(23,-96,20,60,b,c));break;case "worldRegions":e=D.Z.Qfa(b,c);break;case "usa":e=D.Z.Rwa(b,c);break;case "world":e=D.Z.Qfa(b,c)}return e?new D.R(10*e.x,10*e.y):new D.R(b,c)};
D.Z.Rwa=function(b,c){var d;return(0,D.qh)(D.Z.qsa,b,c)||(0,D.qh)(D.Z.rsa,b,c)?(d=D.Z.nn(D.Z.Gba,D.Z.nZ),D.Z.pJ(d,D.Z.HK(b,c))):(0,D.qh)(D.Z.Gsa,b,c)?(d=D.Z.nn(D.Z.jca,D.Z.rZ),D.Z.pJ(d,new D.R(b,c))):(0,D.qh)(D.Z.tta,b,c)?(d=D.Z.nn(D.Z.Hca,D.Z.lv),D.Z.pJ(d,D.Z.Hwa(new D.R(-95,36),b,c))):new D.R(b,c)};D.Z.Qfa=function(b,c){var d=D.Z.nn(D.Z.Jca,D.Z.lv);return D.Z.pJ(d,D.Z.Lwa(b,c))};
D.Z.gwa=function(b,c){var d;d=(0,D.qh)(D.Z.tZ,b,c)?D.Z.nn(D.Z.tZ,D.Z.uZ):D.Z.nn(D.Z.Jba,D.Z.lv);return D.Z.pJ(d,D.Z.HK(b,c))};D.Z.Rv=function(b,c,d){b=D.Z.nn(b,D.Z.lv);if(d){var e=new D.ib;e.rotate(d);b=D.Z.iea(b,e)}return(0,D.zf)(b,c)};
D.Z.sR=function(b,c,d,e,f,g){c=D.Z.Wg(c);b=D.Z.Wg(b);d=D.Z.Wg(d);e=D.Z.Wg(e);e=0.5*(window.Math.sin(d)+window.Math.sin(e));d=window.Math.pow(window.Math.cos(d),2)+2*e*window.Math.sin(d);b=d-2*e*window.Math.sin(b);b=window.Math.sqrt(b)/e;f=e*(D.Z.Wg(f)-c);g=d-2*e*window.Math.sin(D.Z.Wg(g));g=window.Math.sqrt(g)/e;return new D.R(g*window.Math.sin(f),b-g*window.Math.cos(f))};D.Z.HK=function(b,c){var d=window.Math.log(window.Math.tan(0.25*window.Math.PI+0.5*D.Z.Wg(c)));return new D.R(b,D.Z.jI(d))};
D.Z.Hwa=function(b,c,d){c=D.Z.Wg(c);d=D.Z.Wg(d);var e=D.Z.Wg(b.x);b=D.Z.Wg(b.y);return new D.R(window.Math.cos(d)*window.Math.sin(c-e)*D.Z.AP,(window.Math.cos(b)*window.Math.sin(d)-window.Math.sin(b)*window.Math.cos(d)*window.Math.cos(c-e))*D.Z.AP)};
D.Z.Lwa=function(b,c){var d=window.Math.floor(window.Math.abs(c)/5);d>=D.Z.ol.length-1&&(d=D.Z.ol.length-2);var e=(window.Math.abs(c)-5*d)/5,f=b*(D.Z.ol[d][0]+e*(D.Z.ol[d+1][0]-D.Z.ol[d][0])),d=D.Z.ol[d][1]+e*(D.Z.ol[d+1][1]-D.Z.ol[d][1]);0>c&&(d*=-1);return new D.R(f,180*d)};D.Z.pJ=function(b,c){return new D.R(c.x*b.Lc+b.Fb,c.y*b.Ae+b.yb)};D.Z.iea=function(b,c){var d=b.Lc,e=b.Ae;return new D.ib(c.Lc*d,c.Sf*d,c.mf*e,c.Ae*e,b.Fb+c.Fb*d,b.yb+c.yb*e)};
D.Z.nn=function(b,c){var d=c.x,e=c.y,f=b.g,g=b.j,h=0,h=c.g/f,k=c.j/g,h=h<=k?h:k,d=d-b.x*h,e=e+b.y*h,d=d+(c.g-f*h)/2,e=e+(c.j-(c.j-g*h)/2);return new D.ib(h,0,0,-h,d,e)};D.Z.Wg=function(b){return b*(window.Math.PI/180)};D.Z.jI=function(b){return b*(180/window.Math.PI)};
D.Z.YKa=function(b,c,d){var e;b/=10;c/=10;switch(d){case "africa":e=D.Z.Sv(D.Z.Fba,new D.R(b,c));e=D.Z.GK(e.x,e.y);break;case "asia":e=D.Z.Sv(D.Z.Iba,new D.R(b,c),D.Z.Wg(5));e=D.Z.uR(40,95,20,60,e.x,e.y);break;case "australia":e=D.Z.wwa(b,c);break;case "europe":e=D.Z.Sv(D.Z.cca,new D.R(b,c),D.Z.Wg(10));e=D.Z.uR(35,25,40,65,e.x,e.y);break;case "northAmerica":e=D.Z.Sv(D.Z.oca,new D.R(b,c));e=D.Z.uR(23,-96,20,60,e.x,e.y);break;case "southAmerica":e=D.Z.Sv(D.Z.Eca,new D.R(b,c),D.Z.Wg(5));break;case "apac":e=
D.Z.Sv(D.Z.Hba,new D.R(b,c));e=D.Z.GK(e.x,e.y);break;case "emea":e=D.Z.Sv(D.Z.aca,new D.R(b,c));e=D.Z.GK(e.x,e.y);break;case "latinAmerica":e=D.Z.Sv(D.Z.nca,new D.R(b,c));break;case "usaAndCanada":e=D.Z.Sv(D.Z.Ica,new D.R(b,c));e=D.Z.uR(23,-96,20,60,e.x,e.y);break;case "worldRegions":e=D.Z.Ffa(b,c);break;case "usa":e=D.Z.zwa(b,c);break;case "world":e=D.Z.Ffa(b,c)}return e?e:new D.R(b,c)};
D.Z.zwa=function(b,c){var d;return(0,D.qh)(D.Z.nZ,b,c)?(d=D.Z.nn(D.Z.Gba,D.Z.nZ),d.xu(),d=(0,D.zf)(d,new D.R(b,c)),D.Z.GK(d.x,d.y)):(0,D.qh)(D.Z.rZ,b,c)?(d=D.Z.nn(D.Z.jca,D.Z.rZ),d.xu(),(0,D.zf)(d,new D.R(b,c))):(0,D.qh)(D.Z.lv,b,c)?(d=D.Z.nn(D.Z.Hca,D.Z.lv),d.xu(),d=(0,D.zf)(d,new D.R(b,c)),D.Z.xwa(new D.R(-95,36),d.x,d.y)):new D.R(b,c)};D.Z.Ffa=function(b,c){var d=D.Z.nn(D.Z.Jca,D.Z.lv);d.xu();d=(0,D.zf)(d,new D.R(b,c));return D.Z.ywa(d.x,d.y)};
D.Z.wwa=function(b,c){var d;d=(0,D.qh)(D.Z.uZ,b,c)?D.Z.nn(D.Z.tZ,D.Z.uZ):D.Z.nn(D.Z.Jba,D.Z.lv);d.xu();d=(0,D.zf)(d,new D.R(b,c));return D.Z.GK(d.x,d.y)};D.Z.Sv=function(b,c,d){b=D.Z.nn(b,D.Z.lv);if(d){var e=new D.ib;e.rotate(d);b=D.Z.iea(b,e)}b.xu();return(0,D.zf)(b,c)};
D.Z.uR=function(b,c,d,e,f,g){c=D.Z.Wg(c);b=D.Z.Wg(b);d=D.Z.Wg(d);e=D.Z.Wg(e);e=0.5*(window.Math.sin(d)+window.Math.sin(e));d=window.Math.pow(window.Math.cos(d),2)+2*e*window.Math.sin(d);b=d-2*e*window.Math.sin(b);b=window.Math.sqrt(b)/e;var h=window.Math.sqrt(f*f+(b-g)*(b-g));return new D.R(D.Z.jI(c+window.Math.atan(f/(b-g))/e),D.Z.jI(window.Math.asin((d-h*h*e*e)/(2*e))))};D.Z.GK=function(b,c){return new D.R(b,D.Z.jI(2*window.Math.atan(window.Math.exp(D.Z.Wg(c)))-0.5*window.Math.PI))};
D.Z.xwa=function(b,c,d){c/=D.Z.AP;d/=D.Z.AP;var e=D.Z.Wg(b.y),f=window.Math.sqrt(c*c+d*d),g=window.Math.asin(f);return new D.R(D.Z.jI(D.Z.Wg(b.x)+window.Math.atan(c*window.Math.sin(g)/(f*window.Math.cos(e)*window.Math.cos(g)-d*window.Math.sin(e)*window.Math.sin(g)))),D.Z.jI(window.Math.asin(window.Math.cos(g)*window.Math.sin(e)+d*window.Math.sin(g)*window.Math.cos(e)/f)))};
D.Z.ywa=function(b,c){var d=window.Math.floor(window.Math.abs(c)/5);d>=D.Z.ol.length-1&&(d=D.Z.ol.length-2);var e=(window.Math.abs(c/180)-D.Z.ol[d][1])/(D.Z.ol[d+1][1]-D.Z.ol[d][1]),f=5*e+5*d,d=b/(D.Z.ol[d][0]+e*(D.Z.ol[d+1][0]-D.Z.ol[d][0]));0>c&&(f*=-1);return new D.R(d,f)};
D.Od=function(b,c,d,e,f,g,h){this.Init(b,c,d,e,f,g,h)};D.F.o(D.Od,D.$c,"DvtMapControlButton");D.Od.prototype.Init=function(b,c,d,e,f,g,h){D.Od.q.Init.call(this,b,e,g);this.y_=f;this.Ib=c;this.Ga=h;(0,D.Nc)(this.Ib,this.Eqa,this);this.Ib.setCursor("pointer");b=0==this.y_?this.hb().lea:1==this.y_?this.hb().kea:2==this.y_?this.hb().mea:D.r;b=new D.Oc(this,D.r,D.r,D.r,D.r,D.r,b);this.Ga.ma(this.Ib,b);this.k(this.Ib);this.uha=d;this.sga=D.o};
D.Od.prototype.Tg=function(b){this.B(b?1:0.4);this.Ib.setCursor(b?"pointer":D.r);this.sga=b;this.Ib.Tg(b);(0,D.jd)(this.Ib)};D.Od.prototype.Eqa=function(b){(0,D.Pc)(b);this.sga&&this.uha&&this.uha()};
D.rb=function(b,c,d,e,f,g,h,k){this.Init(b,c,d,e,f,g,h,k)};D.F.o(D.rb,D.Ec,"DvtThematicMapControlPanel");D.rb.prototype.Init=function(b,c,d,e,f,g,h,k){D.rb.q.Init.call(this,b,f,d,g,h,k);this.$k(new D.gv(g));this.Nj=c;this.Uh=d;this.Rva=e[0];this.Pva=e[1];this.Nza=e[2];this.qy=this.sy=this.nT=D.r;this.Xea=this.Wea=D.u;this.D=k.ls()};D.ub=function(b,c){b.Wea=c;b.qy&&b.qy.Tg(c)};D.vb=function(b,c){b.Xea=c;b.sy&&b.sy.Tg(c)};
D.rb.prototype.$k=function(b){D.rb.q.$k.call(this,b);this.qy&&this.qy.$k(b);this.sy&&this.sy.$k(b);this.nT&&this.nT.$k(b)};
D.rb.prototype.WI=function(b){if(this.Nj&&"none"!=this.Nj){var c=(0,D.Mc)(this.D,"buttonWidth",0);this.nT=D.L.HBa(this.e,this.Nza,this.aa,this.hb(),this.Uh,this.Ga,this.D);b.k(this.nT);this.qy=D.L.uBa(this.e,this.Pva,this.aa,this.hb(),this.Uh,this.Ga,this.D);this.qy.F(c);this.qy.Tg(this.Wea);b.k(this.qy);this.sy=D.L.vBa(this.e,this.Rva,this.aa,this.hb(),this.Uh,this.Ga,this.D);this.sy.F(2*c);this.sy.Tg(this.Xea);b.k(this.sy)}};
D.gv=function(b){this.Init(b)};D.F.o(D.gv,D.Fc,"DvtThematicMapControlPanelResources");D.gv.prototype.Init=function(b){D.gv.q.Init.call(this,b);b?(this.lea=b.pdu,this.kea=b.pdd,this.mea=b.res):(this.lea="Show Control Panel (/)",this.kea="Hide (/)",this.mea="Zoom and Center (Ctrl+Alt+0)")};
});