define(["ojs/ojcore","jquery","jqueryui"],function(b,e){function a(a,b){this.uP=function(){return a};this.bQ=function(){return b}}function d(a,b,c,d,l){var m=void 0;Object.defineProperty(b,c,{get:function(){if(c===a.LB)return m||{};if(void 0!==m&&!e.isPlainObject(m))return m;var b=d(l?l():c);return e.isPlainObject(b)?e.widget.extend({},b||{},m||{}):void 0===m?b:m},set:function(a){m=a},enumerable:!0})}b.Components={};o_("Components",b.Components,b);b.Components.sE=function(a){b.Components.ay=e.widget.extend(b.Components.ay||
{},a)};o_("Components.setDefaultOptions",b.Components.sE,b);b.Components.gD=function(){return b.Components.ay||{}};o_("Components.getDefaultOptions",b.Components.gD,b);b.Components.NC=function(b){return new a(b,!0)};o_("Components.createDynamicPropertyGetter",b.Components.NC,b);b.Components.ju=function(a,b){var d=e(a);if(null==b){var k=d.data(c);k&&(b=k[0])}return null!=b&&(k=d[b],"function"===typeof k)?k.bind(d):null};o_("Components.getWidgetConstructor",b.Components.ju,b);b.Components.wn="data-oj-container";
var c="oj-component-names";e.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:void 0},refresh:function(){this.Zs=null},EG:function(){var a=this.options.rootAttributes;if(a){var b=this.widget();if(null!=b){var c=a["class"];c&&b.addClass(c);if(c=a.style){var d=b.attr("style");d?b.attr("style",d+";"+c):b.attr("style",c)}a=e.extend({},a);delete a["class"];delete a.style;b.attr(a)}}},_create:function(){this.xw(this.element);this.Of();this.Kc();this.Bk()},_getCreateOptions:function(){var c=
{},d={};this.ww(d);for(var g in d)c[g]=new a(d[g]);d=[];for(g=this.constructor.prototype;null!=g&&g.widgetName;)d.push(g.widgetName),g=Object.getPrototypeOf(g);d.push("default");g=b.Components.gD();for(var k=d.length;0<=k;k--){var l=g[d[k]];void 0!==l&&(c=e.widget.extend(c,l))}return c},Of:function(){this.NB()},Kc:function(){this.activeable=e();this.NB();var a=this.element,b=this.widgetName,d=a.data(c);d||(d=[],a.data(c,d));0>d.indexOf(b)&&d.push(b)},Bk:function(){this.EG();this.Qt=this.eventNamespace+
"contextMenu";this.MB()},xw:function(a){var b=this;this.it=[];e.each(a,function(a,c){var d={},f=c.attributes;b.it.push({element:c,attributes:d});e.each(f,function(a,b){var f=b.name,h={attr:b.value};h.prop=e(c).prop(f);d[f]=h})})},mn:function(a){var b=this.it;a=a[0];for(var c=0,d=b.length;c<d;c++){var e=b[c];if(e.element===a)return e.attributes}return{}},BG:function(){e.each(this.it,function(a,b){var c=e(b.element),d=b.attributes;if(1===c.length){for(var l=b.element.attributes,m=[],n=0,q=l.length;n<
q;n++)l[n].name in d||m.push(l[n].name);n=0;for(q=m.length;n<q;n++)c.removeAttr(m[n]);for(var r in d)c.attr(r,d[r].attr)}})},ww:function(a){var c=this.Hv(),d=b.L.Zt(c)||{},e;for(e in d)a[e]=function(a){return b.L.Zt(c)[a]}},Hv:o_c("widgetFullName"),l:function(a,c){var d={},e;2<arguments.length?d=Array.prototype.slice.call(arguments,1):2==arguments.length&&(d=arguments[1],"object"===typeof d||d instanceof Array||(d=[d]));e=this.options[a];return null==e?a:b.L.nb(e.toString(),d)},getNodeBySubId:function(a){return null==
a||null==a.subId?this.element?this.element[0]:null:null},getSubIdByNode:o_d(null),destroy:function(){this.iC();this._super();this.widget().removeClass("oj-disabled");this.hoverable.removeClass("oj-hover");this.focusable.removeClass("oj-focus");this.activeable.removeClass("oj-active");var a=this.element,b=this.widgetName,d=a.data(c);d&&(b=d.indexOf(b),0<=b&&(d.splice(b,1),0===d.length&&a.removeData(c)))},option:function(a,b){var c;if(0<arguments.length&&"string"===typeof a&&void 0!==b){var d=a.indexOf(".");
0<d&&(this.LB=a.substring(0,d))}try{c=this._superApply(arguments)}finally{return this.LB=null,c}},_setOption:function(a,b){"disabled"===a?(this.options[a]=b,this.widget().toggleClass("oj-disabled",!!b).attr("aria-disabled",b),b&&(this.hoverable.removeClass("oj-hover"),this.focusable.removeClass("oj-focus"),this.activeable||(this.activeable=e()),this.activeable.removeClass("oj-active"))):(this._super(a,b),"contextMenu"===a&&this.MB());return this},MB:function(){this.iC();var a=this.options.contextMenu;
a||(a=this.element.attr("contextmenu"))&&(a="#"+a);a&&(a=e(a).data("oj-ojMenu"));if(a){var b=this;this.Vz().on("keydown"+this.Qt+" contextmenu"+this.Qt,function(c){return"contextmenu"===c.type||121==c.which&&c.shiftKey?(b.eg(a,c),!1):!0})}},iC:function(){this.Vz().off(this.Qt)},eg:function(a,b){a.show(b,{launcher:this.element,focus:"menu"})},Vz:function(){var a=this.widget();return a?a:e()},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){e(a.currentTarget).addClass("oj-hover")},
mouseleave:function(a){e(a.currentTarget).removeClass("oj-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){e(a.currentTarget).addClass("oj-focus")},focusout:function(a){e(a.currentTarget).removeClass("oj-focus")}})},Hq:function(a){this.activeable=this.activeable.add(a);this._on(a,{mousedown:function(a){e(a.currentTarget).addClass("oj-active")},mouseup:function(a){e(a.currentTarget).removeClass("oj-active")}})},ek:function(a){return this.options[a]},
xc:function(){return"rtl"===document.documentElement.dir?"rtl":"ltr"},uJ:function(){if(!this.Zs){var a={};this.Zs=a;for(var c=this.element[0],d=[];c;){var e=c.getAttribute,e=e?e.call(c,b.Components.wn):null;null!=e&&d.push(e);c=c.parentNode}a.containers=d}return this.Zs},NB:function(){function c(){return h.uJ()}var h=this,g=this.options,k;for(k in g){var l=g[k];if("undefined"!==typeof l&&l instanceof a){var m=l.uP();e.isFunction(m)?(delete g[k],d(this,g,k,m,l.bQ()?c:void 0)):b.F.error("Dynamic getter for property %s is not a function",
k)}}}});b.ta=function(a,b,c){e.widget(a,b,c);if("oj.oj"===a.substring(0,5)||"oj._oj"===a.substring(0,6)){b=a.split(".");a=b[0];b=b[1];var d=a+"-"+b;e.expr[":"][("_"===b.substring(0,1)?"_"+a+"-"+b.substring(3):a+"-"+b.substring(2)).toLowerCase()]=function(a){return!!e.data(a,d)}}};b.xa={};b.xa.FF="\\x3chtml\\x3e";b.xa.EF="\\x3c/html\\x3e";b.xa.ZF={SPAN:1,B:1,A:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1};b.xa.YF={"class":1,style:1,href:1};b.xa.dQ=function(a){return 0===a.indexOf(b.xa.FF)&&
a.lastIndexOf(b.xa.EF)===a.length-7?!0:!1};b.xa.UO=function(a){var c=e(document.createElement("span")).get(0);(c.innerHTML=a)&&0<=a.indexOf("\\x3c")&&b.xa.Ax(c);return c};b.xa.Ax=function(a){for(var c=a.childNodes,d,k,l,m,n,q=c.length-1;0<=q;)if(d=c.item(q),1===d.nodeType){if(b.xa.ZF[d.nodeName])for(k=d.attributes,n=k.length-1;0<=n;n--)l=k[n],(m=void 0!==e(d).attr(l))&&(b.xa.YF[l.name]||d.removeAttribute(l.nodeName));b.xa.Ax(d)}else a.removeChild(d)};b.xa.aQ=function(a,c){b.f.ue(a);b.f.ue(c);for(var d=
c.parentNode;d;){if(d==a)return!0;d=d.parentNode}return!1};b.xa.sm=function(a,c){b.f.ue(a);b.f.ue(c);return c==a?!0:b.xa.aQ(a,c)};b.xa.eh=function(a,c){var d=e(a),k=d.data(b.xa.xn);null==k&&(k=new b.xa.AG(a),d.data(b.xa.xn,k),k.start());k.addListener(c)};b.xa.Lm=function(a,c){var d=e(a),k=d.data(b.xa.xn);null!=k&&(k.removeListener(c),k.isEmpty()&&(k.stop(),d.removeData(b.xa.xn)))};b.xa.tL=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,
0)}).bind(window);b.xa.AG=function(a){this.So=jQuery.Callbacks();this.addListener=function(a){this.So.add(a)};this.removeListener=function(a){this.So.remove(a)};this.isEmpty=function(){return this.So.empty()};this.start=function(){var b=a.childNodes[0];this.re=document.createElement("div");this.re.className="oj-helper-detect-resize";var c=document.createElement("div");this.re.appendChild(c);a.insertBefore(this.re,b);this.fp=this.ps.bind(this);this.re.addEventListener("scroll",this.fp,!1);this.Ig=
document.createElement("div");this.Ig.className="oj-helper-detect-resize";c=document.createElement("div");c.style.width="200%";c.style.height="200%";this.Ig.appendChild(c);a.insertBefore(this.Ig,b);this.Ig.addEventListener("scroll",this.fp,!1);this.Kq(this.re.offsetWidth,this.re.offsetHeight)};this.stop=function(){this.re.removeEventListener("scroll",this.fp);this.Ig.removeEventListener("scroll",this.fp);a.removeChild(this.re);a.removeChild(this.Ig)};this.ps=function(a){a.stopPropagation();a=this.re;
var c=a.offsetWidth,d=a.offsetHeight;if(this.lM!=c||this.kM!=d){this.qB=2;this.Kq(c,d);var f=this.So;b.xa.tL(function(){f.fire(c,d)})}else 0<this.qB&&(0==a.scrollLeft||0==a.scrollTop)&&(this.qB--,this.Kq(c,d))};this.Kq=function(a,b){this.lM=a;this.kM=b;var c=this.re.firstChild;c.style.width=a+1+"px";c.style.height=b+1+"px";this.re.scrollLeft=1;this.re.scrollTop=1;this.Ig.scrollLeft=a;this.Ig.scrollTop=b}};b.xa.xn="_ojResizeTracker";b.Ka=function(a){this.Init(a)};b.a.ga(b.Ka,b.a,"oj.ComponentMessaging");
b.Ka.ld={NONE:"none",$m:"notewindow",xk:"placeholder"};b.Ka.sq={};b.Ka.Iu=function(a,c){a&&"function"===typeof c&&(b.Ka.sq[a]=c)};b.Ka.prototype.Init=function(a){b.Ka.j.Init.call(this);this.Ca=a;this.Nk=!1;this.rL()};b.Ka.prototype.dh=function(a,c){var d=this;b.f.sd(c);this.Nk?this.JM(a,c):(e.each(this.vi,function(b,e){e.dh(d.Ca,a,c)}),this.Nk=!0)};b.Ka.prototype.update=function(a){b.f.sd(a);b.f.BC(this.Nk);this.Nk&&e.each(this.vi,function(b,c){c.update(a)})};b.Ka.prototype.ih=function(a){b.f.sd(a);
e.each(this.vi,function(b,c){c.ih(a)});this.Nk=!1;this.vi={}};b.Ka.prototype.Xn=function(a,c){return new (b.Ka.sq[a]||b.Ka.sq.none)(c)};b.Ka.prototype.ez=function(){var a={},c=!1,d=this.Ca.options.placeholder,k,l={},m=this;e.each(this.Ca.options.messagingDisplayOptions||{},function(a,f){c=!1;k=a+"";Array.isArray(f)?e.each(f,function(a,b){c||(c=m.mB(k,b,d,l))}):"string"===typeof f&&(c||(c=m.mB(k,f,d,l)));c||(l[k]=b.Ka.ld.NONE)});e.each(b.Ka.ld,function(b,c){a[c]=[]});e.each(l,function(b,c){a[c].push(b)});
return a};b.Ka.prototype.mB=function(a,c,d,e){var l=!1;switch(c){case b.Ka.ld.xk:"converterHint"!==a||(l||d)||(e[a]=c,l=!0);break;default:l||(e[a]=c,l=!0)}return l};b.Ka.prototype.rL=function(){var a=this.ez(),c=a[b.Ka.ld.$m],d=a[b.Ka.ld.NONE],a=a[b.Ka.ld.xk],e={};0<c.length&&(e[b.Ka.ld.$m]=this.Xn(b.Ka.ld.$m,c));0<a.length&&(e[b.Ka.ld.xk]=this.Xn(b.Ka.ld.xk,a));0<d.length&&(e[b.Ka.ld.NONE]=this.Xn(b.Ka.ld.NONE,d));this.vi=e};b.Ka.prototype.JM=function(a,b){var c=this.ez(),d,l=this;e.each(c,function(c,
e){d=l.vi[c];e&&0<e.length?d?d&&d.yQ(e,b):(d=l.Xn(c,e),l.vi[c]=d,d.dh(l.Ca,a,b)):d&&(d.ih(b),delete l.vi[c])})};b.Ra=function(a){this.Init(a)};b.Ka.Iu(b.Ka.ld.NONE,b.Ra);b.Ra.yn="oj-invalid";b.Ra.zn="oj-warning";b.a.ga(b.Ra,b.a,"oj.MessagingStrategy");b.Ra.prototype.Init=function(a){b.f.Ft(a);b.Ra.j.Init.call(this);this.ao=a};b.Ra.prototype.dh=function(a,b,c){this.Xa=b;this.Ca=a;this.pC(c)};b.Ra.prototype.update=function(a){this.pC(a);a=this.Xa;var c=this.gv(),d=[],e=[],l=!1,m=this.Ca.widget();a&&
(this.XE()?this.jv()&&c===b.C.Ja.WARNING?(d.push(b.Ra.yn),e.push(b.Ra.zn)):(d.push(b.Ra.yn),d.push(b.Ra.zn)):(d.push(b.Ra.zn),e.push(b.Ra.yn),l=!0),m.removeClass(d.join(" ")).addClass(e.join(" ")),a.attr({"aria-invalid":l}))};b.Ra.prototype.ih=function(){this.Ca.widget().removeClass(b.Ra.yn).removeClass(b.Ra.zn);this.Xa.removeAttr("aria-invalid").removeAttr("aria-describedby");this.Ca=this.Xa=null};b.Ra.prototype.yQ=function(a,b){this.Init(a);this.update(b)};b.Ra.prototype.hv=function(){return this.fq().DP()};
b.Ra.prototype.gv=function(){return this.fq().hm()};b.Ra.prototype.fv=function(){var a=[],b=this.El.converterHint;b&&a.push(b);return a};b.Ra.prototype.WE=function(){var a=[];e.each(this.El.validatorHint||[],function(b,c){a.push(c)});return a};b.Ra.prototype.VE=function(){return this.El.title||""};b.Ra.prototype.fq=function(){return this.El.validityState};b.Ra.prototype.jv=function(){var a=this.hv();return a&&0<a.length?!0:!1};b.Ra.prototype.jF=function(){return-1!==this.ao.indexOf("messages")?!0:
!1};b.Ra.prototype.iq=function(){return-1!==this.ao.indexOf("converterHint")?!0:!1};b.Ra.prototype.pv=function(){return-1!==this.ao.indexOf("validatorHint")?!0:!1};b.Ra.prototype.lF=function(){return-1!==this.ao.indexOf("title")?!0:!1};b.Ra.prototype.XE=function(){return this.fq().isValid()};b.Ra.prototype.pC=function(a){this.El=e.extend(this.El||{},a)};b.le=function(a){this.Init(a)};b.Ka.Iu(b.Ka.ld.xk,b.le);b.a.ga(b.le,b.Ra,"oj.PlaceholderMessagingStrategy");b.le.prototype.Init=function(a){b.le.j.Init.call(this,
a)};b.le.prototype.dh=function(a,c,d){b.le.j.dh.call(this,a,c,d);this.QA()};b.le.prototype.update=function(a){b.le.j.update.call(this,a);this.QA()};b.le.prototype.ih=function(a){b.le.j.ih.call(this,a)};b.le.prototype.QA=function(){var a=this.Xa;this.Ca.widget();if(this.kF()&&a&&(a=this.fv(),a=a.length?a[0]:"")){var b={};b.placeholder=a;b._oj_messaging_update=!0;this.Ca.option(b)}};b.le.prototype.kF=function(){return this.iq()};b.yg=function(a,b,c){this.Init(a,b,c)};b.a.ga(b.yg,b.a,"oj.ComponentValidity");
b.yg.prototype.Init=function(a,c,d){b.yg.j.Init.call(this);this.uC=a;this.Ns=c;this.dA=d};b.yg.prototype.isValid=o_c("uC");b.yg.prototype.DP=function(){return this.Ns?this.Ns:[]};b.yg.prototype.hm=o_c("dA");b.yg.prototype.update=function(a,b,c){this.uC=a;this.Ns=b;this.dA=c};b.Ak={};o_("Test",b.Ak,b);b.Ak.ready=!1;o_("Test.ready",b.Ak.ready,b);b.Ak.nP=function(a){var c=a;if(b.pb.Ce(a))try{c=e.parseJSON(a)}catch(d){return null}return c&&c.element&&(a=e(c.element))?b.Components.ju(a[0],c.component)("getNodeBySubId",
{subId:c.subId}):null};o_("Test.domNodeForLocator",b.Ak.nP,b);e(document).ready(function(){var a=e("\x3cdiv style\x3d'border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs\x3d);'\x3e\x3c/div\x3e"),b;a.appendTo("body");b=a.css("backgroundImage");a.css("borderTopColor")!=a.css("borderRightColor")&&(null==b||"none"!=b&&"url (invalid-url:)"!=b)||e("body").addClass("oj-hicontrast");a.remove()});
e(document).ready(function(){"Microsoft Internet Explorer"==navigator.appName&&e("html").addClass("oj-slow-borderradius oj-slow-cssgradients oj-slow-boxshadow")});b.Qi={};b.Qi.dE=function(a,c){b.f.sd(a,"position");for(var d=e.extend({},a),k=0;k<b.Qi.tv.length;k++){var l=b.Qi.tv[k],m=d[l];m&&(d[l]=m.replace("start",c?"right":"left").replace("end",c?"left":"right"))}return d};b.Qi.tv=["my","at"]});
//# sourceMappingURL=oj-modular.map