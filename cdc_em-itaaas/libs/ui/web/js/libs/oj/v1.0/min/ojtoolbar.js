define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(b,e){(function(){function a(a,b){var f=a.name,h=a.form;f?(f=f.replace(/'/g,"\\'"),f=":radio[name\x3d'"+f+"']:oj-button",h=b?b.filter(f):h?e(h).find(f):e(f,a.ownerDocument).filter(function(){return!this.form})):h=(b?b.filter(a):e(a)).filter(":oj-button");return h}b.ta("oj.ojToolbar",e.oj.baseComponent,{version:"1.0.0",vs:"button, input[type\x3dbutton], input[type\x3dsubmit], input[type\x3dreset], input[type\x3dcheckbox], input[type\x3dradio], a",
widgetEventPrefix:"oj",options:{},_create:function(){this.element.addClass("oj-toolbar oj-component").attr("role","toolbar");this.kb(!0);this._super()},ag:function(a,b){a.show(b,{launcher:this.element.find(":oj-button[tabindex\x3d0]"),focus:"menu"})},_setOption:function(a,b){"disabled"===a&&this.Zb.ojButton("option",a,b);this._super(a,b)},refresh:function(){this._super();this.kb(!1)},kb:function(a){var b=this;this.rm="rtl"===this.xc();this.Zb=this.element.find(this.vs).unbind("keydown"+this.eventNamespace).bind("keydown"+
this.eventNamespace,function(a){b.ds(a,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(){e(this).ojButton("option","disabled")||b.li(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(){b.li(e(this))});this.Ff=this.Zb.filter(function(){return!e(this).ojButton("option","disabled")});this.ks(a)},ks:function(a){var b=e(this.ci);this.ci=void 0;this.Zb.attr("tabindex","-1");a=a||!b.is(this.Ff)?this.Ff.first():b;this.li(a)},
zs:function(b){var c=this.Ff;return b.map(function(b,d){if("radio"!=d.type||d.checked||""==d.name)return d;var e=a(d,c).filter(":checked");return e.length?e[0]:d})},li:function(a){a=this.zs(a);var b=a[0],f=this.ci;b!==f&&(e(f).attr("tabindex","-1"),a.attr("tabindex","0"),this.ci=b)},ds:function(a,b){switch(a.which){case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:a.preventDefault();var f=this.Ff,h=f.length;if(2>h)break;var g=f.index(b);f.eq((g+(a.which==e.ui.keyCode.RIGHT^this.rm?1:-1)+h)%h).focus();
break;case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:"radio"==b.attr("type")&&a.preventDefault()}},_destroy:function(){this.element.removeClass("oj-toolbar oj-component").removeAttr("role");this.Zb.attr("tabindex","0").map(function(){return e(this).ojButton("widget")[0]})}})})()});
//# sourceMappingURL=oj-modular.map