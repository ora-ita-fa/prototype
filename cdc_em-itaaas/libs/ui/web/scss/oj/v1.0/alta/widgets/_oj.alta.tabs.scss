@import "../../utilities/oj.utilities";

$includeTabsClasses: $includeAllClasses !default;

// include dependencies
@if $includeTabsClasses != false {
  $includeIconClasses: true !global;
}

@import "../../common/helpers/oj.common.helpers"; 
@import "oj.alta.icons";


$paddingEnd: 8px !default;


@if $includeTabsClasses != false {
  @include exports("tabs") {

    /* tabs */
    /* --------------------------------------------------------------- */

    /*
     * applied to the Tab bar
     */
    .oj-tabs-nav {
      white-space: nowrap;
      margin: 0;
      padding: 0;
      border: 0;
    }

    /*
     * applied to the horizontal Tab
     * line-height is for the height of the Tab Bar
     */
    .oj-tabs-conveyor > .oj-tabs-nav > .oj-tabs-default,
    .oj-tabs > .oj-tabs-nav > .oj-tabs-default {
      line-height:2;
      list-style: none;
      position: relative;
      top: 0;
      margin: 0;
      font-size: $fontSize;
      font-family: $fontFamily;
      border: 0;
      border-top: $tabsNavBorderWidthSelected solid transparent;
      @include oj-border-radius($tabsNavBorderRadius $tabsNavBorderRadius 0 0);
      white-space: nowrap;
      display: inline-block;
    }

    /*
     * Container of the horizontal Tab bar
     */
    .oj-tabs-conveyor {
      display: inline-block;
    }

    /*
     * applied to the conveyorbelt buttons
     */
    .oj-tabs-conveyorbelt .oj-conveyorbelt-start-overflow-indicator {
      @include oj-ltr() {
        margin-right: 5px;
      }
      @include oj-rtl() {
        margin-left: 5px;
      }
    }
    .oj-tabs-conveyorbelt .oj-conveyorbelt-end-overflow-indicator {
      @include oj-ltr() {
        margin-left: 5px;
      }
      @include oj-rtl() {
        margin-right: 5px;
      }
    }

    /*
     * applied to tab title text
     * display inline so the close icon is aligned with the title text
     */
    .oj-tabs-title {
      display:inline;
      min-width: 12px;
      vertical-align: middle;
      font-weight: normal;
      font-size: $fontSize;
      color: $tabsNavTextColor;
      text-decoration: none;
    }

    .oj-tabs-nav > .oj-tabs-default .oj-tabs-anchor {
      cursor: pointer;
      outline:none;
      padding-right: $paddingEnd;
      padding-left: $paddingEnd;
    }

    /*
     * applied to tab title text when it's overflow
     */
    .oj-tabs-title-overflow {
      display: inline-block;
      overflow: hidden; 
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    /*
     * applied to tab title text when it's selected
     */
    .oj-tabs-default.oj-tabs-active .oj-tabs-title {
      font-weight: bold;
    }

    /*
     * applied to the tab title when it's hovered
     */
    .oj-tabs-default.oj-hover .oj-tabs-title {
      text-decoration: underline;
    }

    /*
     * applied to the tab title text when it's disabled
     */
    .oj-tabs-default.oj-disabled .oj-tabs-title {
      // todo: add support for opacity
      color: $linkTextColorDisabled;
      cursor: text;
      text-decoration: none;
    }

    /* suppress all browser decorations of anchors in the tab */
    .oj-tabs-default a,
    .oj-tabs-default a:active,
    .oj-tabs-default a:visited,
    .oj-tabs-default a:hover,
    .oj-tabs-default a:focus {
      text-decoration: none;
    }

    /*
     * applied to the panel body
     */
    .oj-tabs-panel {
      display: block;
      padding: $panelPadding;
      color: $textColor;
      background-color: $tabsContentBgColor;
      border: 1px solid $tabsContentBorderColor;
      @include oj-border-radius($largeBorderRadius);
      margin-top: -1px;
    }

    /*
     * applied to the tabs
     */
    .oj-tabs {
      position: relative;
      /* position: relative prevents IE scroll bug 
    (element with position: relative inside container with overflow: auto appear as "fixed")
       */
      padding: 0;
      background-color: transparent;
      border: 0;
/*      display: table; */
    }


    /*
     * applied to the horizontal tab when it is NOT selected
     * used to reduce the size jumps between selected and un-selected.
     */
    .oj-tabs-nav > .oj-tabs-default > .oj-tabs-tab-content {
      white-space: nowrap;
      padding-top: 4px;
      padding-bottom: 3px;
      border-style: solid;
      border-width: 1px 1px 0 1px;
      border-color: $tabsNavBorderColor;
      @include oj-border-radius($tabsNavBorderRadius $tabsNavBorderRadius 0 0);
      background-color: $tabsNavBgColor;
    }


    /*
     * applied to the horizontal tab when it is selected
     */
    .oj-tabs-conveyor > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active > .oj-tabs-tab-content,
    .oj-tabs > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active > .oj-tabs-tab-content {
      border-color: $tabsNavAccentBorderColorSelected;
      background-color: $tabsNavBgColorSelected;
      border-top: 0;
    }

    .oj-tabs-conveyor > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active,
    .oj-tabs > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active {
      border-top-color: $tabsNavBorderColorSelected;
      background-color: $tabsNavBgColorSelected;
      z-index:1;
    }


    /* close icon for tabs */
    /* -----------------------------*/

    .oj-tabs-close-icon:before {
      @extend .oj-fwk-icon-cross:before;
    }

    /*
     * close icon style
     */
    .oj-tabs-close-icon {
      overflow: hidden;
      cursor: pointer;
      text-align: center;
      vertical-align: middle;
      font-size: 0.65rem;
      line-height: 20px;
      width: 22px;
      height: 22px;
      margin-top: 2px;

      @include oj-ltr() {
        margin-left: -$paddingEnd;
      }
      @include oj-rtl() {
        margin-right: -$paddingEnd;
      }
    }

    /*
     * close icon styles for vertical tabs
     */
    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default .oj-tabs-close-icon {
      @include oj-ltr() {
        float: right;
      }
      @include oj-rtl() {
        float: left;
      }
    }


    /* vertical tabs */
    /* --------------------------------------------------------------- */

    .oj-tabs-vertical {
      background-color: transparent;
    }

    /*
     * applied to the vertical Tab bar
     */
    .oj-tabs-vertical > .oj-tabs-nav {
      margin: 0;
      padding: 0;
      padding-top: 15px;
    //  width: set in javascript

      @include oj-ltr() {
        float: left;
      }
      @include oj-rtl() {
        float: right;
      }
    }


    /*
     * applied to the vertical Tab
     */
    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default {
      line-height:2;
      list-style: none;
      position: relative;
      top: 0;
      margin: 0;
      white-space: nowrap;
      border: 0;
      font-size: $fontSize;
      font-family: $fontFamily;
      background: transparent;

      @include oj-ltr() {
        float: left;
        clear: left;
      }
      @include oj-rtl() {
        float: right;
        clear: right;
      }
    }

    /*
     * applied to the vertical tab when it is NOT selected
     */
    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default > .oj-tabs-tab-content {
      border-right: 0;
      border-left: 0;
      border-top: 1px solid transparent;
      border-bottom: 1px solid transparent;
    }

    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default {
      border-top: 0;
      background-color: transparent;
      @include oj-ltr() {
        left: 0;
        border-left: $tabsNavBorderWidthSelected solid transparent;
      }
      @include oj-rtl() {
        right: 0;
        border-right: $tabsNavBorderWidthSelected solid transparent
      }
    }


    /*
     * applied to the vertical tab when it is selected
     */
    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active:before {
      content: ".";
      font-size: 0;
      position: absolute;
    }

    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active > .oj-tabs-tab-content {
      border-top-color: $tabsNavAccentBorderColorSelected;
      border-bottom-color: $tabsNavAccentBorderColorSelected;
    }

    .oj-tabs-vertical > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active {
      background-color: $tabsNavBgColorSelected;
      z-index:1;

      @include oj-ltr() {
        border-left-color: $tabsNavBorderColorSelected;
      }
      @include oj-rtl() {
        border-right-color: $tabsNavBorderColorSelected;
      }
    }

    /*
     * applied to the body of vertical tabs
     */
    .oj-tabs-vertical > .oj-tabs-panel {
      position:relative;
      margin-top: 0;
    // min-height and margin-left(or margin-right): set in javascript
    }


    /* vertical tabs when all tabs have a title icon */
    /* --------------------------------------------------------------- */

    /*
     * applied to the icons only vertical Tab
     */
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default {
      background-color: $tabsNavIconOnlyBgColor;
      @include oj-ltr() {
        left: 0;
        border-left: 1px solid $tabsNavIconOnlyBorderColor;
      }
      @include oj-rtl() {
        right: 0;
        border-right: 1px solid $tabsNavIconOnlyBorderColor;
      }
    }

    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active {
      background-color: $tabsNavBgColorSelected;
    }

    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active.oj-hover {
      background-color: $tabsNavBgColorSelected;
    }

    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default > .oj-tabs-tab-content {
      padding: 8px;
      border-top: 0;
      border-bottom: 0;
    }

    /*
     * The first Tab in a tabs 
     * display all borders and put radius on top border
     */
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default:first-child {
      border: 1px solid $tabsNavIconOnlyBorderColor;
      @include oj-border-top-left-radius($mediumBorderRadius, $textDirection:ltr);
      @include oj-border-top-right-radius($mediumBorderRadius, $textDirection:rtl);
      @include oj-ltr() {
        border-right:0;
      }
      @include oj-rtl() {
        border-left:0;
      }
    }

    /*
     * The middle Tabs in a tabs 
     * display bottom and left borders and without any radius
     */
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default {
      margin-top: 0; 
      border: 1px solid $tabsNavIconOnlyBorderColor;
      border-top: 0;
      @include oj-ltr() {
        border-right:0;
      }
      @include oj-rtl() {
        border-left:0;
      }
    }

    /*
     * The last Tab in a tabs 
     * display bottom and left borders and put radius on bottom border
     */
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default:last-child {
      @include oj-border-bottom-left-radius($mediumBorderRadius, $textDirection:ltr);
      @include oj-border-bottom-right-radius($mediumBorderRadius, $textDirection:rtl);
      @include oj-ltr() {
        border-right:0;
      }
      @include oj-rtl() {
        border-left:0;
      }
    }

    /*
     * applied to the icon
     */
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default .oj-tabs-anchor {
      padding-right: 0;
      padding-left: 0;
    }
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default.oj-tabs-hover .oj-tabs-title,
    .oj-tabs-vertical.oj-tabs-icons-only > .oj-tabs-nav > .oj-tabs-default.oj-tabs-active .oj-tabs-title {
      font-weight: normal;
    }


  }
}
