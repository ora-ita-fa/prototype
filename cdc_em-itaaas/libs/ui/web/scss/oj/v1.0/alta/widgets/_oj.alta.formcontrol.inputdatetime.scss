@import "../../utilities/oj.utilities";

$includeInputDateTimeClasses:   $includeFormControlClasses !default;

// include dependencies
@if $includeInputDateTimeClasses != false {
  $includeIconClasses:              true !global;
  $includeNoteWindowClasses:        true !global;
  $includeButtonClasses:            true !global;
  $includeLabelClasses:             true !global;
  $includeMessagingClasses:         true !global;
  $includeFormControlCommonClasses: true !global;
  $includeComboboxClasses:			    true !global;
}

@import "../../common/helpers/oj.common.helpers"; 
@import "oj.alta.icons";
@import "oj.alta.button";
@import "oj.alta.messaging";
@import "oj.alta.formcontrol.label";
@import "oj.alta.formcontrol.common";

//Need to look similar to combobox, so share the CSS
@import "oj.alta.formcontrol.combobox";

// most of the styling for the field is in common file
@import "../../common/widgets/oj.common.formcontrol.inputdatetime";

@if $includeInputDateTimeClasses != false {
  @include exports("inputdatetime") {

    /* Class for the root node that contains the floating calendar */
    .oj-datepicker-content 
    { 
      @include oj-box-sizing-property(border-box);
      background-color: $popupBgColor;
      border: $formControlBorderWidth solid $popupBorderColor; 
      display: none;
      padding: 5px 3px 0 4px;
      z-index: $dropdownZindex;
      width: $formControlLargeMaxWidth;
      // todo: the year dropdown is cutting off text on chrome on mac, might need to be bigger?
      @include oj-rtl()
      {
        direction: rtl;
      }
    }

    .oj-datepicker-header 
    { 
      position: relative; 
      padding: 1px 0;
      background: none;
      border: 0;
      color: $headerTextColor;
      font-weight: $headerFontWeight;
    }
    .oj-datepicker-prev-icon, 
    .oj-datepicker-next-icon 
    { 
      position: absolute; 
      top: 2px;
    }
	
    //positioned absolutely so need to include it. Thought about making code change, but it is rather impactful
    .oj-datepicker-prev-icon 
    { 
      @include oj-ltr()
      {
        left: 2px; 
      }
      @include oj-rtl()
      {
        right: 2px;
      }
    }
    .oj-datepicker-next-icon
    { 
      @include oj-ltr()
      {
        right: 2px;
      }
      @include oj-rtl()
      {
        left: 2px;
      }
    }
	
    .oj-datepicker-title 
    { 
      //decreased the margin slightly for chrome on mac
      margin: 0 2.2em; 
      line-height: 1.8em; 
      text-align: center; 
    }
	
    .oj-datepicker-title select 
    { 
      font-size: $fontSize; 
      margin: 1px 0;
    }
	
    .oj-datepicker-month-year 
    {
      width: 100%;
    }
	
    .oj-datepicker-month 
    {
      margin-right: 3px;
    }
	
    .oj-datepicker-month, 
    .oj-datepicker-year 
    { 
      width: 48%;
      min-width: 0;
    }
	
    .oj-datepicker-calendar 
    {
      width: 100%; 
      font-size: $fontSize;
      border-collapse: collapse; 
      margin: 0 0 4px;
      outline: 0 none;
    }
	
    .oj-datepicker-calendar th,
    .oj-datepicker-calendar td 
    {
      border: 0;
      text-align: center; 
      font-weight: bold;
    }

    .oj-datepicker-calendar th 
    { 
      padding: .7em .3em; 
      text-transform: uppercase;
      font-size: $smallFontSize;
      color: $tertiaryTextColor;
    }

    .oj-datepicker-calendar td 
    {     
      padding: 0;
    }

    .oj-datepicker-calendar td span, 
    .oj-datepicker-calendar td a 
    { 
      display: block; 
      padding: 5px 0 4px;
      text-align: center;
    }

    .oj-datepicker-calendar td a.oj-enabled
    {
      background: none;
      border: $formControlBorderWidth solid $formControlBgColorReadOnly;
      color: $textColor;
      font-weight: bold;
    }
    .oj-datepicker-calendar td a.oj-hover 
    {
      text-decoration: underline;
    }
    .oj-datepicker-calendar td a.oj-selected 
    {
      background: $datepickerBgColorSelected; 
      color: $contrastTextColor; 
    }
    .oj-datepicker-calendar td.oj-disabled span 
    { 
      color: $linkTextColorDisabled;
    }

    //Today
    .oj-datepicker-today
    {
      border: $formControlBorderWidth solid $datepickerBorderColorToday; 
      text-decoration: none;
    }

    .oj-datepicker-buttonpane 
    { 
      @include oj-box-sizing-property(border-box);
      
      margin: 2px 0 0;    
      padding: 0 3px;
      // below is to add the border around the button pane area [contains Today + Done buttons
      border: $formControlBorderWidth solid $popupBorderColor; 
      border-width: $formControlBorderWidth 0 0;
      
      display: inline-block;
      width: 100%;
      @include oj-rtl()
      { 
        clear: right; 
      }
    }
    .oj-datepicker-buttonpane button 
    { 
      margin: 7px 0;
      padding: 0 7px; 
      width: auto; 
      overflow: visible;
    }
	
    //Float the buttons using the include
    .oj-datepicker-current 
    {
      @include oj-bidi-property($property: 'float', $startOrEnd: start);
    }
    .oj-datepicker-close
    {
      @include oj-bidi-property($property: 'float', $startOrEnd: end);
    }

    /* with multiple calendars, need to override the width */
    .oj-datepicker-content.oj-datepicker-multi 
    { 
      width: auto; 
    }
    .oj-datepicker-multi .oj-datepicker-group 
    { 
      @include oj-bidi-property($property: 'float', $startOrEnd: start);
    }
    .oj-datepicker-multi .oj-datepicker-group .oj-datepicker-calendar 
    { 
      width: 95%; 
      margin: 0 auto .4em; 
    }
    .oj-datepicker-multi-2 .oj-datepicker-group 
    { 
      width: 50%; 
    }
    .oj-datepicker-multi-3 .oj-datepicker-group 
    { 
      width: 33.3%; 
    }
    .oj-datepicker-multi-4 .oj-datepicker-group 
    { 
      width: 25%; 
    }
    .oj-datepicker-multi .oj-datepicker-group-last .oj-datepicker-header,
    .oj-datepicker-multi .oj-datepicker-group-middle .oj-datepicker-header 
    { 
      @include oj-ltr()
      {
        border-left-width: 0;
      }
      @include oj-rtl()
      {
        border-right-width: 0; 
      }
    }
    .oj-datepicker-multi .oj-datepicker-buttonpane 
    { 
      clear: left; 
    }
    .oj-datepicker-row-break 
    { 
      clear: both; 
      width: 100%; 
      font-size: 0; 
    }

    .oj-datepicker-unselectable 
    {
      opacity: 0.35;
    }
	
    //CSS when one navigates over the days
    .oj-datepicker-days-cell-over 
    {
      outline: $formControlBorderWidth dotted #145c9e;
    }
	
    //CSS for the week columns
    .oj-datepicker-week-col 
    {
      color: $formControlLabelColor;
    }
    th.oj-datepicker-week-col 
    {
      background-color: $background5Color;
    }
    td.oj-datepicker-week-col 
    {
      background-color: $background4Color;
    }

    //CSS to be applied when of inline, so to allow separation with the time picker
    .oj-datepicker-inline 
    {
      margin-bottom: 6px;
    }

    // icons
    //------------------------------------------

    .oj-datepicker-prev-icon:before 
    {
      @include oj-ltr()
      {
        @extend .oj-fwk-icon-caret-w:before;
      }
      
      @include oj-rtl()
      {
        @extend .oj-fwk-icon-caret-e:before;
      }
    }

    .oj-datepicker-next-icon:before 
    {
      @include oj-ltr()
      {
        @extend .oj-fwk-icon-caret-e:before;
      }

      @include oj-rtl()
      {
        @extend .oj-fwk-icon-caret-w:before;
      }
    }
  }
}