
@import "oj.utilities.mixins.bidi";



//*****************************************************************************
//
// Usage Example:
//
//      .oj-foo .oj-binky {
//       
//        @include oj-border-radius(0 $buttonBorderRadius $buttonBorderRadius 0);
//      }
//
//  Usage in conjunction with rtl below. 
//
//      .oj-foo .oj-binky {
//       
//        @include oj-border-radius($buttonBorderRadius, $textDirection: ltr);
//        @include oj-border-radius($buttonBorderRadius, $textDirection: rtl); 
//
//        @include oj-ltr() {
//          border-right:0;
//        }
//        @include oj-rtl() {
//          border-left:0;
//        }
//      }
//*****************************************************************************

@mixin oj-border-radius-property ($borderRadiusProperty, $borderRadiusValue, $textDirection:null)
{
  @if ($borderRadiusGeneration != none)
  {
    @if ($textDirection == ltr)
    {
      @include oj-ltr() {
        #{$borderRadiusProperty}: $borderRadiusValue;
      }
    }
    @else if ($textDirection == rtl)
    {
      @include oj-rtl() {
        #{$borderRadiusProperty}: $borderRadiusValue;
      }
    }
    @else {
      #{$borderRadiusProperty}: $borderRadiusValue;
    }


    @if ($borderRadiusGeneration == slowOverride) {
      // we don't need to write any override out if the border radius is 0
      $borderRadiusValueZero: false;
      
      // check if there's even a 0 in there
      @if (str-index(inspect($borderRadiusValue), "0") != null)
      {
        $borderRadiusValueZero: true;
        
        @for $i from 1 through length($borderRadiusValue)
        {
          $val: nth($borderRadiusValue,$i);

          @if ($val != 0) {
            $borderRadiusValueZero: false;
          }
        }       
      }

      @if ($borderRadiusValueZero == false) {
        html.oj-slow-borderradius & {
          #{$borderRadiusProperty}: 0;
        }
      }
    }
  }
}



@mixin oj-border-radius ($borderRadiusValue, $textDirection:null)
{
  @include oj-border-radius-property("border-radius", $borderRadiusValue, $textDirection)
}

@mixin oj-border-top-left-radius ($borderRadiusValue, $textDirection:null)
{
  @include oj-border-radius-property("border-top-left-radius", $borderRadiusValue, $textDirection)
}

@mixin oj-border-top-right-radius ($borderRadiusValue, $textDirection:null)
{
  @include oj-border-radius-property("border-top-right-radius", $borderRadiusValue, $textDirection)
}

@mixin oj-border-bottom-left-radius ($borderRadiusValue, $textDirection:null)
{
  @include oj-border-radius-property("border-bottom-left-radius", $borderRadiusValue, $textDirection)
}

@mixin oj-border-bottom-right-radius ($borderRadiusValue, $textDirection:null)
{
  @include oj-border-radius-property("border-bottom-right-radius", $borderRadiusValue, $textDirection)
}
