<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/resources/css/libs/oj/v1.0/alta/oj-alta.css" id="css">
        <link rel="stylesheet" href="/resources/css/samples/site/alta/demo-alta-site-min.css" id="sitecss" >
        <link rel="stylesheet" href="/analytics/css/analytics-all.css">
        <script src="/resources/js/libs/require/require.js"></script>
        <script src="/resources/js/main.js"></script>
    </head>
    <body>
        <div>Chart with custom tooltip</div>
        <div id="chart" 
             data-bind='
            ojComponent: {
                component: "ojChart",
                type: "line",        
                series:  [{name : "Series 1", items : [74, 62, 70, 76, 66]},
                          {name : "Series 2", items : [50, 38, 46, 54, 42]},
                          {name : "Series 3", items : [34, 22, 30, 32, 26]},
                          {name : "Series 4", items : [18,  6, 14, 22, 10]},
                          {name : "Series 5", items : [3,  2,  3,  3,  2]}],
                groups:  ["Group A", "Group B", "Group C", "Group D", "Group E"],
                styleDefaults:{
                    valueTooltipType: "auto",
                    groupTooltipType: "none",
                    seriesTooltipType: "auto"
                }, 
                valueFormats:[
                    {
                        type:"y",
                        converter: {
                            format: function(){
                                console.log(this);
                                console.log(arguments);
                                return "<br/> hello <b>Kitty</b> <i>dear</i> <b>Daniel</b>";
                            }
                        }
                    }
                ]
            }'>
        </div>
        <script>
            require(['ojs/ojcore', 'knockout', 'jquery',
                'ojs/ojknockout', 'ojs/ojcomponents', 'ojs/ojchart', 'jqueryui'
            ], function(oj, ko, $) {
                $(function() {
                    ko.applyBindings(null, $("#chart")[0]);

                    $("rect[width='8'][height='8']").each(function() {
                        var $point = $(this);
                        var $item = $(document.createElementNS("http://www.w3.org/2000/svg", "rect"));
                        $point.after($item);
                        $item.attr("x", $point.attr("x")).attr("y", $point.attr("y"))
                                .attr("height", 20).attr("width", 8).attr("fill", "rgba(150,250,50,0.5)")
                                .attr("role", "img").mouseover(function(){
                                    $(this).attr("fill","rgba(0,0,0,1)");
                                });
                    });
                });
            });
        </script>
    </body>
</html>
