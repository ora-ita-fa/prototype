define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojmodel","ojs/ojdatacollection-common"],function(a,e){a.ma("oj.ojRowExpander",e.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{context:null,indent:10,expand:null,collapse:null},$i:{root:"oj-rowexpander",icon:"oj-widget-icon",clickable:"oj-clickable-icon",expand:"oj-rowexpander-expand-icon",collapse:"oj-rowexpander-collapse-icon",leaf:"oj-rowexpander-leaf-icon",lazyload:"oj-rowexpander-lazyload-icon"},_create:function(){this._super();
this.element.addClass(this.$i.root)},_init:function(){var a=this,b;this._super();this.NE();b=this.options.context;this.aB=b.component;this.Hd=b.datasource;this.aB.nz&&this.aB.nz(this);this.TM=(b.depth-1)*this.options.indent;this.Fg=b.state;this.fC=b.key;this.dL();this.Ir();if("expanded"===this.Fg||"collapsed"===this.Fg)e(this.Oh).on("click",function(){a.Kw()}),e(this.element).on("keypress",function(b){((b.keyCode||b.which)===e.ui.keyCode.ENTER||e.ui.keyCode.SPACE)&&a.Kw()})},refresh:function(){this.element.empty();
this._init()},_destroy:function(){this.removeClass(this.$i.root);this.element.empty()},NE:function(){this.Oh=e("\x3ca\x3e\x3c/a\x3e").addClass(this.$i.icon).addClass(this.$i.clickable);this.element.append(this.Oh)},tp:function(a){this.Oh.addClass(this.$i[a])},Cr:function(a){this.Oh.removeClass(this.$i[a])},Ir:function(){switch(this.Fg){case "leaf":this.tp("leaf");break;case "collapsed":this.tp("expand");this.Fm(!1);break;case "expanded":this.tp("collapse"),this.Fm(!0)}},uz:function(){switch(this.Fg){case "leaf":this.Cr("leaf");
break;case "collapsed":this.Cr("expand");break;case "expanded":this.Cr("collapse")}},handleExpandEvent:function(){this.uz();this.Fg="expanded";this.Ir();this.Fm(!0);this._trigger("expand")},handleCollapseEvent:function(){this.uz();this.Fg="collapsed";this.Ir();this.Fm(!1);this._trigger("collapse")},Kw:function(){"collapsed"===this.Fg?this.Hd.expand(this.fC):"expanded"===this.Fg&&this.Hd.collapse(this.fC)},dL:function(){this._GetReadingDirection();this.element.width(this.element.width()+this.TM+"px")},
Fm:function(a){this.Oh.attr("aria-expanded",a)}})});
//# sourceMappingURL=oj-modular.map