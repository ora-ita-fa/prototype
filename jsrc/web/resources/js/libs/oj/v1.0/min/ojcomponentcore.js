define(["ojs/ojcore","jquery","jqueryui"],function(a,e){function d(a,b){this.AM=function(){return a};this.aN=function(){return b}}function b(a,b,c,d,k){var n=void 0;Object.defineProperty(b,c,{get:function(){if(c===a.cA)return n||{};if(void 0!==n&&!e.isPlainObject(n))return n;var b=d(k?k():c);return e.isPlainObject(b)?e.widget.extend({},b||{},n||{}):void 0===n?b:n},set:function(a){n=a},enumerable:!0})}a.Components={};o_("Components",a.Components,a);a.Components.iC=function(b){a.Components.kw=e.widget.extend(a.Components.kw||
{},b)};o_("Components.setDefaultOptions",a.Components.iC,a);a.Components.oB=function(){return a.Components.kw||{}};o_("Components.getDefaultOptions",a.Components.oB,a);a.Components.bB=function(a){return new d(a,!0)};o_("Components.createDynamicPropertyGetter",a.Components.bB,a);a.Components.DB=function(a,b){var d=e(a);if(null==b){var l=d.data(c);l&&(b=l[0])}return null!=b&&(l=d[b],"function"===typeof l)?l.bind(d):null};o_("Components.getWidgetConstructor",a.Components.DB,a);a.Components.tm="data-oj-container";
var c="oj-widget-names";e.widget("oj.baseComponent",{options:{contextMenu:{menu:null}},refresh:function(){this.xr=null},_create:function(){this.Fr=[];this._SaveAttributes(this.element);this._CreateComponent();this._AfterCreateComponent()},_getCreateOptions:function(){var b={},c={};this.Ku(c);for(var g in c)b[g]=new d(c[g]);c=[];for(g=this.constructor.prototype;null!=g&&g.widgetName;)c.push(g.widgetName),g=Object.getPrototypeOf(g);c.push("default");g=a.Components.oB();for(var l=c.length;0<=l;l--){var k=
g[c[l]];void 0!==k&&(b=e.widget.extend(b,k))}return b},_CreateComponent:function(){this.activeable=e();this.sL();var a=this.element,b=this.widgetName,d=a.data(c);d||(d=[],a.data(c,d));0>d.indexOf(b)&&d.push(b)},_AfterCreateComponent:function(){this.ns=this.eventNamespace+"contextMenu";this.dA()},_SaveAttributes:function(a){var b=this;e.each(a,function(a,c){var f={},d=c.attributes;b.Fr.push({element:c,attributes:f});e.each(d,function(a,b){var d=b.name,h={attr:b.value};h.prop=e(c).prop(d);f[d]=h})})},
xD:function(a){var b=this.Fr;a=a[0];for(var c=0,d=b.length;c<d;c++){var e=b[c];if(e.element===a)return e.attributes}return{}},bO:function(){e.each(this.Fr,function(a,b){var c=e(b.element),d=b.attributes;if(1===c.length){for(var k=b.element.attributes,n=[],m=0,p=k.length;m<p;m++)k[m].name in d||n.push(k[m].name);m=0;for(p=n.length;m<p;m++)c.removeAttr(n[m]);for(var q in d)c.attr(q,d[q].attr)}})},Ku:function(b){var c=this.$t(),d=a.F.ts(c)||{},e;for(e in d)b[e]=function(b){return a.F.ts(c)[b]}},$t:o_c("widgetFullName"),
k:function(b,c){var d={},e;2<arguments.length?d=Array.prototype.slice.call(arguments,1):2==arguments.length&&(d=arguments[1],"object"===typeof d||d instanceof Array||(d=[d]));e=this.options[b];return null==e?b:a.F.bb(e.toString(),d)},getNodeBySubId:function(a){return null==a||a.subId?this.element?this.element[0]:null:null},destroy:function(){this.CA();this._super();this.widget().removeClass("oj-disabled");this.hoverable.removeClass("oj-hover");this.focusable.removeClass("oj-focus");this.activeable.removeClass("oj-active");
var a=this.element,b=this.widgetName,d=a.data(c);d&&(b=d.indexOf(b),0<=b&&(d.splice(b,1),0===d.length&&a.removeData(c)))},option:function(a,b){var c;if(0<arguments.length&&"string"===typeof a&&void 0!==b){var d=a.indexOf(".");0<d&&(this.cA=a.substring(0,d))}try{c=this._superApply(arguments)}finally{return this.cA=null,c}},_setOption:function(a,b){"disabled"===a?(this.options[a]=b,this.widget().toggleClass("oj-disabled",!!b).attr("aria-disabled",b),b&&(this.hoverable.removeClass("oj-hover"),this.focusable.removeClass("oj-focus"),
this.activeable||(this.activeable=e()),this.activeable.removeClass("oj-active"))):(this._super(a,b),"contextMenu"===a&&this.dA());return this},dA:function(){this.CA();var a=this.options.contextMenu;a&&(a=a.menu);a||(a=this.element.attr("contextmenu"));a&&(a=e("#"+a).data("oj-ojMenu"));if(a){var b=this;this.py().on("keydown"+this.ns+" contextmenu"+this.ns,function(c){return"contextmenu"===c.type||121==c.which&&c.shiftKey?(b.zg(a,c),!1):!0})}},CA:function(){this.py().off(this.ns)},zg:function(a,b){a.show(b,
{launcher:this.element,focus:"menu"})},py:function(){var a=this.widget();return a?a:e()},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){e(a.currentTarget).addClass("oj-hover")},mouseleave:function(a){e(a.currentTarget).removeClass("oj-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){e(a.currentTarget).addClass("oj-focus")},focusout:function(a){e(a.currentTarget).removeClass("oj-focus")}})},pp:function(a){this.activeable=
this.activeable.add(a);this._on(a,{mousedown:function(a){e(a.currentTarget).addClass("oj-active")},mouseup:function(a){e(a.currentTarget).removeClass("oj-active")}})},Bs:function(a){return this.options[a]},_GetReadingDirection:function(){return"rtl"===document.documentElement.dir?"rtl":"ltr"},eH:function(){if(!this.xr){var b={};this.xr=b;for(var c=this.element[0],d=[];c;){var e=c.getAttribute,e=e?e.call(c,a.Components.tm):null;null!=e&&d.push(e);c=c.parentNode}b.containers=d}return this.xr},sL:function(){function c(){return h.eH()}
var h=this,g=this.options,l;for(l in g){var k=g[l];if("undefined"!==typeof k&&k instanceof d){var n=k.AM();e.isFunction(n)?(delete g[l],b(this,g,l,n,k.aN()?c:void 0)):a.u.error("Dynamic getter for property %s is not a function",l)}}}});a.ma=function(a,b,c){e.widget(a,b,c);if("oj.oj"===a.substring(0,5)||"oj._oj"===a.substring(0,6)){b=a.split(".");a=b[0];b=b[1];var d=a+"-"+b;e.expr[":"][("_"===b.substring(0,1)?"_"+a+"-"+b.substring(3):a+"-"+b.substring(2)).toLowerCase()]=function(a){return!!e.data(a,
d)}}};a.hP=e.widget("oj.editableValue",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{converter:null,disabled:null,help:{definition:null,source:null},messages:null,messagingDisplayOptions:void 0,pattern:"",required:"",title:"",validators:null,value:null,optionChange:null,rootAttributes:void 0},option:function(a,b){var c,d,k,n=!1,m,p=!1;c=!1;var q=!0,r=!1;if("string"===typeof a&&void 0!==b)switch(a){case "value":n=!0;d=this.options.value;break;case "messages":p=!0;k=this.options.messages||[];
break;case "messagingDisplayOptions":e.extend({},this.options.messagingDisplayOptions);break;case "placeholder":r=!0}else"object"===typeof a&&a&&(void 0!==a.value&&(n=!0,d=this.options.value,c=!0),void 0!==a.messages&&(p=!0,k=this.options.messages,c=!0),a.messagingDisplayOptions&&e.extend({},this.options.messagingDisplayOptions),a.placeholder&&(r=!0,q=a._oj_messaging_update?!1:!0,delete a._oj_messaging_update),c&&(m=a._oj_originalEvent,delete a._oj_originalEvent));c=this._superApply(arguments);n&&
(n=this.options.value,this._ValueEquals(d,n)||this._TriggerOptionChange("value",d,m||null));p&&!this._ValueEquals(k,this.options.messages)&&this._TriggerOptionChange("messages",k,m||null);r&&(q?(this.mp=!0,this.tk()):this.mp=!1);return c},isValid:o_c("Ug"),refresh:function(){this._super();this.uw(!0)},validate:function(a){this.vw(this.options.value,void 0,a?this.tf.Ft:this.tf.$l);return this.isValid()?!0:!1},tf:{tt:1,$l:2,Ft:3,NONE:4},_CreateComponent:function(){this._super()},_AfterCreateComponent:function(){this._super();
this.options.value||(this.options.value=this._GetElementValue());"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this.PF();this.uw(!1);this.tk();this.options.messages||(this.options.messages=[]);this._TriggerOptionChange("messages",[],null);this.widget().addClass("oj-form-control")},_SaveAttributes:function(a){var b=this._superApply(arguments),c=this.xD(a);this.options.required||(this.options.required=
"required"in c&&c.required.prop?"required":"optional");this.options.title||(this.options.title="title"in c?c.title.prop||"":"");this.options.pattern||(this.options.pattern="pattern"in c?c.pattern.prop||"":"");this.options.pattern&&(this._GetDefaultValidators().regExp=this.dH());this.options.placeholder||(this.options.placeholder="placeholder"in c?c.placeholder.prop||"":"",this.mp=!0);e.each(["required","title","pattern"],function(b,d){d in c&&a.removeAttr(d)});return b},_destroy:function(){var a=
this.widget();this.Mv(void 0,!0);this.gh().Dg(this.jh());e.each(this.um,function(){a.removeClass(this.toString())});a.removeClass("oj-form-control");this.element.removeAttr("aria-required");this.lb&&this.lb._ojLabel("destroy");return this._super()},_setOption:function(b,c){var d=this._superApply(arguments),e=!0,k;k=0;switch(b){case "converter":this.lp=null;this.gh().update(this.jh(this.zd.pt));break;case "validators":this._ResetAllValidators();this.gh().update(this.jh(this.zd.Lt));e=!1;break;case "messages":(k=
c&&0!==c.length)?(this.di=0,k=this.tH(),this.Ug=k>=a.t.xa.ERROR?!1:!0):(this.di=0,this.Ug=!0);this.gh().update(this.jh());break;case "messagingDisplayOptions":this.fO=null;this.tk();break;case "pattern":this.np.pattern=c;e=!1;break;case "placeholder":this._SetPlaceholder(c);e=!1;break;case "title":this.gh().update(this.jh(this.zd.Jt))}e&&(this._Refresh(b,c),this.az(b,c),this.jz(b,c));return d},_GetContentElement:o_c("element"),_GetLabelElement:function(){var a=this.Nw(this.element);if(null!==a&&0!==
a.length)return a;a=this.element.prop("id");if(void 0!==a&&(a=e("label[for\x3d'"+a+"']"),0!==a.length))return a;a=this.element.closest("[aria-labelledby]");return 0!==a.length&&(a=this.Nw(a),null!==a&&0!==a.length)?a:null},_GetElementValue:function(){return this.element.val()},_GetMessagingTriggerElement:function(){return this._GetContentElement()},_GetConverter:function(){this.lp||(this.lp=a.uc.getConverterInstance(this.options.converter));return this.lp||null},_GetDefaultValidators:function(){this.Ru||
(this.Ru={});return this.Ru},_GetDisplayValue:function(){return this._GetContentElement().val()},_GetAllValidators:function(){if(!this.Hj){var b=[],c=this.options.validators,d,l=!0,k=this._GetDefaultValidators(),n=[],m,p;for(p in k)k.hasOwnProperty(p)&&n.push(k[p]);b=b.concat(n);if(c){n=[];for(p=0;p<c.length;p++)d=c[p],"object"===typeof d?(d.validate&&"function"===typeof d.validate||(l=!1),l||(m=d.type)&&"string"===typeof m&&((k=a.N.Yf(m))?(d=e.extend({},d.options)||{},d.converter=d.converter||this._GetConverter(),
d.label=d.label||this.Dq(),d=k.createValidator(d)):a.u.error("Unable to locate a validatorFactory for the requested type: "+m)),n.push(d)):a.u.error("Unable to parse the validator provided:"+d);b=b.concat(n)}this.Hj=b}return this.Hj||[]},_ResetAllValidators:function(){this.Hj&&(this.Hj.length=0);this.Hj=null},_IsRequired:function(){return"required"===this.options.required},_HandleChangeEvent:function(a){var b=this._GetDisplayValue();this._SetValue(b,a)},_Refresh:function(a,b,c){switch(a){case "converter":b=
this.options.value;this.cz(b,!0);break;case "value":this.cz(b,c);break;case "required":this.lb&&this.lb._ojLabel("option","required",b);break;case "help":a=this.options.help.definition,b=this.options.help.source,c=this.gv(b),this.lb&&(this.lb._ojLabel("option","describedById",c),this.lb._ojLabel("option","help",{definition:a,source:b}))}},_RefreshAriaRequired:function(a){var b=this._GetContentElement();(a="required"==a?!0:!1)&&b?b.attr("aria-required",a):b.removeAttr("aria-required")},_SetDisplayValue:function(a){this._GetContentElement().val(a)},
_SetValue:function(b,c,d){var e=this.options.value,k=!0;if(void 0===b)return a.u.warn("Attempt to set a value of undefined"),!1;if(this._CanSetValue()){d=d&&d.mt?d.mt:this.tf.tt;if(k=d!==this.tf.NONE)if(b!==this.Tu){if(this.Yz(b),this.Mv(c),b=this.vw(b,c,d),!this.isValid())return!1}else return a.u.zo>a.u.Ng&&a.u.info("Validation was skipped because the display value "+b.toString?b.toString():b+" as the previous."),!1;this._ValueEquals(e,b)?(this.HA(b,c),a.u.zo>a.u.Ng&&a.u.info("The value was not set on the component as it's the same as the current value - "+
b.toString?b.toString():b)):this.VL(b,c)}return!0},_CanSetValue:function(){return this.options.disabled?!1:!0},bi:function(){var a=this.options.rootAttributes;if(a){var b=this.widget(),c=a.id;c&&b.attr("id",c);(c=a["class"])&&b.addClass(c);if(a=a.style)(c=b.attr("style"))?b.attr("style",c+";"+a):b.attr("style",a)}},_SetPlaceholder:function(a){this._GetContentElement().attr("placeholder",a)},_TriggerOptionChange:function(b,c,d){a.f.UA(b,"");c={option:b,previousValue:c,value:this.options[b],optionMetadata:{writeback:"shouldWrite"}};
switch(b){case "messages":this._trigger("optionChange",d||null,c);this.gh().update(this.jh());break;case "value":this._trigger("optionChange",d||null,c)}},_ValueEquals:function(b,c){return a.a.Ph(b,c)},_GetDefaultStyleClass:o_d("oj-editablevalue"),um:{disabled:"oj-disabled",required:"oj-required",readOnly:"oj-read-only"},zd:{uj:1,Mt:2,pt:3,Lt:4,Jt:5},Mv:function(a,b){if(b)this.options.messages=[];else{var c={messages:[]};a&&(c._oj_originalEvent=a);this.option(c)}},uw:function(a){if(a=a||!1)this.lb&&
this.lb._ojLabel("refresh"),this.sK(),this.tk();this._Refresh("value",this.options.value,a);this.az("required",this.options.required);this.jz("required",this.options.required)},uO:o_c("Uu"),tO:o_c("Tu"),Nw:function(a){a=a.attr("aria-labelledby");return void 0!==a?e("label[id\x3d'"+a+"']"):null},PF:function(){if(this.lb=this._GetLabelElement()){var a=this.options.help.definition,b=this.options.help.source,c=this.gv(b);this.lb._ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},
describedById:c,required:this.options.required,help:{definition:a,source:b}})}},gv:function(a){var b=this.element.prop("id")+"Icons";a&&this._GetContentElement().each(function(){var a=e(this).attr("aria-describedby");a?e(this).attr("aria-describedby",a+" "+b):e(this).attr("aria-describedby",b)});return b},Dq:function(){if(this.lb)return this.lb.text()},tH:function(){this.di||(this.di=a.t.gl(this.options.messages));return this.di},RH:function(){if(this.op){var b=e.extend([],this.options.messages);
this.op.update(this.Ug,b,this.di)}else"undefined"===typeof this.Ug&&(this.Ug=!0),this.op=new a.ComponentValidity(this.Ug,this.options.messages,this.di);return this.op},tk:function(){var a=this.gh(),b=this._GetMessagingTriggerElement(),c=this.jh(this.zd.uj);this.mp||(this.options.placeholder="");a.activate(b,c)},iL:o_b("Uu"),Yz:o_b("Tu"),TL:function(b,c){var d=this.options.messages.slice(),e={};a.f.Hb(b,a.t);d.push(b);e.messages=d;c&&(e._oj_originalEvent=c);this.option(e)},VL:function(a,b){var c={};
c.value=a;b&&(c._oj_originalEvent=b);this.option(c)},vw:function(a,b,c){var d=a;try{c===this.tf.tt&&(d=this.My(a)),this.XL(d,c===this.tf.Ft)}catch(e){this.Uy(e,b)}return d},TG:function(b){var c=b,d=this._GetConverter();d&&"object"===typeof d&&(d.format&&"function"===typeof d.format?c=d.format(b):a.u.zo>a.u.Ng&&a.u.info("converter does not support the format method."));return c},gh:function(){this.Pu||(this.Pu=new a.Wa(this));return this.Pu},Zw:function(){var b;this.Qu={label:this.Dq()};return(b=a.N.Yf(a.Sb.VALIDATOR_TYPE_REQUIRED))?
b.createValidator(this.Qu):null},dH:function(){var b;this.np={pattern:this.options.pattern,label:this.Dq()};return(b=a.N.Yf(a.Sb.VALIDATOR_TYPE_REGEXP))?b.createValidator(this.np):null},lH:function(a){var b,c=[];b="";var d;this._IsRequired()&&(b=this.Nx(a),b||(b=this.Zw(),b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b)));for(d=0;d<a.length;d++)b=a[d],"object"===typeof b&&b.getHint&&"function"===typeof b.getHint&&(b=b.getHint())&&c.push(b);return c},jh:function(a){var b={},c=this._GetConverter(),
d=[];a=a||this.zd.Mt;if(a===this.zd.uj||a===this.zd.Mt)b.validityState=this.RH();(a===this.zd.uj||a===this.zd.pt)&&c&&"object"===typeof c&&c.getHint&&"function"===typeof c.getHint&&(c=c.getHint())&&(b.converterHint=c);if(a===this.zd.uj||a===this.zd.Lt)c=this._GetAllValidators(),d=this.lH(c),0<d.length&&(b.validatorHint=d);(a===this.zd.uj||a===this.zd.Jt)&&this.options.title&&(b.title=this.options.title);return b},Nx:function(b){var c=null,d,e=null;for(d=0;d<b.length;d++)if(c=b[d],c instanceof a.kc){e=
c;break}return e},My:function(b){var c=this._GetConverter(),d=b;c&&"object"===typeof c&&(c.parse&&"function"===typeof c.parse?d=c.parse(b):a.u.zo>a.u.Ng&&a.u.info("converter does not support the parse method."));return d},Uy:function(b,c){var d,e,k,n={};b instanceof a.Gc||b instanceof a.yd?(d=b.hj(),a.f.Hb(d,a.t),k=d.severity,e=d.summary,d=d.detail):(k=a.t.xa.ERROR,e=a.F.k("oj-message.error"),d=b.message||a.F.k("oj-converter.detail"));n.summary=e;n.severity=k;n.detail=d;this.TL(n,c)},az:function(a,
b){this._GetContentElement();switch(a){case "required":this._RefreshAriaRequired(b)}},cz:function(a,b){var c=a||this.options.value,d;d=this.Uu;(b||c!==d)&&this.HA(c)},sK:function(){this.np={};this.Qu={};this._ResetAllValidators()},jz:function(a,b){this.um.hasOwnProperty(a)&&("required"!==a?this.widget().toggleClass(this.um[a],!!b):this.widget().toggleClass(this.um[a],"required"===b))},HA:function(a,b){var c;this.iL(a);c=a;try{c=this.TG(a)}catch(d){this.Uy(d,b)}this.Yz(c);this._SetDisplayValue(c)},
WO:o_a(),XL:function(b,c){if(this.Ug){var d=this._GetAllValidators(),e,k,n=!1;this._IsRequired()&&((e=this.Nx(d))||(e=this.Zw()),e.validate(b),n=!0);if(!c)for(k=0;k<d.length;k++)e=d[k],"object"===typeof e&&(e.validate&&"function"===typeof e.validate?e instanceof a.kc&&n||e.validate(b):a.u.zo>a.u.Ng&&a.u.info("validator does not support the validate method."))}}});a.Components.iC({editableValue:{messagingDisplayOptions:a.Components.bB(function(){return{messages:["notewindow"],converterHint:["placeholder",
"notewindow"],validatorHint:["notewindow"],title:["notewindow"]}})}});a.ma("oj.inputBase",e.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_EVENT_LIST:[{type:"blur",Ds:"_HandleSetValue"},{type:"keydown",Ds:function(a){a.keyCode===e.ui.keyCode.ENTER&&(this._HandleSetValue(a),a.preventDefault(),a.stopPropagation())}},{type:"paste",Ds:"_HandleSetValue"}],options:{readOnly:null},getNodeBySubId:function(a){return null==a?this.element?this.element[0]:
null:null},mm:o_c("_EVENT_LIST"),_HandleSetValue:function(a){this._SetValue(this._GetDisplayValue(),a)},_GetSubId:function(a){return this.uuid+"_"+a},_IsRTL:function(){return"rtl"===this._GetReadingDirection()},_DoWrapElement:o_c("_WIDGET_CLASS_NAMES"),_create:function(){this._DoWrapElement()&&this.YL();this.bi();var a=this._superApply(arguments);this._CLASS_NAMES&&this.element.addClass(this._CLASS_NAMES);this.fK();this.eK();this.options.disabled&&this.disable();"boolean"!==typeof this.options.readOnly?
this.options.readOnly=!!this.element.prop("readonly"):this.element.prop("readonly",this.options.readOnly);return a},YL:function(){e(this.element).wrap(e("\x3cdiv\x3e").addClass(this._WIDGET_CLASS_NAMES));this.$L=this.element.parent()},fK:function(){for(var a=this.mm(),b=0,c=a.length;b<c;b++){var d=e.proxy(function(){var c=a[b].Ds;return function(a){function b(a,c,d){if(e.isFunction(a))a.apply(c,d);else if("string"===typeof a)c[a](d)}if(c)if(e.isArray(c))for(var d=0,f=c.length;d<f;d++)b(c[d],this,
arguments);else b(c,this,arguments)}}(),this);this.element.on(a[b].type,d)}},eK:function(){this.Dr=[];for(var a=this._ATTR_CHECK,b=0,c=a.length;b<c;b++){var d=a[b].attr,e=this.element.is("["+d+"]"),n="setMandatory"in a[b],m=this.element.attr(d);e?n&&m!=a[b].setMandatory&&(this.Dr.push({process:"setAttr",param:{attr:d,val:m}}),this.element.attr(d,a[b].setMandatory)):n&&(this.Dr.push({process:"removeAttr",param:{attr:d}}),this.element.attr(d,a[b].setMandatory))}},_destroy:function(){for(var a=this._superApply(arguments),
b=this.mm(),c=this.Dr,d=0,e=b.length;d<e;d++)this.element.off(b[d].type);this.widget().removeClass(this._CLASS_NAMES);for(d=c.length-1;-1<d;d--)switch(e=c[d].param||{},b=e.attr,e=e.val,c[d].process){case "setAttr":this.element.attr(b,e);break;case "removeAttr":this.element.removeAttr(b)}this._DoWrapElement()&&this.element.unwrap();return a},_setOption:function(a,b){this._super(a,b);"disabled"===a&&this.element.attr("disabled",b);"readOnly"===a&&this.element.prop("readonly",!!b)},widget:function(){return this._DoWrapElement()?
this.$L:this.element}});a.ComponentValidity=function(a,b,c){this.h(a,b,c)};a.a.aa(a.ComponentValidity,a.a,"oj.ComponentValidity");a.ComponentValidity.prototype.h=function(b,c,d){a.ComponentValidity.j.h.call(this);this.as=b;this.Pn=c;this.or=d};a.ComponentValidity.prototype.isValid=o_c("as");a.ComponentValidity.prototype.getMessages=function(){return this.Pn?this.Pn:[]};a.ComponentValidity.prototype.gl=o_c("or");a.ComponentValidity.prototype.update=function(a,b,c){this.as=a;this.Pn=b;this.or=c};a.ComponentValidity.prototype.dO=
function(){return{messages:e.extend([],this.Pn),valid:this.as,maxSeverity:this.or}};a.Wa=function(a){this.h(a)};a.a.aa(a.Wa,a.a,"oj.ComponentMessaging");a.Wa.Zc={NONE:"none",Xl:"notewindow",zj:"placeholder"};a.Wa.prototype.h=function(b){a.Wa.j.h.call(this);this.yb=b;this.Kj=!1;this.$I()};a.Wa.prototype.activate=function(b,c){var d=this;a.f.sd(c);this.Kj?this.oK(b,c):(e.each(this.Fh,function(a,e){e.activate(d.yb,b,c)}),this.Kj=!0)};a.Wa.prototype.update=function(b){a.f.sd(b);a.f.SA(this.Kj);this.Kj&&
e.each(this.Fh,function(a,c){c.update(b)})};a.Wa.prototype.Dg=function(b){a.f.sd(b);e.each(this.Fh,function(a,c){c.Dg(b)});this.Kj=!1;this.Fh={}};a.Wa.prototype.Um=function(b,c){var d=null;switch(b){case a.Wa.Zc.Xl:d=new a.tb(c);break;case a.Wa.Zc.zj:d=new a.Td(c);break;case a.Wa.Zc.NONE:d=new a.Ga(c)}return d};a.Wa.prototype.px=function(){var b={},c=!1,d=this.yb.options.placeholder,l,k={},n=this;e.each(this.yb.options.messagingDisplayOptions||{},function(b,f){c=!1;l=b+"";Array.isArray(f)?e.each(f,
function(a,b){c||(c=n.Gz(l,b,d,k))}):"string"===typeof f&&(c||(c=n.Gz(l,f,d,k)));c||(k[l]=a.Wa.Zc.NONE)});e.each(a.Wa.Zc,function(a,c){b[c]=[]});e.each(k,function(a,c){b[c].push(a)});return b};a.Wa.prototype.Gz=function(b,c,d,e){var k=!1;switch(c){case a.Wa.Zc.zj:"converterHint"!==b||(k||d)||(e[b]=c,k=!0);break;default:k||(e[b]=c,k=!0)}return k};a.Wa.prototype.$I=function(){var b=this.px(),c=b[a.Wa.Zc.Xl],d=b[a.Wa.Zc.NONE],b=b[a.Wa.Zc.zj],e={};0<c.length&&(e[a.Wa.Zc.Xl]=this.Um(a.Wa.Zc.Xl,c));0<b.length&&
(e[a.Wa.Zc.zj]=this.Um(a.Wa.Zc.zj,b));0<d.length&&(e[a.Wa.Zc.NONE]=this.Um(a.Wa.Zc.NONE,d));this.Fh=e};a.Wa.prototype.oK=function(a,b){var c=this.px(),d,k=this;e.each(c,function(c,e){d=k.Fh[c];e&&0<e.length?d?d&&d.rN(e,b):(d=k.Um(c,e),k.Fh[c]=d,d.activate(k.yb,a,b)):d&&(d.Dg(b),delete k.Fh[c])})};a.Ga=function(a){this.h(a)};a.Ga.wm="oj-invalid";a.Ga.xm="oj-warning";a.a.aa(a.Ga,a.a,"oj.MessagingStrategy");a.Ga.prototype.h=function(b){a.f.ds(b);a.Ga.j.h.call(this);this.Xm=b};a.Ga.prototype.activate=
function(a,b,c){this.Gh=b;this.yb=a;this.IA(c)};a.Ga.prototype.update=function(b){this.IA(b);b=this.Gh;var c=this.xt(),d=[],e=[],k=!1,n=this.yb.widget();b&&(this.NC()?this.At()&&c===a.t.xa.WARNING?(d.push(a.Ga.wm),e.push(a.Ga.xm)):(d.push(a.Ga.wm),d.push(a.Ga.xm)):(d.push(a.Ga.xm),e.push(a.Ga.wm),k=!0),n.removeClass(d.join(" ")).addClass(e.join(" ")),b.attr({"aria-invalid":k}))};a.Ga.prototype.Dg=function(){this.yb.widget().removeClass(a.Ga.wm).removeClass(a.Ga.xm);this.Gh.removeAttr("aria-invalid").removeAttr("aria-describedby");
this.yb=this.Gh=null};a.Ga.prototype.rN=function(a,b){this.h(a);this.update(b)};a.Ga.prototype.yt=function(){return this.Ro().getMessages()};a.Ga.prototype.xt=function(){return this.Ro().gl()};a.Ga.prototype.wt=function(){var a=[],b=this.Dk.converterHint;b&&a.push(b);return a};a.Ga.prototype.MC=function(){var a=[];e.each(this.Dk.validatorHint||[],function(b,c){a.push(c)});return a};a.Ga.prototype.LC=function(){return this.Dk.title||""};a.Ga.prototype.Ro=function(){return this.Dk.validityState};a.Ga.prototype.At=
function(){var a=this.yt();return a&&0<a.length?!0:!1};a.Ga.prototype.$C=function(){return-1!==this.Xm.indexOf("messages")?!0:!1};a.Ga.prototype.Vo=function(){return-1!==this.Xm.indexOf("converterHint")?!0:!1};a.Ga.prototype.Ht=function(){return-1!==this.Xm.indexOf("validatorHint")?!0:!1};a.Ga.prototype.bD=function(){return-1!==this.Xm.indexOf("title")?!0:!1};a.Ga.prototype.NC=function(){return this.Ro().isValid()};a.Ga.prototype.IA=function(a){this.Dk=e.extend(this.Dk||{},a)};a.Td=function(a){this.h(a)};
a.a.aa(a.Td,a.Ga,"oj.PlaceholderMessagingStrategy");a.Td.prototype.h=function(b){a.Td.j.h.call(this,b)};a.Td.prototype.activate=function(b,c,d){a.Td.j.activate.call(this,b,c,d);this.ez()};a.Td.prototype.update=function(b){a.Td.j.update.call(this,b);this.ez()};a.Td.prototype.Dg=function(b){a.Td.j.Dg.call(this,b)};a.Td.prototype.ez=function(){var a=this.Gh;this.yb.widget();if(this.aD()&&a&&(a=this.wt(),a=a.length?a[0]:"")){var b={};b.placeholder=a;b._oj_messaging_update=!0;this.yb.option(b)}};a.Td.prototype.aD=
function(){return this.Vo()};a.tb=function(a){this.h(a)};a.a.aa(a.tb,a.Ga,"oj.NoteWindowMessagingStrategy");a.tb.prototype.h=function(b){a.tb.j.h.call(this,b)};a.tb.prototype.activate=function(b,c,d){a.tb.j.activate.call(this,b,c,d);this.UI();this.update(d)};a.tb.prototype.update=function(b){a.tb.j.update.call(this,b)};a.tb.prototype.Dg=function(b){this.Gh.off("mouseleave",this.Lx).off("focusin",this.kA).off("focusout",this.Rx);this.xG();a.tb.j.Dg.call(this,b)};a.tb.prototype.kA=function(){e(this).tooltip("enable").tooltip("open")};
a.tb.prototype.Rx=function(){e(this).tooltip("disable").tooltip("close")};a.tb.prototype.Lx=function(a){a.preventDefault();a.stopImmediatePropagation();return!1};a.tb.prototype.UI=function(){var a=this;if(!this.ky()){var b=this.Gh;this.yb.widget();this.Vr=b.tooltip({position:{my:"left+14 bottom",at:"right top",of:b,using:function(a,b){e(this).css(a);e("\x3cdiv\x3e").addClass("arrow").addClass(b.vertical).addClass(b.horizontal).appendTo(this)}},open:o_a(),close:o_a(),content:function(){return a.lF()},
items:b}).off("mouseover mouseout").on("mouseleave",{target:e(this)},a.Lx).on("focusout",{target:e(this)},a.Rx).on("focusin",{target:e(this)},a.kA)}};a.tb.prototype.xG=function(){this.ky()&&this.Vr&&this.Vr.tooltip("destroy");this.Vr=null};a.tb.prototype.lF=function(){var a="",b=this.yb.document[0],c=[],d=!1,k=this;this.$C()&&c.push(this.kF());(this.Vo()||this.Ht())&&c.push(this.jF(b));this.bD()&&c.push(this.nF(b));e.each(c,function(c,e){e&&(d?a=a.concat(k.LH(b)):d=!0,a=a.concat(e))});return a};a.tb.prototype.kF=
function(){var b,c="",d,e,k,n,m;e=this.xt();var p,q={};b=[];if(this.At()){b=this.yt();for(d=0;d<b.length;d++)m=b[d],m=m instanceof a.t?m:new a.t(m.summary,m.detail,m.severity),n=a.t.ij(m.severity),q[n]||(q[n]=[]),q[n].push(m);for(d=e;d>=a.t.xa.CONFIRMATION;d--)for(b=q[d]||[],e=0;e<b.length;e++)m=b[e],a.f.Hb(m,a.t),n=a.t.ij(m.severity),k=this.NH(n),p=m.summary||k,m=m.detail||"",c=c.concat("\x3cdiv class\x3d'oj-message'\x3e").concat("\x3cspan class\x3d'"+this.MH(n)+"' title\x3d'"+k+"' role\x3d'img'\x3e\x3c/span\x3e").concat("\x3cspan class\x3d'oj-message-content'\x3e").concat("\x3cdiv class\x3d'oj-message-summary'\x3e"+
p+"\x3c/div\x3e"),m&&(c=c.concat("\x3cdiv class\x3d'oj-message-detail'\x3e"+m+"\x3c/div\x3e")),c=c.concat("\x3c/div\x3e")}return c};a.tb.prototype.jF=function(a){var b=[],c,d;this.Ht()&&(b=b.concat(this.MC()));this.Vo()&&(b=b.concat(this.wt()));if(b&&0<b.length)for(c=e(a.createElement("div")),c.addClass("oj-form-control-hint"),d=0;d<b.length;d++)c.append(this.dx(a,b[d]));return c?c.get(0).outerHTML:""};a.tb.prototype.nF=function(a){var b=this.LC(),c;b&&(c=e(a.createElement("div")),c.addClass("oj-form-control-title"),
c.append(this.dx(a,b)));return c?c.get(0).outerHTML:""};a.tb.prototype.dx=function(b,c){var d=null;a.sa.dN(c)?d=a.sa.oM(c.substring(6,c.length-7)):(d=e(b.createElement("div")),d.text(c),d=d.get(0));return d};a.tb.prototype.LH=function(a){return(a=e(a.createElement("hr")))?a.get(0).outerHTML:""};a.tb.prototype.NH=function(b){var c;switch(b){case a.t.xa.FATAL:c=a.F.k("oj-message.fatal");break;case a.t.xa.ERROR:c=a.F.k("oj-message.error");break;case a.t.xa.WARNING:c=a.F.k("oj-message.warning");break;
case a.t.xa.INFO:c=a.F.k("oj-message.info");break;case a.t.xa.CONFIRMATION:c=a.F.k("oj-message.confirmation")}return c};a.tb.prototype.MH=function(b){var c;switch(b){case a.t.xa.FATAL:c="oj-message-error-icon";break;case a.t.xa.ERROR:c="oj-message-error-icon";break;case a.t.xa.WARNING:c="oj-message-warning-icon";break;case a.t.xa.INFO:c="oj-message-info-icon";break;case a.t.xa.CONFIRMATION:c="oj-message-confirmation-icon"}return"oj-widget-icon "+c};a.tb.prototype.ky=function(){var a=this.Gh;return a?
a.is(":ui-tooltip"):!1};a.sa={};a.sa.zD="\\x3chtml\\x3e";a.sa.yD="\\x3c/html\\x3e";a.sa.RD={SPAN:1,B:1,A:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1};a.sa.QD={"class":1,style:1,href:1};a.sa.dN=function(b){return 0===b.indexOf(a.sa.zD)&&b.lastIndexOf(a.sa.yD)===b.length-7?!0:!1};a.sa.oM=function(b){var c=e(document.createElement("span")).get(0);(c.innerHTML=b)&&0<=b.indexOf("\\x3c")&&a.sa.Hv(c);return c};a.sa.Hv=function(b){for(var c=b.childNodes,d,l,k,n,m,p=c.length-1;0<=p;)if(d=
c.item(p),1===d.nodeType){if(a.sa.RD[d.nodeName])for(l=d.attributes,m=l.length-1;0<=m;m--)k=l[m],(n=void 0!==e(d).attr(k))&&(a.sa.QD[k.name]||d.removeAttribute(k.nodeName));a.sa.Hv(d)}else b.removeChild(d)};a.sa.ZM=function(b,c){a.f.Fd(b);a.f.Fd(c);for(var d=c.parentNode;d;){if(d==b)return!0;d=d.parentNode}return!1};a.sa.pl=function(b,c){a.f.Fd(b);a.f.Fd(c);return c==b?!0:a.sa.ZM(b,c)};a.sa.Zk=function(b,c){var d=e(b),l=d.data(a.sa.vm);null==l&&(l=new a.sa.pE(b),d.data(a.sa.vm,l),l.start());l.addListener(c)};
a.sa.dC=function(b,c){var d=e(b),l=d.data(a.sa.vm);null!=l&&(l.removeListener(c),l.ob()&&(l.stop(),d.removeData(a.sa.vm)))};a.sa.pE=function(a){this.Mn=jQuery.Callbacks();this.addListener=function(a){this.Mn.add(a)};this.removeListener=function(a){this.Mn.remove(a)};this.ob=function(){return this.Mn.empty()};this.start=function(){var b=a.childNodes[0];this.Ad=document.createElement("div");this.Ad.className="oj-helper-detect-resize";var c=document.createElement("div");this.Ad.appendChild(c);a.insertBefore(this.Ad,
b);this.Zn=this.Zq.bind(this);this.Ad.addEventListener("scroll",this.Zn,!1);this.hg=document.createElement("div");this.hg.className="oj-helper-detect-resize";c=document.createElement("div");c.style.width="200%";c.style.height="200%";this.hg.appendChild(c);a.insertBefore(this.hg,b);this.hg.addEventListener("scroll",this.Zn,!1);this.Zu(this.Ad.offsetWidth,this.Ad.offsetHeight)};this.stop=function(){this.Ad.removeEventListener("scroll",this.Zn);this.hg.removeEventListener("scroll",this.Zn);a.removeChild(this.Ad);
a.removeChild(this.hg)};this.Zq=function(a){a.stopPropagation();a=this.Ad.offsetWidth;var b=this.Ad.offsetHeight;if(this.PJ!=a||this.OJ!=b)this.Zu(a,b),this.Mn.fire(a,b)};this.Zu=function(a,b){this.PJ=a;this.OJ=b;var c=this.Ad.firstChild;c.style.width=a+1+"px";c.style.height=b+1+"px";this.Ad.scrollLeft=1;this.Ad.scrollTop=1;this.hg.scrollLeft=a;this.hg.scrollTop=b}};a.sa.vm="_ojResizeTracker";a.Dj={};o_("Test",a.Dj,a);a.Dj.ready=!1;o_("Test.ready",a.Dj.ready,a);a.Dj.uM=function(b){var c=b;if(a.$a.je(b))try{c=
e.parseJSON(b)}catch(d){return null}return c&&c.element&&(b=e(c.element))?a.Components.DB(b[0],c.component)("getNodeBySubId",{subId:c.subId}):null};o_("Test.domNodeForLocator",a.Dj.uM,a);e(document).ready(function(){var a=e("\x3cdiv style\x3d'border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs\x3d);'\x3e\x3c/div\x3e"),b;a.appendTo("body");b=a.css("backgroundImage");a.css("borderTopColor")!=
a.css("borderRightColor")&&(null==b||"none"!=b&&"url (invalid-url:)"!=b)||e("body").addClass("oj-hicontrast");a.remove()});e(document).ready(function(){"Microsoft Internet Explorer"==navigator.appName&&e("html").addClass("oj-slow-borderradius oj-slow-cssgradients oj-slow-boxshadow")})});
//# sourceMappingURL=oj-modular.map